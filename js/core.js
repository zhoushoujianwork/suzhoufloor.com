!function(){var e,t,i,n,o,r,s,a,c,l,u,h,d,f,g,m,p,v,b,y,k,w,S,x,C,T,O,I,E,N,P,M,A,L,D,B,R,_,H,F;(function(){function t(e){var t,i=e.charAt(0).toUpperCase()+e.slice(1);if(e in E.style)return"";for(t=I.length;t--;)if(I[t]+i in E.style)return I[t];return!1}function i(e,t){t||(t=N),P[t]||(P[t]={});var i=P[t][e];return void 0===i&&(i=P[t][e]=t.length?t+e.charAt(0).toUpperCase()+e.substr(1):e[0].toLowerCase()+e.substr(1)),i}function n(e){return 16==e.which||17==e.which||18==e.which||91==e.which?e.which:e.ctrlKey&&17||e.shiftKey&&16||e.altKey&&18||e.metaKey&&91||0}function o(e){var t="right",i="middle";if(void 0!==e.buttons&&0!==e.buttons){if(2==e.buttons)return t;if(4==e.buttons)return i}else{if(2==e.button)return t;if(1==e.button)return i;if(M.mac&&17==n(e))return t}return"left"}function r(){var e,t=[];for(e=I.length;e--;)I[e]!=N&&t.push(I[e]);return N.length&&t.push(""),t}function s(){return T.navigator.language||T.navigator.userLanguage}function a(){return(new Date).getTimezoneOffset()}function c(){return T.innerHeight||(O.documentElement||O.body).clientHeight||0}function l(){return T.innerWidth||(O.documentElement||O.body).clientWidth||0}function u(){return l()<c()?0:90}function h(){return 90===u()}function d(){return T.navigator.userAgent}function f(e,t,i,n){i||(i=O.body),n||(n=O.documentElement);var o=T.getComputedStyle(n),r=T.getComputedStyle(i),s=Math.max(i.offsetHeight,n.offsetHeight,i.clientHeight,n.clientHeight),a=Math.max(i.offsetWidth,n.offsetWidth,i.clientWidth,n.clientWidth);return"hidden"==o.overflowY||"hidden"==r.overflowY||t||(s=Math.max(s,i.scrollHeight,n.scrollHeight)),"hidden"==o.overflowX||"hidden"==r.overflowX||e||(a=Math.max(a,i.scrollWidth,n.scrollWidth)),{width:a,height:s}}function g(){return T.pageYOffset||(O.documentElement||O.body.parentNode||O.body).scrollTop||0}function m(){var e;return void 0!==q?q:(q=0,B.touch||(O.body.insertAdjacentHTML("beforeend",'<div style="visibility:hidden;overflow-y:scroll;">blaah</div>'),e=O.body.lastElementChild,q=e.offsetWidth-e.clientWidth,e.parentNode.removeChild(e)),q)}function p(e,t){if(e&&"fixed"==t)return"fixed"==e||~e.indexOf("sticky")}function v(e){return p(e,"fixed")?M.desktop&&M.safari?"-webkit-sticky":"fixed":e}function b(){return W.screen.width()===W.win.width()}function y(){return W.doc.width(!M.desktop,O.body,O.documentElement)}function k(e){var t=y();return M.phone&&void 0!==e&&(Array.isArray(e)?t=Number(e[h()?1:0]):Number(e)===e&&e>0&&(t=e)),t/W.win.width()}function w(e,t,i){return i||(i=.1),Math.abs(e-t)<=i}function S(){return!!(M.phone&&M.ios&&M.safari)&&(!!h()&&!w(y()/W.screen.width()*W.screen.availHeight(),W.win.height(),1))}function x(){return Math.min(W.screen.width(),W.screen.height())}var C,T=this,O=T.document,I=["Webkit","ms","Moz"],E=O.createElement("div"),N=t("transform"),P={},M={standalone:T.navigator.standalone,retina:T.devicePixelRatio>=1.5},A=T.navigator.userAgent.toLowerCase(),L=/adsbot-google|googlebot|mediapartners-google|googleweblight|google page speed insights|headlesschrome/gi;M.bot=L.test(A);var D=function(){var e=A.match(/(edge)[\s\/:]([\w\d\.]+)/);e||(e=A.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0]),"trident"==e[1]?(e[1]="ie",e[4]&&(e[2]=e[4])):"crios"==e[1]&&(e[1]="chrome");var t;return t=/iemobile|windows phone/i.test(T.navigator.appVersion)?"winphone":A.match(/ip(?:ad|od|hone)/)?"ios":(A.match(/(?:webos|android)/)||A.match(/mac|win|linux|cros/)||["other"])[0],"win"==t&&(t="windows"),{name:"version"==e[1]?e[3]:e[1],version:parseFloat("opera"==e[1]&&e[4]?e[4]:e[2]),platform:t}}();"unknown"!=D.name&&(M[D.name]=!0),M.version=D.version,M.name=D.name,M.platform=D.platform,"ie"==D.name&&O.documentMode&&(M.version=O.documentMode),"BackCompat"==O.compatMode&&(M.quirks=!0,M.version=1),M[D.platform]=!0,M.windows=M.windows||M.winphone,M.mozilla=M.firefox,M.webkit=M.safari||M.chrome,M.webkit&&"webkitAnimation"in E.style&&(N="Webkit"),M.desktop=!(M.android||M.ios||M.winphone),M.android&&(M.tablet=!/mobile/i.test(A),M.genuineAndroid=!/intel/i.test(T.navigator.platform)),M.ios&&(M.tablet=/ipad/i.test(A),E.style.setProperty("-webkit-overflow-scrolling","touch"),M.genuineApple="touch"==E.style.getPropertyValue("-webkit-overflow-scrolling")),M.phone=!M.desktop&&!M.tablet,M.device=M.tablet?"tablet":M.phone?"phone":"desktop";var B={orientationchange:"onorientationchange"in T,threeD:i("perspective")in O.documentElement.style,touch:"ontouchstart"in T||T.navigator.msMaxTouchPoints>0,transform:!1!==N,animation:!1!==t("animationName"),pointer:!!T.PointerEvent,pointerGestures:!!T.MSGesture,pointerEvents:function(e){return"pointerEvents"in e&&(e.pointerEvents="auto",e.pointerEvents="foo","auto"==e.pointerEvents)}(E.style)};M.ie&&M.version<=10&&(B.pointerEvents=!1);var R,_,H="onorientationchange"in T?"orientationchange":"resize",F={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"};for(C in F)if(void 0!==E.style[C]){R=F[C];break}var j={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend"};for(C in j)if(void 0!==E.style[C]){_=j[C];break}var q,U=N.length?"-"+N.toLowerCase()+"-":"",z={language:s,timezoneOffSet:a},V={top:g,pct:function(){var e=f().height-c();return 0===e?100:Math.floor(g()/e*100)}},W={screen:{width:function(){return Math[h()?"max":"min"](T.screen.width,T.screen.height)},height:function(){return Math[h()?"min":"max"](T.screen.width,T.screen.height)},availWidth:function(){return Math[h()?"max":"min"](T.screen.availWidth,T.screen.availHeight)},availHeight:function(){return Math[h()?"min":"max"](T.screen.availWidth,T.screen.availHeight)}},content:{width:0,height:0},win:{width:l,height:c},doc:{dims:f,width:function(e,t,i){return f(e,!0,t,i).width},height:function(e,t,i){return f(!0,e,t,i).height}}},G=O.querySelector("meta[name=viewport], meta[id=viewport]"),J={screenWidth:W.screen.width,screenHeight:W.screen.height,windowWidth:l,windowHeight:c,minimalScreenDimension:x,isAddressBarVisible:S,getDocumentScale:k,getDocumentWidth:y,notScaledMobileContent:b,isPositionValue:p,getPositionValue:v,systemScrollbarWidth:m,is:M,has:B,jsVendor:N,otherVendors:r,cssVendor:U,prefixStyle:i,transitionEnd:R,animationEnd:_,resizeEvent:H,mouseButton:o,isLandscape:h,scroll:V,user:z,userAgent:d};e=function(){if(W.content.width=W.screen.width(),W.content.height=W.screen.height(),!M.desktop&&G&&G.content){var e=G.content.split(",").filter(function(e){if(~e.indexOf("width"))return 1})[0];e&&(e=parseInt(e.split("=")[1],10)),e===Number(e)&&(W.content.width=e,W.content.height=W.screen.height()/(W.screen.width()/e))}return J}()}).call(this),function(){function e(e){var t;return Me.JSON&&(t=l(Ae)),t||(t=this.document.getElementById(Ae),t||this.document.body.insertAdjacentHTML("beforeend","<span id="+Ae+"></span>"),t=this.document.getElementById(Ae)),e&&(Ae=t.id=e),t}function i(){return l(Le)}function n(){return Ie&&Ie.contentWindow||this}function o(e,t){if(e)switch(e.nodeType){case 0:return function(){};case 1:return n().Element.prototype[t];case 9:return n().Document.prototype[t];case 11:return n().DocumentFragment.prototype[t]||function(){};default:return console.warn("unknown node type: "+e.nodeType),function(){}}}function r(e){try{return n().Object.keys(e)}catch(n){console.warn("frame!");var t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=o.length;if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var s,a,c=[];for(s in e)t.call(e,s)&&c.push(s);if(i)for(a=0;a<r;a++)t.call(e,o[a])&&c.push(o[a]);return c}}function s(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function a(){var e,t,i,n,o,r=arguments.length;for(1==r?(t=s(arguments[0]),"array"==t&&(n=[]),"object"==t&&(n={}),o=0):(n=arguments[0],o=1);o<r;o++)if(i=arguments[o],"array"!=(t=s(i))&&"object"!=t)n=i;else for(e in i)t=s(i[e]),n[e]="array"==t||"object"==t?a(n[e]?n[e]:"array"==t?[]:{},i[e]):i[e];return n}function c(e){return e.nodeName?e:Me.getElementsByTagName(Pe,e)[0]}function l(e){return e?e.nodeName?e:Pe.getElementById(e):null}function u(e,t){return t&&!t.nodeName?(console.warn("QSA second argument must be Element",t),[]):Array.prototype.slice.call(Me.querySelectorAll(t||Pe,e))}function h(e,t){return u(e,t)[0]}function d(e){e.stopPropagation?e.stopPropagation():Ne.event&&(Ne.event.cancelBubble=!0)}function f(e){e.preventDefault?e.preventDefault():Ne.event&&(Ne.event.returnValue=!1)}function g(e){return e=e||Ne.event,null===e.which&&(e.which=null!==e.charCode?e.charCode:e.keyCode),e.target||(e.target=e.srcElement||Pe),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e}function m(e){return r(e).length}function p(e,t){var i=Me.getComputedStyle,n=i?i(e,null):null;return n?n[t]:e.currentStyle[t]}function v(e){e&&(e.nodeName||(e=l(e)),e&&e.parentNode&&e.parentNode.removeChild(e))}function b(e){var t,i=Pe.documentElement,n=Pe.body;t=e&&e.nodeName?e.getBoundingClientRect():e||{};var o=(t.top||0)+(i.scrollTop||n&&n.scrollTop)-(i.clientTop||n.clientTop||0),r=(t.left||0)+(i.scrollLeft||n&&n.scrollLeft)-(i.clientLeft||n.clientLeft||0);return{top:o,left:r,right:r+t.width||0,bottom:o+t.height||0,width:t.width||0,height:t.height||0}}function y(e,t){var i,n;return t||(t=0),e.changedTouches&&e.changedTouches.length>t?(i=e.changedTouches[t].pageX,n=e.changedTouches[t].pageY):e.targetTouches&&e.targetTouches.length>t?(i=e.targetTouches[t].pageX,n=e.targetTouches[t].pageY):e.pageX||e.pageY?(i=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(i=e.clientX+Pe.body.scrollLeft+Pe.documentElement.scrollLeft,n=e.clientY+Pe.body.scrollTop+Pe.documentElement.scrollTop),{x:i,y:n}}function k(e,t,i,n,o){function r(){this.lastTime=0,this.timer=0,this.after=this.after.bind(this),this.run=this.run.bind(this),this.a1,this.a2,this.a3}i||(i=Ne),r.prototype={after:function(){t.call(i,this.a1,this.a2,this.a3,3),this.lastTime=0,this.timer=0},run:function(){var r=+new Date,s=n&&!this.lastTime?1:r-this.lastTime>e?2:0;s&&(o||(t.call(i,this.a1,this.a2,this.a3,s),this.lastTime=r),this.timer&&Ne.clearTimeout(this.timer),this.timer=Ne.setTimeout(this.after,1.25*e))},throttle:function(e,t,i){this.a1=e,this.a2=t,this.a3=i,Ne.setTimeout(this.run,0)}};var s=new r;return s.throttle.bind(s)}function w(e){var t,i=Object.prototype.hasOwnProperty;if(e)for(t in e)i.call(e,t)&&(this[t]=e[t])}function S(e,t){for(var i=Array.isArray(t)?t.map(function(e,t){return t}):r(t),n=i.length;n--;)e=e.replace(new RegExp("\\{"+i[n]+"\\}","g"),t[i[n]]);return e.replace(/\{\w*\}/g,"")}function x(e,t,i){if(!e||!e.nodeName)return null;i||(i="beforeend");var n;return"afterbegin"==i?n=e.firstElementChild:"afterend"==i&&(n=e.nextElementSibling),e.insertAdjacentHTML(i,Array.isArray(t)?t.join(""):t),"beforebegin"==i?e.previousElementSibling:"afterbegin"==i?n?n.previousElementSibling:e.lastElementChild:"beforeend"==i?e.lastElementChild:"afterend"==i?n?n.previousElementSibling:e.parentNode.lastElementChild:void 0}function C(e,t){var i=e.parentNode;if(i){var n=Me.createElement.call(Pe,"div");n.innerHTML=t,i.replaceChild(n.children[0],e)}}function T(e){return!/^(NaN|-?Infinity)$/.test(+e)}function O(e){return"function"==s(e)}function I(e,t,i,n){function o(){t&&t.call(n.defaultView,e,i)}n||(n=Pe);var r=Me.createElement.call(n,"script");r.type="text/javascript",r.async=!0,r.defer=!0,i&&(l(i)?o():r.id=i),r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,o())}:r.onload=o,r.src=e,n.head.insertBefore(r,n.head.firstChild)}function E(e){var t,i=0,n={};if(e=e+""||(e=Me.getElementsByTagName("script"))&&e.item(e.length-1).src,(e=([e.split("#")[1]]+"").split("&"))[0])for(;i<e.length;i++)t=e[i].split("=",2),n[t[0]]=t[1]?Me.decodeURIComponent(t[1].replace(/\+/g," ")):void 0;return n}function N(e){var t=Object.prototype.hasOwnProperty;if(!e||0===e.length)return!0;var i=s(e);if("array"!=i){if("object"==i){for(var n in e)if(t.call(e,n))return!1;return!0}return!(e+"").match(/\S/)}}function P(e,t){var i=e;if(!e)return null;for(;i!==e.ownerDocument&&!He(i,t);)i=i.parentNode;return i.ownerDocument?i:null}function M(e){function t(e){return void 0===t.link&&(t.link=Me.createElement.call(Pe,"a")),t.link.href=2==e.split("://").length?e:Ne.location.protocol+"//"+e,String(t.link.host)}return t(e)}function A(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(Ne.location.search||Ne.location.hash);return i?Me.decodeURIComponent(i[1].replace(/\+/g," ")):""}function L(e){return e?(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""}function D(e,t){t||(t=Me.createElement.call(Pe,"div")),t.innerHTML=e||"";for(var i=Me.createDocumentFragment.call(Pe);t.hasChildNodes();)i.appendChild(t.firstChild);return i.childNodes}function B(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function R(e){return B(e).substr(1)}function _(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function H(e){var t=e;t=t.replace("https://",""),t=t.replace("http://",""),t=t.replace("www.",""),t=t.split("/")[0];var i=t.split(".");return t=t.replace("."+i[i.length-1],"")}function F(e,t,i){for(var n=t.split(i||"."),o=e,r=0;r<n.length&&void 0!==(o=o[n[r]]);r++);return o}function j(e,t,i,n){for(var o,r=t.split(n||"."),s=e,a=0;a<r.length;a++)if(o=s,void 0===(s=s[r[a]]))return;o[r[a-1]]=i}function q(e,t){var i=0,n={top:0,bottom:0,left:0,right:0};if(e){var o=t.getComputedStyle(e).boxShadow.split(" ").filter(function(e){return~e.indexOf("px")}).map(function(e){return e.replace(/px/g,"")});3==o.length&&o.push(0),(o[2]||o[3])&&(i=-(-o[3]-Math.ceil(o[2]/2+1)),n.top=i-o[1],n.bottom=-(-i-o[1]),n.left=i-o[0],n.right=-(-i-o[0]))}return n}function U(e){var t=Object.create(null);return(arguments[1]?Array.isArray(arguments[1])?arguments[1]:$(arguments,1):Object.keys(e)).forEach(function(i){i in e&&(t[i]=e[i])}),t}function z(e,t){var i,n=1e4,o=n,r=n,s=-n,a=-n,c=0,l=0,u=Array.prototype.slice.call(Me.querySelectorAll(e,t||"*")).concat(e);return u.forEach(function(e,t){function n(e,t){return parseInt(e.style.getPropertyValue("padding-"+t),10)||0}if("inline"!=Ne.getComputedStyle(e).display){var h=Q(e);if(h.height&&h.width||!(t<u.length-1)){var d=q(e,Me);h.top=Math.min(h.top,h.top-d.top),h.bottom=Math.max(h.bottom,h.bottom+d.bottom),h.left=Math.min(h.left,h.left-d.left),h.right=Math.max(h.right,h.right+d.right),t+1==u.length&&(i=Q(e),i.top+=n(e,"top"),i.left+=n(e,"left"),i.right-=n(e,"right"),i.bottom-=n(e,"bottom"),c=h.right-h.left,l=h.bottom-h.top),h.top<o&&(o=h.top),h.left<r&&(r=h.left),h.bottom>a&&(a=h.bottom),h.right>s&&(s=h.right)}}}),U({elem:U({top:i.top-o,left:i.left-r,bottom:a-i.bottom,right:s-i.right,width:c,height:l}),top:o,left:r,bottom:a,right:s,width:s-r,height:a-o,elemWidth:c,elemHeight:l})}function V(e,t){var i=P(e.target,"[data-action]");if(i&&!i.hasAttribute("disabled")){var n,o=i.getAttribute("data-action");try{n=Me.JSON.parse(i.getAttribute("data-value"))}catch(e){n=i.getAttribute("data-value")}return t(o,n,i),!0}}function W(e,t){t=t||function(){};var i=e.innerHTML,n=Ne.setInterval(function(){e.innerHTML==i&&(t(),Ne.clearInterval(n))},100)}function G(e){var t=function(e,t){for(var i,n,o=t.call(e),r={top:o.top,left:o.left,right:o.right,bottom:o.bottom,width:o.width,height:o.height},s=[];e.ownerDocument.defaultView!=e.ownerDocument.defaultView.top;)for(i=e.ownerDocument.defaultView,s=Me.querySelectorAll(i.parent.document,"iframe"),n=s.length;n--;)if(s[n].contentWindow==i){o=s[n].getBoundingClientRect(),r.left+=o.left,r.top+=o.top,e=s[n];break}return r.right=r.left+r.width,r.bottom=r.top+r.height,Object.freeze?Object.freeze(r):r};e.ownerDocument.defaultView==e.ownerDocument.defaultView.top||e.getBoundingClientRect.custom||(e.getBoundingClientRect=function(){return t(this,Fe)},e.getBoundingClientRect.custom=!0)}function J(e){for(var t,i,n=Fe.call(e),o={top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.width,height:n.height},r=[];e.ownerDocument.defaultView!=e.ownerDocument.defaultView.top;)for(t=e.ownerDocument.defaultView,r=Me.querySelectorAll(t.parent.document,"iframe"),i=r.length;i--;)if(r[i].contentWindow==t){n=r[i].getBoundingClientRect(),o.left+=n.left,o.top+=n.top,e=r[i];break}return o.right=o.left+o.width,o.bottom=o.top+o.height,Object.freeze?Object.freeze(o):o}function Q(e){var t=e.getBoundingClientRect();return a(Object.create(null),{top:t.top,left:t.left,right:t.right,bottom:t.bottom,width:t.width,height:t.height})}function X(e){for(var t,i=e.style.cssText.split(";"),n=i.length,o={};n--;)(t=i[n].indexOf(":"))>0&&(o[L(i[n].substr(0,t))]=L(i[n].substr(t+1)));return o}function K(e,t){var i,n=X(e),o=X(t),r=[];for(i in o)o.hasOwnProperty(i)&&(n[i]||delete o[i]);for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);for(i in o)o.hasOwnProperty(i)&&r.push(i+":"+o[i]);return t.style.cssText=r.join(";")}function Y(e,t,i){if(e&&e.attributes&&t&&t.attributes){var n,o;for(n=e.attributes.length;n--;)o=e.attributes[n],t.getAttribute(o.name)!==o.value&&("style"==o.name?K(e,t):t.setAttribute(o.name,o.value));if(i)for(n=t.attributes.length;n--;)o=t.attributes[n],e.hasAttribute(o.name)||t.removeAttribute(o.name)}}function $(e,t,i){return Array.prototype.slice.call(e,t,i)}function Z(e){var t=Array.isArray(arguments[1])?arguments[1]:$(arguments,1);return Array.isArray(e)?t.some(function(t){return~e.indexOf(t)}):"object"==s(e)?t.some(function(t){return t in e}):t.some(function(t){return e==t})}function ee(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function te(e,t,i){"use strict";function n(e,t,i){l[e]=t}var o,s,a,c,l={};if(!e||!e.nodeName||"form"!==e.nodeName.toLowerCase())throw"You must supply a form element";for(o=0,s=e.elements.length;o<s;o++)a=e.elements[o],""===a.name||a.disabled||void 0!==(c=ie(a))&&n(a.name,c);r(t||{}).forEach(function(e){n(e,t[e])});var u=[];return i?u=l:(u=[],r(l).forEach(function(e){u.push(ee(e)+"="+ee(l[e]))})),u}function ie(e){switch(e.nodeName.toLowerCase()){case"input":switch(e.type){case"checkbox":case"radio":if(e.checked)return e.value;break;case"file":case"reset":break;default:return e.value}break;case"textarea":return e.value;case"select":switch(e.type){case"select-one":return e.value;case"select-multiple":var t=0,i=0;for(t=0,i=e.options.length;t<i;t++)if(e.options[t].selected)return e.options[t].value}break;default:return e.innerText}}function ne(e,t){return te(e,t).join("&")}function oe(e,t,i){var n;if(e)try{n=Pe.createEvent("MouseEvent"),n.initMouseEvent(i||t.type,!0,!0,t.view,0,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),n.initialTarget=t.target,e.dispatchEvent(n)||n.preventDefault()}catch(e){console.log(e.message)}}function re(e,t){return oe(e,t,"click")}function se(e,t){return e+(t?(~e.indexOf("?")?"&":"?")+t:"")}function ae(e,t,i){return!1!==t?parseInt(e,10)/i+"rem":e}function ce(e,t,i){return i||(i=.1),Math.abs(e-t)<=i}function le(e,t,i){for(var n=e.options||[],o=n.length,r=[];o--;)if(n[o].id==t){r=n[o].values||[];break}if(void 0===i)return r;for(o=r.length;o--;)if(r[o].id==i)return r[o].value}function ue(e,t,i){var n=[];return(e||[]).forEach(function(){var e=t&&t.apply(i,arguments);e&&n.push(e)},i),n}function he(e){var t=e||{prefix:!1,length:8};t.prefix||(t.prefix=!1),t.length||(t.length=8),this.length=t.length,this.timestamp=+new Date;for(var i=this.timestamp.toString(),n=i.split("").reverse(),o="",r=0;r<this.length;++r){o+=n[function(e,t){return Math.floor(Math.random()*(t-e+1))+e}(0,n.length-1)]}return t.prefix&&(o=t.prefix+"-"+o),o}function de(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function fe(e,t,i){ge(0,e,0,t,i)}function ge(e,t,i,n,o){o||(o=function(){console.log("error",arguments)});var s=new Ne.XMLHttpRequest;if(s.onerror=o,s.onload=function(){s.status>=200&&s.status<400?n&&n(s):o()},"POST"==e)s.open(e,t,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(i);else{var a="";i&&(a=r(i).map(function(e){return ee(e)+"="+ee(i[e])}).join("&"));try{s.open("GET",se(t,a),!0),s.send()}catch(e){o()}}}function me(e){var t="";return e&&(t=r(e).map(function(t){return ee(t)+"="+ee(e[t])}).join("&")),t}function pe(e){return"contentDocument"in e?e.contentDocument:e.contentWindow.document}function ve(e){return pe(e).defaultView}function be(){var e;do{e=Math.random().toString(36).substring(7)}while(!e.substr(0,1).match(/[a-zA-Z]/));return e}function ye(e,t,i,n){if(e=e||{},t=t||function(e){},i=i||function(e){},n=n||function(e){return!1},i(e),n(e))return e;for(var o,r=t(e),s=r.length,a=0;a<s&&!o;a++)o=ye(r[a],t,i,n);return o}function ke(e,t,i){return e<t?t:e>i?i:e}function we(e,t,i,n,o){return i-t?(e-t)/(i-t)*(o-n)+n:n}function Se(e){if(Array.isArray(e))return e;var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i}function xe(e){return"sleeknote-"+e.replace(/[^a-zA-Z0-9\-\_\:\.\[\]]/g,"")}function Ce(e,t){var i=s(e);if("array"==i||"object"==i)for(var n in e)if("array"==(i=s(e[n]))||"object"==i){var o=Ce(e[n],t);if(void 0!==o)return o}else if(n==t&&void 0!==e[n])return e[n]}function Te(e,t,i){if(void 0===e||void 0===i)return!1;var n=""+i,o=""+e;switch(t){case"exactMatch":return o.toLowerCase()==n.toLowerCase();case"notExactMatch":return o.toLowerCase()!=n.toLowerCase();case"contains":return o.toLowerCase().indexOf(n.toLowerCase())>-1;case"lessThan":return Oe(o)<Oe(n);case"lessThanEq":return Oe(o)<=Oe(n);case"greaterThan":return Oe(o)>Oe(n);case"greaterThanEq":return Oe(o)>=Oe(n);case"exists":return!!e;case"notExists":return!e}}function Oe(e){var t=function(e,t,i){var n=e,o=i||"";return n=n.split(t||"").join(""),""!==o&&(n=n.split(o).join(".")),parseFloat(n)},i=function(e,i,n){for(var o=e,r=i,s=o.split(r),a=1;a<s.length;a++){var c,l=s[a],u=s[a-1],h=parseInt(u,10),d=s.length-1===a;if(null!==(c=d?function(){return 0===h||isNaN(h)||u.length>3?t(o,"",r):3===l.length?t(o,r,""):1===n?t(o,"",r):Number.NaN}():function(){return 3!==l.length?Number.NaN:u.length>3?Number.NaN:null}()))break}return c||Number.NaN};return function(e){var n,o,r,s,a,c,l,u,h,d=e;if(d=d.trim(),s=d.indexOf("."),a=d.indexOf(","),n=d.indexOf(" "),s+a+n===-3)return t(d);if(o=d.split(" "),r=o.length-1,u=d.split(".").length-1,h=d.split(",").length-1,!function(){return!(u>0&&h>0&&r>0)&&(!(u>1&&(h>1||r>1))&&!(h>1&&r>1))}())return Number.NaN;if(r>0){if(!d.match(/^(\d{1,3})?(\s\d{3})*([,\.]\d+)?$/))return Number.NaN;d=o.join("")}return-1!==s&&-1!==a?function(){return c=d.lastIndexOf("."),l=d.lastIndexOf(","),Math.sign(s-a)!==Math.sign(c-l)?Number.NaN:s>a?u>1?Number.NaN:t(d,",","."):h>1?Number.NaN:t(d,".",",")}():function(){return-1!==s?i(d,".",u):-1!==a?i(d,",",h):t(d)}()}(e)}var Ie,Ee,Ne=this,Pe=Ne.document,Me={};Ne.location&&!Ne.location.origin&&(Ne.location.origin=Ne.location.protocol+"//"+Ne.location.hostname+(Ne.location.port?":"+Ne.location.port:"")),Pe.head||(Pe.head=Pe.getElementsByTagName("head")[0]);var Ae="sleeknote",Le=be();if(this.document.body){var De=e();De.insertAdjacentHTML("beforeend",'<iframe id="'+Le+'" name="'+Le+'" style="display:none!important"></iframe>'),Ie=De.lastElementChild,["querySelectorAll","querySelector","getElementsByClassName","getElementsByTagName"].forEach(function(e){Me[e]=function(t,i){try{return o(t,e).call(t,i)}catch(e){}}})}Ee=function(e,t,i,n){return e===e+""&&(e=Me.getElementById(e)),function o(r){return e[t+"EventListener"](r,i,!!n),o}},Me.JSON={parse:function(){return n().JSON.parse.apply(Ne,arguments)},stringify:function(){return n().JSON.stringify.apply(Ne,arguments)}},["XMLHttpRequest","decodeURIComponent","encodeURIComponent"].forEach(function(e){Me[e]=function(){return n()[e].apply(Ne,arguments)}},this),["getElementById","createElement","createDocumentFragment"].forEach(function(e){Me[e]=function(){return n().document[e].apply(Pe,arguments)}},this),Me.getComputedStyle=function(e,t){return n().getComputedStyle.call(Ne,e,t)};var Be=function(){var e=n(),t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame;return t?function(e){return t.call(null,e)}:function(e){return Ne.setTimeout(e,13)}}(),Re=function(){var e=n(),t=e.cancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame;return t?function(e){t.call(null,e)}:function(e){Ne.clearTimeout(e)}}(),_e=Pe.documentElement,He=function(e){return e?function(t,i){return e.call(t,i)}:function(e,t){for(var i=e.parentNode?Me.querySelectorAll(e.parentNode,t):[],n=i.length;n--;)if(i[n]===e)return!0}}(_e.matches||_e.matchesSelector||_e.webkitMatchesSelector||_e.msMatchesSelector||_e.mozMatchesSelector||_e.oMatchesSelector);if(Ne.Element)var Fe=Ne.Element.prototype.getBoundingClientRect;a(Me,{convertToFloat:Oe,JITMatch:Te,findPropValue:Ce,stepId:xe,toArray:Se,fetch:fe,limit:ke,scale:we,newDict:U,randomName:be,sandbox:i,wrapper:e.bind(this),Objectkeys:r,getDocument:pe,getWindow:ve,filterMap:ue,isEqual:ce,px2rem:ae,appendToUrl:se,serialize:ne,parseForm:te,parseNodeValue:ie,mouseEvent:oe,click:re,getAdvOption:le,clickListener:V,bounds:z,stopPropagation:d,preventDefault:f,normalizedEvent:g,getStyle:p,typeStr:s,listener:Ee,gid:l,qsa:u,qs:h,gtag:c,objectSize:m,extend:a,contains:Z,slice:$,removeNode:v,eventXY:y,offsetRect:b,requestFrame:Be,cancelFrame:Re,throttle:k,applyOptions:w,template:S,insertHTML:x,replaceHTML:C,isNumeric:T,isFunction:O,loadScript:I,getHostname:M,getHashParams:E,empty:N,matchesSel:He,detectHTMLChange:W,guid:he,guid_string:de,querySelectorClosest:P,getQueryVarByName:A,httpRequest:ge,buildQueryString:me,cleanUpReferral:H,trim:L,camelCaseToDashSeparated:B,dashSeparatedToCamelCase:_,PascalCaseToDashSeparated:R,htmlToFragment:D,htmlToElement:function(e,t){return D(e,t)[0]},syncAttributes:Y,applyCustomGetBoundingClientRect:G,customGetBoundingClientRect:J,deepProp:F,deepPropSet:j,treeWalker:ye}),t=function(){return Me}()}.call(this),function(){function e(t){if(!("colno"in t))return e({c:-1,l:-1,m:"unknown ErrorEvent "+t});var i="";t.error&&t.error.stack&&(i=String(t.error.stack).split("\n"),i=i[0]+i[1]);var n={c:t.colno,l:t.lineno,filename:t.filename,m:t.message};return i&&(n.s=i),n}var t,n=this,o=function(e){e&&e.apply&&(t=e)};n.addEventListener("error",function(i){t&&t(e(i))}),i=function(){return t=console.log.bind(console),o}()}.call(this),function(){!function(e,t){var i=function(e){"use strict";function t(t){var i,r=t.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,s=t.page_info,a=t.token,c=t.print,l=t.no_format,u=function(){return"undefined"==typeof XDomainRequest?t.ssl:"https:"===e.location.protocol}();i=e.LEENDPOINT?e.LEENDPOINT:l?"webhook.logentries.com/noformat":"js.logentries.com/v1",i=(u?"https://":"http://")+i+"/logs/"+a;var h=[],d=!1,f=!1;if(t.catchall){var g=e.onerror,m=function(e,t,i){return b({error:e,line:i,location:t}).level("ERROR").send(),!!g&&g(e,t,i)};e.onerror=m}var p=function(){var t=e.navigator||{doNotTrack:void 0},i=e.screen||{};return{url:(e.location||{}).pathname,referrer:document.referrer,screen:{width:i.width,height:i.height},window:{width:e.innerWidth,height:e.innerHeight},browser:{name:t.appName,version:t.appVersion,cookie_enabled:t.cookieEnabled,do_not_track:t.doNotTrack},platform:t.platform}},v=function(){var e=Array.prototype.slice.call(arguments);if(0===e.length)throw new Error("No arguments!");return 1===e.length?e[0]:e},b=function(e){var t=v.apply(this,arguments),i={event:t};return"never"!==s&&(f&&"per-entry"!==s||(f=!0,void 0===t.screen&&void 0===t.browser&&b(p()).level("PAGE").send())),r&&(i.trace=r),{level:function(e){if(c&&"undefined"!=typeof console&&"PAGE"!==e){var t=null;"undefined"!=typeof XDomainRequest&&(t=i.trace+" "+i.event);try{console[e.toLowerCase()].call(console,t||i)}catch(e){console.log(t||i)}}return i.level=e,{send:function(){var e=[],t=JSON.stringify(i,function(t,i){if(void 0===i)return"undefined";if("object"==typeof i&&null!==i){if(-1!==n(e,i))return"<?>";e.push(i)}return i});d?h.push(t):y(a,t)}}}}};this.log=b;var y=function(e,t){d=!0;var n=o();n.constructor===XMLHttpRequest?n.onreadystatechange=function(){4===n.readyState&&(n.status>=400?(console.error("Couldn't submit events."),410===n.status&&console.warn("This version of le_js is no longer supported!")):(301===n.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),h.length>0?y(e,h.shift()):d=!1))}:n.onload=function(){h.length>0?y(e,h.shift()):d=!1},n.open("POST",i,!0),n.constructor===XMLHttpRequest&&(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-type","application/json")),n.overrideMimeType&&n.overrideMimeType("text"),n.send(t)}}function i(e){var i,n={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!=typeof e)throw new Error("Invalid parameters for createLogStream()");for(var o in e)n[o]=e[o];if(null===n.token)throw new Error("Token not present.");i=new t(n);var r=function(e){if(i)return i.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function(){r.apply(this,arguments).level("LOG").send()},warn:function(){r.apply(this,arguments).level("WARN").send()},error:function(){r.apply(this,arguments).level("ERROR").send()},info:function(){r.apply(this,arguments).level("INFO").send()}}}var n=function(e,t){for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1},o=function(){return"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest},r={},s=function(e){if(!r.hasOwnProperty(e))throw new Error("Invalid name for logStream");return r[e]},a=function(e){if("string"!=typeof e.name)throw new Error("Name not present.");if(r.hasOwnProperty(e.name))throw new Error("A logger with that name already exists!");return r[e.name]=new i(e),!0};return{init:function(e){var t={name:"default"};if("object"==typeof e)for(var i in e)t[i]=e[i];else{if("string"!=typeof e)throw new Error("Invalid parameters for init()");t.token=e}return a(t)},createLogStream:a,to:s,destroy:function(e){void 0===e&&(e="default"),delete r[e]},log:function(){for(var e in r)r[e].log.apply(this,arguments)},warn:function(){for(var e in r)r[e].warn.apply(this,arguments)},error:function(){for(var e in r)r[e].error.apply(this,arguments)},info:function(){for(var e in r)r[e].info.apply(this,arguments)}}}(e),o=e.SleekNote;i.init(o?"a78dabea-a262-4195-b62f-1ee0bfe26adf":"2564181e-abb1-4c37-8925-2c99d789f341"),n=function(){return i}()}(this)}.call(this),o=function(e,t,i,n){function o(){try{throw new Error("debug")}catch(i){var e=Array.prototype.slice.call(arguments),t=i.stack.split("\n").slice(2,3).join("").split(":").slice(2,3).join("");e.push("line:",t),console&&console.log.apply(console,e)}}function r(e,t,i){var n=c.CustomInitSettings&&c.CustomInitSettings[e];return void 0===i?n||t:n?t:i}var s=this,a=s.document,c={storageOptions:{useLocalStorage:!1},CustomInitSettings:{},STATUS:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5}};i(function(e){delete e.filename;var i={message:"crash",details:t.extend({u:String(s.location)},e)},o=i.details;if(o.s&&(o.s=o.s.replace(o.u,"")),c.local)console.log(i);else if(/sleeknote/i.test(e.filename)){if(Math.random(0,1)>.05)return;n.error(i)}});var l=s.location,u=function(e,i){var n,o,r={};if(e=e.replace(/[?#]/,""),e=e.split("&").filter(function(e){return!t.empty(e)}),e[0])for(n=0;n<e.length;n++)o=e[n].split("=",2),r[o[0]]=o[1]?i?o[1]:t.decodeURIComponent(o[1].replace(/\+/g," ")):void 0;return r}(!l.search&&l.hash?l.hash:l.search),h=u.sndebug,d=!s.SleekNote.branch&&u.snbranch;if(d){
for(var f=a.getElementsByTagName("script"),g=f.length,m="";g--;)if((s.SleekNote.local||~f[g].src.indexOf("sleeknotestaticcontent"))&&~f[g].src.indexOf("core")){m=f[g].src;break}if(m){var p=m.lastIndexOf("/")+1,v=m.substr(0,p);s.SleekNote.branch=d,s.SleekNote.path=v;var b=s.document.createElement("script");throw b.type="text/javascript",b.src=v+"branches/core-"+d+".js",a.body.appendChild(b),new Error("Switching to "+b.src)}}return c.debug=h||"",c.reset=u.snreset,c.editor=u.sneditor,c.print=o,c.debugMessage=function(e){var t=c.debug;return t&&(~t.indexOf("1")||e&&~t.indexOf(e))?o:function(){}},c.custom=r,c.getFixedValue=function(){return"fixed"},c.use3D=!(e.is.desktop&&e.is.chrome&&e.is.version<66),u.snhide||("SleekNote"in s?t.extend(c,s.SleekNote):["CustomerId","HideSleeknoteBadge","SleeknotePiwikSiteId","SleekNotes","SleeknoteGoals"].forEach(function(e){e in s&&(c[e]=s[e],delete s[e])})),c.CustomInitSettings.cookiePath&&(c.storageOptions.cookiePath=c.CustomInitSettings.cookiePath),s.SleekNote&&s.SleekNote.editor||(s.SleekNote={}),c}(e,t,i,n),function(){function i(e,t){var i=e.indexOf("-");if(0===i)return e;var n,o=~i?T.dashSeparatedToCamelCase(e.toLowerCase()):e;return"-"==e.charAt(0)&&(o=o.charAt(0).toLowerCase()+o.substr(1)),n=T.camelCaseToDashSeparated(o),o in L?t?R.map(function(e){return e+n}):O.cssVendor+n:(0===n.indexOf("webkit-")&&(n="-"+n),t?[n]:n)}function n(e,t){function i(e){return"cubic-bezier("+e.join(",")+")"}function n(e){return e.blink?~e.indexOf("e-")&&(e="0%"):(e<1&&e>0||e<0&&e>-1)&&(e=0),e}function o(e){var t=3==e.length,i=n(e[0]||0),o=n(1==e.length?0:e[1]||0);return(!i.indexOf||i.indexOf("%")<0)&&(i+="px"),(!o.indexOf||o.indexOf("%")<0)&&(o+="px"),"translate"+(t?"3d":"")+"("+i+","+o+(t?","+(e[2]||0):"")+")"}function r(e){return(e+"").replace(/[0-9.-\s]/gi,"")}var s=B(t),a=T.isNumeric(t),c=!(s||""!==t&&a);a&&""!==t&&(t=+t);var l,u,h="";e=e.toLowerCase().replace(/\-/g,"");if(/origin/.test(e)&&s)return Math.round(100*t[0])+"% "+Math.round(100*t[1])+"%";if("transform"==e&&s){if((l=t.length)<=5)return l>=4&&+t[3]&&(h="perspective("+t[3]+"px) "),h+=o(B(t[0])?t[0]:t),5==l&&(h+=" "+o(B(t[4])?t[4]:[t[4]])),l>1&&B(t[0])&&(h+=B(t[1])?" rotate3d("+t[1].join()+"deg)":" rotate("+(+t[1]||0)+"deg)",h+=" scale("+(+t[2]||1)+")"),h;if(6==l)return"matrix("+t.join(",")+")"}else{if(T.contains(e,"width","height","left","top","right","bottom")){if(void 0===t)return;if(c||0===t)return t;var d=B(t)?T.extend(t):[t],f=[];try{d=d.map(function(e,t){e=(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var i;return T.isNumeric(e)?(i=e,e+="px"):i=parseInt(e,10),t&&(i<0?e=e.replace("-","- "):i>=0&&(e="+ "+e)),f.push(r(e)),e})}catch(e){}return["px",T.contains(e,"width","left","right")?"vw":"vh"].forEach(function(e){f.indexOf(e)<0&&d.push((d.length?"+ ":"")+"0"+e)}),"calc("+d.join(" ")+")"}if("backgroundposition"==e&&s)return function(e){var t=n(e[0]),i=n(1==e.length?0:e[1]);return t.blink||(t+="px"),i.blink||(i+="px"),t+" "+i}(t);if(!c&&0!==t&&(~D.indexOf(","+e)||/width|height|margin|padding|radius|size/.test(e)))return t+"px";if("transitionproperty"==e)return s&&(t=t.join(", ")),t=t.replace(O.cssVendor,""),t.replace("transform",O.cssVendor+"transform");if("display"==e&&!c)return t?"block":"none";if("pointerevents"==e&&!c)return t?"auto":"none";if(("visibility"==e||/overflow/.test(e)||"backfacevisibility"==e)&&!c)return t?"visible":"hidden";if(/delay|duration/.test(e)&&!c)return s&&(t=t.join("ms, ")),t+"ms";if(/timingFunction/.test(e)&&s){if(t[0]===+t[0])return i(t);for(u=0;u<t.length;u++)h+=(u?", ":"")+(B(t[u])?i(t[u]):t[u]);return h}}return void 0!==t&&null!==t||(t=""),t}function o(e,t,o,r){e.style.setProperty(i(t),n(t,o),r?"important":""),"fontFamily"==t&&(e.style.fontFamily=e.style.fontFamily.replace(/\"/g,"'"))}function s(e){var t=e.indexOf("transform"),i=e.indexOf("width"),n=e.indexOf("height");return~t&&(~i&&i<t||~n&&n<t)&&(e.splice(t,1),e.unshift("transform"),~(t=e.indexOf("transformOrigin"))&&(e.splice(t,1),e.unshift("transformOrigin"))),e}function a(){var e,t=Array.prototype.slice.call(arguments);"object"==T.typeStr(t[1])?(t.splice(2,0,""),e=t[1],s(Object.keys(e)).forEach(function(i){t[1]=i,t[2]=e[i],o.apply(null,t)})):o.apply(null,t)}function c(){var e,t,i=Array.prototype.slice.call(arguments);if(i[0])if(!i[0].nodeName&&(e=i[0].length))for(t=i[0];e--;)i[0]=t[e],a.apply(this,i);else i[0].style&&a.apply(this,i)}function l(e,t,i){if(!t||!t.blink)return"";e.length&&(e=e[0]);var n;"cached"==i&&E?n=E:(n=I(e,null),E=void 0),"seed"==i&&(E=n);var o=n[u(t)];return o&&String(o).indexOf("px")==o.length-2?parseInt(o,10):o}function u(e){e=T.dashSeparatedToCamelCase(e);var t=L[e];return t||e}function h(e,t,i){var o=e;if(void 0===o)return"";"object"!=T.typeStr(e)?(o={},o[e]=t):i=t;var r,s,a=[];for(e in o)if(A.call(o,e)){if(t=n(e,o[e]),"fontFamily"==e&&(t=t.replace(/\"/g,"'")),void 0===t)continue;t=":"+t+";",r=T.dashSeparatedToCamelCase(e),L[r]?i?(s=T.camelCaseToDashSeparated(r),(Array.isArray(i)?i:R).forEach(function(e){a.push(e,s,t)})):a.push(T.camelCaseToDashSeparated(L[r]),t):a.push(T.camelCaseToDashSeparated(r),t)}return a.join("")}function d(e,t,i,n){i||(i=M);var o=T.qsa("#"+N,i)[0];o||(o=i.createElement("style"),o.id=N,(i.head||T.qsa("head",i)[0]||i.documentElement).appendChild(o)),o.sheet.insertRule(e+"{"+t+"}",n||0)}function f(e,t){var i,n,o={};return e&&e.nodeName?(i=e.style,n=i.cssText):(n=h(e),i=e),t.forEach(function(e){o[e]=~n.indexOf(T.camelCaseToDashSeparated(e))?i[e]:""}),T.JSON.stringify(o)}function g(e,t,i,n,o){if(e="data-"+e,t){if(t.hasAttribute(e)){var r=T.JSON.parse(t.getAttribute(e));n.forEach(function(e){i[e]&&(r[e]=i[e],delete i[e])}),t.setAttribute(e,T.JSON.stringify(r))}c(t,i,o)}}function m(e,t,i){t.setAttribute("data-"+e,f(t,Object.keys(i))),c(t,i)}function p(e,t,i){if(e="data-"+e,t.hasAttribute(e)){var n=T.JSON.parse(t.getAttribute(e));Array.isArray(i)&&i.forEach(function(e){delete n[e]}),c(t,n),t.removeAttribute(e)}}function v(){return{height:0,pointerEvents:"none",visibility:0}}function b(e){return h(T.extend({},e||{},v()))}function y(e){return f(e,_)}function k(e){return m("conceal",e,v())}function w(e){return p("conceal",e)}function S(e,t,i){return g("conceal",e,t,_,i)}function x(e,t){var i=e.hasAttribute("data-conceal");i&&w(e,["visibility"]);var n=t(e);return i&&k(e),n}function C(e,t){return(e.transform.length>=3&&Array.isArray(e.transform[0])&&e.transform[0][2]>0||Array.isArray(e.transform[4])&&e.transform[4][2]>0||Array.isArray(e.transform[1])&&(e.transform[1][0]||e.transform[1][1]))&&(e.transform[3]=+t||800),e}var T,O,I,E,N,P=this,M=P.document,A=Object.prototype.hasOwnProperty,L={userDrag:"",userSelect:"",flexDirection:"",flexWrap:"",justifyContent:"",alignItems:"",alignContent:"",order:"",flex:"",alignSelf:"",flexGrow:"",flexShrink:"",flexBasis:"",animation:"",animationDelay:"",animationDirection:"",animationDuration:"",animationFillMode:"",animationIterationCount:"",animationName:"",animationPlayState:"",animationTimingFunction:"",transform:"",transformOrigin:"",transformStyle:"",transition:"",transitionDelay:"",transitionDuration:"",transitionProperty:"",transitionTimingFunction:"",perspective:"",perspectiveOrigin:"",backfaceVisibility:""},D=",top,left,bottom,right,perspective",B=Array.isArray,R=["-webkit-","-moz-","-ms-",""],R=["-webkit-","-moz-","-ms-",""],_=Object.keys(v()),H={applyPerspectiveIf:C,addRule:d,set:c,get:l,inline:h,property:u,clear:function(e,t){c(e,t)},overwriteCSS:m,restoreCSS:p,conceal:k,concealedStyle:b,concealedData:y,cssConcealed:S,flashRevealIf:x,reveal:w,addRuleObj:function(e,t){this.addRule(e,h(t)),this.addRule("@media print",e+"{display: none!important;}")}};r=function(e,t){return T=e,O=t,N=T.randomName(),I=T.getComputedStyle,H}(t,e)}.call(this),s=function(e,t){function i(e){if(Array.isArray(e)){var t=new r(e[0],e[1],e[2],e[3]);return function(e,i,o,r){return d(t.solve(e,n((+r||600)/1e3)),0,1,i,o)}}switch(e){case"easeOut":return function(e,t,i){var n;return d((n=e-1)*n*n*n*n+1,0,1,t,i)};case"wall":return function(e,t,i){var n=a(1-a(e,h(2*e)),2);return d(1-u(h(l*e*e))*n,0,1,t,i)};case"linear":return function(e,t,i){return d(e,0,1,t,i)};default:return e===e+""?function(e,t,i){return d(-h(e*c)/2+.5,0,1,t,i)}:e}}function n(e){return 1/(200*e)}function o(){this.duration=0,this.finished,this.started,this.motions=[],this.timer=0,this.animate=this.animate.bind(this),this.add.apply(this,arguments),this.play=this.play.bind(this)}function r(e,t,i,n){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by}var s=this,a=Math.pow,c=Math.PI,l=2.5*c,u=Math.abs,h=Math.cos,d=e.scale,f=e.limit;return o.scale=d,o.makeEaseFunc=i,o.makeFullTransformArray=function(t){return t=e.extend(t),Array.isArray(t[0])?(Array.isArray(t[1])||(t[1]=[0,0,1,t[1]]),Array.isArray(t[4])||(t[4]=[0,0])):t=[t,[0,0,1,0],1,void 0,[0,0]],t},o.blendTransformArray=function(e,t,i){function n(e,t){var n=e.indexOf?e.indexOf("%"):-1;~n&&(e=parseInt(e,10),t=parseInt(t,10));var o=(e+(t-e)*i).toFixed(6);return~n&&(o+="%"),o}if(!Array.isArray(e[0]))return[n(e[0],t[0]),n(e[1],t[1])];var o=[n(e[0][0],t[0][0]),n(e[0][1],t[0][1]),0];i=f(i,0,1);var r=Array.isArray(e[1])?[e[1][0],e[1][1],e[1][2],n(e[1][3],t[1][3])]:n(e[1],t[1]),s=[o,r,e[2]+(t[2]-e[2])*i];return void 0===e[3]&&void 0===t[3]||(s[3]=void 0===e[3]?t[3]:e[3]),void 0===e[4]&&void 0===t[4]||(s[4]=[n(e[4][0],t[4][0]),n(e[4][1],t[4][1])]),s},o.getTransformPos=function(e,t,i){return e[0][0]!=t[0][0]?Math.abs(i[0][0]-e[0][0])/Math.abs(t[0][0]-e[0][0]):e[0][1]!=t[0][1]?Math.abs(i[0][1]-e[0][1])/Math.abs(t[0][1]-e[0][1]):0},o.createMotion=function(i,n,o){var r,s,a=Object.keys(n),c=e.extend(n),l={},u={},h={},d={frame:function(e,d,f){if(f)t.set(i,o);else if(d)t.set(i,n);else{for(r=a.length;r--;)s=a[r],l[s]=u[s]+(h[s]-u[s])*e+c[s];t.set(i,l)}}};for(r=a.length;r--;)s=a[r],c[s]=String(c[s]).replace(/[0-9\-\.]/g,""),u[s]=parseFloat(n[s]),h[s]=parseFloat(o[s]);return d},o.prototype={add:function(){var e,t=0;for(e=Array.isArray(arguments[0])?arguments[0]:arguments;t<e.length;t++)this.motion(e[t]);return this},play:function(e){var t,i=0;if(this.timer)return this;if(!this.motions.length)return e&&e(),this;for(this.startTime=+new Date;t=this.motions[i];i++)t.finished=!1;e&&(this.finished=e);try{this.timer=s.setTimeout(this.animate,13)}catch(e){this.frame(this.duration)}return this},stop:function(){return this.timer&&(s.clearTimeout(this.timer),this.timer=0,this.finished&&this.finished()),this},ffwd:function(){return this.timer&&(this.frame(this.duration),this.stop()),this},motion:function(e){if(e==Object(e)&&e.frame){var t=+e.delay||0,n=+e.duration||400;return e.parent=this,this.motions[this.motions.length]={ease:i(e.ease||"default"),from:+e.from||0,to:+e.to||1,frame:e.frame,duration:n,delay:t,pos:void 0},this.duration=Math.max(this.duration,n+t),e.finished&&(this.finished=e.finished),this}},go:function(e,t){for(var i,n=0;i=this.motions[n];n++)i.pos=t?i.ease(e,i.from,i.to):e,i.frame(i.pos,e<=0,e>=1)},frame:function(e){for(var t,i,n,o,r=0;t=this.motions[r];r++)(i=e-t.delay)<0||t.finished||(n=i>=t.duration,o=void 0===t.pos,t.pos=t.ease(n?1:i/t.duration,t.from,t.to,t.duration),t.frame(t.pos,o,n),t.finished=n,o&&this.started&&(this.started(),this.started=void 0))},playLastFrame:function(){var e,t=0;for(console.log(this.motions);e=this.motions[t];t++)e.frame(1,!1,!0)},animate:function(e){var t=f(Date.now()-this.startTime,0,this.duration);this.frame(t),t>=this.duration?this.stop():this.timer=s.setTimeout(this.animate,13)}},r.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){var i,n,o,r,s,a;for(o=e,a=0;a<8;a++){if(r=this.sampleCurveX(o)-e,u(r)<t)return o;if(s=this.sampleCurveDerivativeX(o),u(s)<1e-6)break;o-=r/s}if(i=0,n=1,(o=e)<i)return i;if(o>n)return n;for(;i<n;){if(r=this.sampleCurveX(o),u(r-e)<t)return o;e>r?i=o:n=o,o=.5*(n-i)+i}return o},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},o}(t,r),a=function(e,t){function i(e,t){return new a(s(e,t))}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e?[e]:e}function o(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}function r(t,i,n){return i&&t?t.filter(function(t){var o=e.matchesSel(t,i);return n?!o:o}):t}function s(t,i){return t?t instanceof a||Array.isArray(t)?t:"object"==typeof t&&(t.nodeType||"setInterval"in t)?[t]:"string"==typeof t&&"<"==t[0]&&">"==t[t.length-1]&&t.length>=3?e.htmlToElement(t):(i||u).querySelectorAll(t):[]}function a(e){var t=e.length;for(this.length=t;t--;)this[t]=e[t];return this}function c(e){var t=e.nodeType;return!(3==t||8==t||2==t)}var l=this,u=l.document;return i.each=function(e,t){var i,n=0;if("length"in e)for(i=+e.length||0;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},i.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},i.bindTo=function(e){var t=function(t,n){return i(t,n||e)};return t.each=i.each,t.hasClass=i.hasClass,t},a.prototype={each:function(e){return i.each(this,e)},attr:function(e,t){if("string"==typeof e&&void 0===t&&this[0])return this[0].getAttribute(e);if("object"!=typeof e){var i={};i[e]=t,e=i}var n=Object.keys(e);return this.each(function(){for(var t,i=0;t=n[i];i++)c(this)&&this.setAttribute(t,e[t])})},prop:function(e,t){if("string"==typeof e&&void 0===t&&this[0])return c(this[0])?this[0][e]:null;if("object"!=typeof e){var i={};i[e]=t,e=i}var n=Object.keys(e);return this.each(function(){for(var t,i=0;t=n[i];i++)c(this)&&(this[t]=e[t])})},css:function(e,i){return"string"==typeof e&&void 0===i&&this[0]?t.get(this[0],e):this.each(function(){t.set(this,e,i)})},remove:function(){this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},show:function(){return this.each(t.conceal)},hide:function(){return this.each(t.reveal)},val:function(){if(this[0]&&1===this[0].nodeType)return e.trim(this[0].value)},children:function(){return i(this.length?o(this[0].firstChild):0)},next:function(e){return i(this.length?r(n(this[0],"nextSibling"),e):0)},not:function(e){return i(r(Array.prototype.slice.call(this),e,!0))},first:function(){return i(this[0])},bind:function(t,i,n){return this.each(function(){e.listener(this,"add",i,n)(t)})},unbind:function(t,i,n){return this.each(function(){e.listener(this,"remove",i,n)(t)})},hasClass:function(e){return i.hasClass(this[0],e)},addClass:function(e){var t,n;for("string"==typeof e&&(e=[e]),t=0,n=e.length;t<n;t++)this.each(function(){e[t]&&!i.hasClass(this,e[t])&&(this.className=this.className?this.className+" "+e[t]:e[t])});return this},removeClass:function(e){var t,i;for("string"==typeof e&&(e=[e]),t=0,i=e.length;t<i;t++)this.each(function(){this.className=this.className.replace(new RegExp("(^|\\s+)"+e[t]+"(\\s+|$)")," ")});return this}},i}(t,r),c=function(e,t,i){function n(e){return t.extend({visibility:"hidden",width:"100%",height:"100%",zIndex:0},e||{},{padding:0,margin:0,border:"none",boxSizing:"border-box",backgroundColor:l?"rgba(255,127,0,0.5)":"transparent",willChange:"transform, opacity, visibility",transitionDuration:0,maxWidth:"100%"})}function o(e){return e.querySelector("."+m)}function r(e){return t.getDocument(o(e))}function s(e,o){var s=u?n(e.style):e.style||{},a=e.concealed?i.concealedStyle(s):i.inline(s),c=t.insertHTML(e.parent,t.template(u?h:d,{tagName:e.tagName||"span",id:e.id,className:v+" "+(e.className||""),conceal:e.concealed?t.template(f,{data:i.concealedData(s)}):"",style:a,frame:t.template(o,{id:e.id,className:m})}),e.position||"beforeend"),l=r(c);return l.open(),e.html.querySelector?(l.write("<!doctype html><html>"),Array.prototype.slice.call(e.html.childNodes).forEach(function(e){8!=e.nodeType&&l.write("outerHTML"in e?e.outerHTML:e.textContent)})):l.write(e.html||"<body>"),l.close(),c}function a(t){var i=!0;e.is.desktop||(i=!1,e.is.tablet&&e.is.ios&&!t.tabletUsesMobile&&(i=!0));var n=i?"<iframe class={className} scrolling=no></iframe>":"<iframe class={className}></iframe>";return s(t,u?'<iframe data-id="{id}" frameBorder=0 allowTransparency=true scrolling=no horizontalscrolling=no verticalscrolling=no style="box-sizing:border-box;background:transparent;height:1px;width:1px;min-width:100%;min-height:100%;display:block;position:absolute;border:none;margin:0;padding:0;"></iframe>':n)}function c(e,n,r){if(n.width,i.cssConcealed(e,n),!u){var s=o(e);if(r||(r={}),s){if(t.empty(r))return;i.cssConcealed(s,r,!0)}}}var l=!1,u=!1,h='<div class="sleeknote" id="{id}" {conceal} style="{style}">{frame}</div>',d='<{tagName} id="{id}" class="{className}" {conceal} style="{style}">{frame}</{tagName}>',f="data-conceal='{data}'",g={display:"block!important",position:"static!important",boxSizing:"border-box!important",background:"transparent!important",border:"none!important",minHeight:"0!important",maxHeight:"none!important",margin:"0!important",padding:"0!important",height:"100%!important",width:"1px!important",maxWidth:"100%!important",minWidth:"100%!important"},m=t.randomName();i.addRuleObj("iframe."+m+":not(p)",g);var p={display:"block",position:"relative",top:0,left:0,padding:0,margin:0,border:"none",boxSizing:"border-box",backgroundColor:l?"rgba(255,127,0,0.5)":"transparent",willChange:"transform, opacity",transitionDuration:0,height:0,width:"100vw"},v=t.randomName();return i.addRuleObj("."+v,p),{sleeknoteWrap:v,css:c,insertOLD:function(e){return u=!0,a(e)},insert:a,doc:r}}(e,t,r),l={PROFILE:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5},POS:{POPUP:5,BOTTOM_LEFT:7,BOTTOM_RIGHT:9,CENTER_LEFT:4,CENTER_RIGHT:6,SLIDEUP:10,SLIDEUP2:11,HELLO:12,HELLO2:17,POPUP2:13,POPUP7:15,POPUP9:16,POPUP5:18},AL:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4},PA:{CENTER:1,INSIDE:2,OUTSIDE:3,RIGHT:4,LEFT:5,BOTTOM:6,TOP:7},CONDITIONS:{PAGESVISITEDOPTIONS:{ONESESSION:"current session",ALLSESSIONS:"all sessions"}}},u=function(e,t,i,n,o){function r(e){return e.nodeName?e.getBoundingClientRect():e}function s(e){return Array.isArray(e)?e[0]||e[1]?0:+e[3]||0:e}function a(){this.getAngle=s}function c(e,t,i){this.bounds=i||(t?r(t):void 0),t&&t.nodeName&&(this.elem=t),this.anchor=+e||0,this.translate=[0,0],this.translatePx=[0,0],this.angle=0,this.scale=1}function l(e){var t=this.pos[e];Array.isArray(t)?this.style[e]=[t[3]+t[0],-(t[2]*t[3]/100-t[1])]:this.style[e]=t}function u(e,t){Array.isArray(this.pos[e])?(t=parseInt(t,10),this.pos[e][3]=this.pos[e][3]+t):this.pos[e]=t}var h=n.AL,d=n.PA,f=[{top:0,left:0,bottom:"auto",right:"auto"},{top:0,left:"auto",bottom:"auto",right:0},{top:"auto",left:"auto",bottom:0,right:0},{top:"auto",left:0,bottom:0,right:"auto"}],g=[0,90,180,270],m="inside";return a.prototype={start:function(e,i,n,r,s){if(n!==String(n)){if(n&&n.nodeType)return this.startRelative(e,i,n,r,s);n=n?"absolute":o.getFixedValue()}return this.mirror=s,c.call(this,e,i,r),this.style={position:n,transformOrigin:[.5,.5]},this.pos=t.extend({},f[this.anchor-1]),this.rightStart=this.bottomStart=m,this},startRelative:function(e,t,i,n,o){c.call(this,e,t,n),this.style={position:"relative",transformOrigin:[.5,.5]},this.rightStart=this.bottomStart="outside",this.anchor=+e||0,this.mirror=o,this.pos={top:["vh",0,0,0],left:["vw",0,0,0]};var r=o?100:0;switch(this.anchor){case h.TOP_LEFT:this.pos.left[3]=0-r,this.pos.top[3]=0-r;break;case h.TOP_RIGHT:this.pos.left[3]=100-r,this.pos.top[3]=0-r;break;case h.BOTTOM_RIGHT:this.pos.left[3]=100-r,this.pos.top[3]=100-r;break;case h.BOTTOM_LEFT:this.pos.left[3]=0-r,this.pos.top[3]=100-r}return this},css:function(e){return t.extend(this.style,e),this},origin:function(e,t){return void 0===t&&(t=e),void 0!==e&&(this.style.transformOrigin=[e,t]),this},to:function(e,t){function i(e,t,i){switch(t){case d.CENTER:return e==m?50*i:-50*i;case d.INSIDE:return e==m?0:-100*i;case d.OUTSIDE:return e==m?100*i:0}}switch(void 0===t&&(t=e),this.anchor){case h.TOP_LEFT:this.translate=[i(m,e,-1),i(m,t,-1)];break;case h.TOP_RIGHT:this.translate=[i(this.rightStart,e,1),i(m,t,-1)];break;case h.BOTTOM_RIGHT:this.translate=[i(this.rightStart,e,1),i(this.bottomStart,t,1)];break;case h.BOTTOM_LEFT:this.translate=[i(m,e,-1),i(this.bottomStart,t,1)]}return this},move:function(e,t){if(void 0===t&&(t=e),void 0===e)return this;var i=0,n=0;switch(e&&e===+e&&(i=e,e=0),t&&t===+t&&(n=t,t=0),this.anchor){case h.TOP_RIGHT:i=-i;break;case h.BOTTOM_RIGHT:i=-i,n=-n;break;case h.BOTTOM_LEFT:n=-n}this.translatePx[0]+=i,this.translatePx[1]+=n;var o=Array.isArray(this.pos.top);switch(this.anchor){case h.TOP_LEFT:u.call(this,"top",t),u.call(this,"left",e);break;case h.TOP_RIGHT:u.call(this,"top",t),u.call(this,o?"left":"right",e);break;case h.BOTTOM_RIGHT:this.mirror&&(t="-"+t),u.call(this,o?"top":"bottom",t),u.call(this,o?"left":"right",e);break;case h.BOTTOM_LEFT:this.mirror&&(t="-"+t),u.call(this,o?"top":"bottom",t),u.call(this,"left",e)}return this},rotateScale:function(e,t,i,n){if(this.bounds&&void 0!==e&&void 0!==t){this.scale=+n||1,this.angle=Array.isArray(i)?i:+i||0;var o=s(this.angle)%360;o<0&&(o+=360),~g.indexOf(o)||(o=i=0);var r=o&&o-180,a=r?this.bounds.height:this.bounds.width,c=r?this.bounds.width:this.bounds.height;e!=d.CENTER&&(this.translate[0]+=(e==d.LEFT?-1:1)*(this.bounds.width-a*this.scale)/2/this.bounds.width*100),t!=d.CENTER&&(this.translate[1]+=(t==d.BOTTOM?-1:1)*(c*this.scale-this.bounds.height)/2/this.bounds.height*100)}else this.scale=1,this.angle=0;return this},set:function(e){return i.set(e||this.elem,this.get()),this},get:function(){return this.style.transform=[this.translate[0]+"%",this.translate[1]+"%"],(Array.isArray(this.angle)||this.angle||1!==this.scale||this.translatePx[0]||this.translatePx[1])&&(this.style.transform=[this.style.transform,this.angle,this.scale,void 0,this.translatePx]),["top","left","bottom","right"].forEach(l,this),this.style},prepForTrans:function(e,n,o,s){function a(e){var n=t.extend({},e,{visibility:0});return"to"==e&&(n.position="absolute"),Array.isArray(n.transform[0])&&(n.transform[2]=1),i.set(c,n),r(c)}var c,l,u;if(String(n.left)==String(o.left)&&String(n.top)==String(o.top)&&String(n.bottom)==String(o.bottom)&&String(n.right)==String(o.right))l=t.extend({},n,{visibility:1});else{var h,d;u=e.style.visibility,c=t.insertHTML(e,"<div><(div>","beforebegin"),h=a(n),d=a(o),t.removeNode(c),l=t.extend({},o,{visibility:1});var f=h.left+h.width/2-(d.left+d.width/2),g=h.top+h.height/2-(d.top+d.height/2),m=t.extend(Array.isArray(l.transform[0])?l.transform[0]:l.transform),p=(Array.isArray(o.transform[0])?+o.transform[1]||0:0)%360;p<0&&(p+=360);var v=p&&p-180,b=v?d.height:d.width,y=v?d.width:d.height;m[0]=f/(b/1)*100+parseInt(m[0],10)+"%",m[1]=g/(y/1)*100+parseInt(m[1],10)+"%",l.transform=m,Array.isArray(n.transform[0])&&(l.transform=[m,n.transform[1],n.transform[2]]),o.transform[4]&&(l.transform[4]=o.transform[4])}return s?u&&i.set(e,u):i.set(e,l),l}},new a}(0,t,r,l,o),h=function(e,t,i,n,o){function r(n,r){var s=t.randomName();l?this.DOMNode=t.insertHTML(a.body,"<span id="+s+"></span>","beforeend"):(this.DOMNode=t.wrapper(s),this.DOMNode.insertAdjacentHTML("beforeend",'<div style="overflow:hidden;visibility:hidden;padding:0;margin:0;border:none;width:calc(100vw + 0px);position:absolute"></div>'),this.etalonNode=this.DOMNode.lastElementChild,e.is.desktop&&(this.DOMNode.insertAdjacentHTML("beforeend",'<div style="visibility:hidden;overflow-y:scroll;position:absolute;z-index:-1">blaah</div>'),this.scrollbarNode=this.DOMNode.lastElementChild),l=!0),this.mirror=n;var c={position:o.getFixedValue(),zIndex:r||99999,display:"block",margin:0,padding:0,width:0,height:0,transform:o.use3D?"translateZ(0)":"none",overflow:"visible"};this.mirror?c.bottom=c.right=0:c.top=c.left=0,o.debug&&(c.outline="10px red solid"),i.addRuleObj("#"+s,c)}var s=this,a=s.document,c=t.randomName();i.addRuleObj("."+c,{direction:"ltr!important",position:"static",margin:0,padding:0,width:0,height:0,overflow:"visible"});var l=!1;return r.prototype={zIndex:function(e){this.DOMNode.style.zIndex=e},insert:function(e,i,r,s){return t.gid(e)&&t.removeNode(e),n.insert({tabletUsesMobile:o.tabletUsesMobile,parent:t.insertHTML(this.DOMNode,'<div class="'+c+" "+s+" "+e+'"></div>'),id:e,html:r||"",style:i||{},concealed:!0,position:"beforeend"})}},r}(e,t,r,c,o),d=function(e,t,i,n){function o(e,n){var o=void 0===e.distanceFromEdge?[]:(e.distanceFromEdge+"").split(",");o=o.map(function(e){return+e||0}),o.length>4&&(o.length=4);var s=0;switch((t.empty(e.distanceFromEdge)&&e.profile==S||e.profile==w&&!i.tabletUsesMobile)&&(s=10),o.length){case 0:o=[s,s,s,s];break;case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}var a=["top","right","bottom","left"].indexOf(n);return a<0&&(a=0),r(+o[a]||0)}function r(e){return e%2?e+1:e}function s(e){return i.CustomInitSettings&&i.CustomInitSettings[e]}function a(e,t){var i=-1,n=-1,r=-1,s=-1,a=e.config;if(a.edge&&!t)return a.edge;var c=e.controller.manager.badge,l=c&&O.badge(a)?c.dimensions().height+(a.version>1?0:6):0;switch(a.position){case g.SLIDEUP2:case g.SLIDEUP:i=o(a,"left"),s=o(a,"right"),a.relativeWidth&&100!=a.relativeWidth&&("right"==a.attach?i=-1:s=-1);break;case g.HELLO2:case g.HELLO:i=s=0,a.position==g.HELLO?r=0:n=0}switch(a.position){case g.SLIDEUP:"teaser"==a.type?n=o(a,"bottom"):r=o(a,"top");break;case g.SLIDEUP2:r=o(a,"top");break;case g.POPUP:case g.POPUP2:case g.POPUP7:case g.POPUP9:"teaser"==a.type?(n=o(a,"bottom"),a.position==g.POPUP7&&(i=o(a,"left")),a.position==g.POPUP9&&(s=o(a,"right"))):(r=a.profile==S?-1:o(a,"top"),i=a.profile==S?-1:o(a,"left"),s=a.profile==S?-1:o(a,"right"),n=a.profile==S?-1:o(a,"bottom"));break;case g.CENTER_LEFT:"teaser"==a.type?n=o(a,"bottom"):i=o(a,"left");break;case g.CENTER_RIGHT:"teaser"==a.type?n=o(a,"bottom"):s=o(a,"right");break;case g.BOTTOM_LEFT:i=Math.max(l,o(a,"left")),n=o(a,"bottom");break;case g.BOTTOM_RIGHT:s=Math.max(l,o(a,"right")),n=o(a,"bottom")}return a.edge={top:r,left:i,bottom:n,right:s},a.edge}function c(e){var i=e.relativeWidth||0,o="vw";if(e.relativeWidth)switch(e.profile){case k:o="vmin";break;case w:t.contains(e.position,g.HELLO,g.HELLO2)||(i=100/(n.minimalScreenDimension()/320),o="vmin")}return{width:i,unit:o}}function l(e){switch(e.position){case g.SLIDEUP:case g.SLIDEUP2:if(e.profile!=S)return!0;break;case g.POPUP:case g.POPUP2:case g.POPUP5:case g.POPUP7:case g.POPUP9:return!0}}function u(e){return t.contains(e.position,g.HELLO,g.HELLO2)}function h(e){return t.contains(e.position,g.HELLO)}function d(e,n,o,r){var s=e.config.type,a=t.extend({description:{name:e.config.name,what:s,to:o,from:n,obj:e}},e.config,e.dimensions());return a.from=I[s](a,n,r,!1),a.to=I[s](a,o,r,!0),a.to&&(a.duration=a.to.duration,a.delay=a.to.delay,a.ease=a.to.ease,~i.debug.indexOf("a")&&(a.duration*=10),a.duration*=1),a}function f(e,i){var n=t.extend({},e.config,e.dimensions());return n.to=I[e.config.type](n,i),n.next=i,n}var g=e.POS,m=e.PA.CENTER,p=e.PA.INSIDE,v=e.PA.OUTSIDE,b=e.PA.BOTTOM,y=e.PA.TOP,k=e.PROFILE.MOBILE,w=e.PROFILE.TABLET,S=e.PROFILE.DESKTOP,x=e.AL.TOP_LEFT,C={common:{relativeWidth:0,current:"close",adjustableSize:!1,scrollContent:!1,width:0,height:0,attach:"left"},spacer:function(e){var i={bodyTop:{def:"bodyTop",kind:"shared",selector:"body",insert:"afterbegin",style:{width:["100vw"],position:"relative"}},selector:{def:"selector",selector:"",kind:"controller",insert:"afterbegin",style:{width:"100%",position:"static"}}},n="object"==t.typeStr(e.placement),o=i.bodyTop;return n?o=i[n.def]:(o=i[e.placement])||(o=i.selector,o.selector=e.placement),t.extend({type:"spacer",id:"sleeknote-spacer-"+("shared"==o.kind?o.selector:e.campaignId),next:e.next,current:e.current,width:[e.width],height:e.boundsHeight},o,n?e.placement:{})},badge:function(e){return t.extend({},this.common,e||{},{type:"badge"})},cover:function(e){return t.extend({},this.common,{type:"cover"})},teaser:function(e){var i=+e.relativeWidth||0,n=e.attach;if(e.profile==k)switch(i=i||100,e.position){case g.POPUP9:case g.BOTTOM_RIGHT:n=n||"right";break;default:n=n||"left"}return t.extend({},this.common,e,{type:"teaser",attach:n,relativeWidth:i})},form:function(e){var i,n=+e.relativeWidth||0;switch(e.profile==k&&(n=n||100),e.position){case g.SLIDEUP:case g.SLIDEUP2:n=n||(e.profile==k?100:0);break;case g.HELLO:case g.HELLO2:i=i||'[data-type="toggle"]',n=n||100}return t.extend({},this.common,e,{type:"form",toggle:i,relativeWidth:n})},success:function(e){return t.extend(C.form(e),{type:"success",toggle:void 0})}},T={defaults:{ease:[0,0,.58,1],duration:300,delay:0,style:{}},create:function(){var e=[{},this.defaults].concat(Array.prototype.slice.call(arguments));return t.extend.apply(null,e)},centerSlideIn:{rotateScale:function(t,i){if(t.rotate){var n="left"==t.halign,o=t.rotate;return[e.PA[o.toUpperCase()],m,90*(n?1:-1),1]}},open:function(t){return T.create({anchor:e.AL[(t.valign||"bottom").toUpperCase()+"_"+(t.halign||"left").toUpperCase()],to:[p,m],move:[0,"50%"],rotateScale:void 0,duration:300})},close:function(e){return T.create(this.open(e),{to:[v,m]})},box:function(e){return this.open(e)}},centerPopupSlide:{open:function(){return T.create({anchor:x,to:[m,m],move:["50%","50%"],animate:{opacity:1},duration:400})},close:function(){return T.create(this.open(),{ease:"easeOut",move:["50%","45%"],animate:{opacity:0},duration:400})},closeDown:function(){return T.create(this.close(),{move:["50%","55%"]})},openSpring:function(){return T.create(this.open(),{duration:600,ease:"wall"})}},centerPopupRotate:{open:function(){return T.create({anchor:x,to:[m,m],move:["50%","50%"],rotateScale:[m,m,[0,1,1,0],1],animate:{opacity:1},duration:300})},close:function(){return T.create(this.open(),{rotateScale:[m,m,[0,1,1,-180],.1],ease:[.25,.1,.25,1],animate:{opacity:0}})},close2:function(){return T.create(this.close(),{rotateScale:[m,m,[0,1,1,180],.1]})},openflip:function(){return T.create(this.open(),{style:{backfaceVisibility:"hidden"},ease:[.5,0,.5,1],origin:[0,.5],rotateScale:[m,m,[1,0,0,0],1]})},closeflip:function(){return T.create(this.close(),{style:{backfaceVisibility:"hidden"},ease:[.5,0,.5,1],rotateScale:[m,m,[1,0,0,-180],1],origin:[0,.5],animate:{opacity:1}})},closeflip2:function(){return T.create(this.closeflip(),{rotateScale:[m,m,[1,0,0,180],1]})}},topCenterPopup:{open:function(){return T.create(T.centerPopupSlide.open(),{to:[m,p],move:["50%",0]})},close:function(){return T.create(T.centerPopupSlide.close(),{to:[m,v],move:["50%",0]})}},basicSlideIn:{open:function(t){return T.create({anchor:e.AL[(t.valign||"top").toUpperCase()+"_"+(t.halign||"left").toUpperCase()],to:[e.PA[t.center?"CENTER":"INSIDE"],p],move:t.center?["50%",t.move.y]:[t.move.x,t.move.y],rotateScale:void 0,origin:["right"==t.halign?1:0,"bottom"==t.valign?1:0],ease:[.25,.1,.25,1],duration:600})},close:function(t){return T.create(this.open(t),{to:[e.PA[t.center?"CENTER":"INSIDE"],v],ease:[.42,0,1,1],move:t.center?["50%",0]:[t.move.x,0],rotateScale:void 0})},half:function(e){return T.create(this.open(e))}},badgeSlideIn:{open:function(t){var i=(t.halign||"left").toUpperCase();return T.create({anchor:e.AL["BOTTOM_"+("CENTER"==i?"LEFT":i)],to:["CENTER"==i?m:p,p],move:"CENTER"==i?["50%",0]:void 0,rotateScale:"CENTER"==i?void 0:[e.PA[i],b,-90,1],duration:300})},close:function(t){var i=(t.halign||"left").toUpperCase();return T.create(this.open(t),{ease:[.25,.1,.25,1],rotateScale:"CENTER"==i?void 0:[e.PA[i],y,-90,1],to:["CENTER"==i?m:p,v]})}},grow:{open:function(e){return T.create({anchor:x,to:[p,p],animate:{height:e.height}})},close:function(e){return T.create(this.open(e),{animate:{height:0}})}},fadeIn:{open:function(){return T.create({anchor:x,to:[p,p],ease:"linear",origin:[0,0],animate:{opacity:1}})},close:function(){return T.create(this.open(),{delay:100,animate:{opacity:0}})}}},O={spacer:function(e){var i=!t.empty(e.placement)&&h(e);return i&&"bodyTop"==e.placement?!s("nospacer"):i},badge:function(e){
return!t.contains(e.position,g.HELLO,g.HELLO2)&&(t.contains(e.type,"form","success")&&e.profile==S)},cover:function(e){return!!t.contains(e.type,"form","success")&&l(e)}},I={spacer:function(e,t){return T.grow[t]({height:e.height})},badge:function(e,t){var i="center";switch(e.position){case g.CENTER_LEFT:case g.BOTTOM_LEFT:i="left";break;case g.CENTER_RIGHT:case g.BOTTOM_RIGHT:i="right"}return T.badgeSlideIn[t]({halign:i})},cover:function(e,t){return T.fadeIn[t]()},form:function(e,i,n,o){var r,s,a="topCenterPopup",c=e.move?t.extend(e.move):{x:0,y:0};switch(e.position){case g.SLIDEUP:case g.SLIDEUP2:r="top",a="basicSlideIn";break;case g.HELLO:a="basicSlideIn",r="top";break;case g.HELLO2:a="basicSlideIn",r="bottom";break;case g.POPUP:case g.POPUP2:a="centerPopupSlide",n&&"form"==e.type&&("teaser"==n&&"open"==i&&(i="openSpring"),"success"==n&&"close"==i&&(i="closeDown"));break;case g.POPUP5:case g.POPUP7:case g.POPUP9:a="topCenterPopup";break;case g.CENTER_LEFT:s="left",r="bottom",a="centerSlideIn";break;case g.CENTER_RIGHT:s="right",r="bottom",a="centerSlideIn";break;case g.BOTTOM_LEFT:a="basicSlideIn",s="left",r="bottom";break;case g.BOTTOM_RIGHT:a="basicSlideIn",s="right",r="bottom"}if("half"==i&&e.toggleDOMNode){e.toggleDOMNode=t.qsa(e.toggle,e.boxNode)[0];var l=e.toggleDOMNode.getBoundingClientRect();if(l.height)switch(e.position){case g.HELLO:c.y=-l.top;break;case g.HELLO2:c.y=l.bottom-e.boxNode.ownerDocument.documentElement.clientHeight}}return T[a][i]||(i="open"),T[a][i]({halign:s,valign:r,move:c})},success:function(e,t,i,n){return this.form(e,t,i,n)},teaser:function(e,i){var n,o,r,s,a=e.move?t.extend(e.move):{x:0,y:0},c="basicSlideIn";switch(e.position){case g.SLIDEUP:o="bottom",e.attach&&e.relativeWidth<100?n=e.attach:e.profile==k?n="left":s=!0;break;case g.SLIDEUP2:o="top",e.attach&&e.relativeWidth<100?n=e.attach:e.profile==k?n="left":s=!0;break;case g.POPUP:case g.POPUP2:case g.POPUP5:s=!0,o="bottom";break;case g.CENTER_LEFT:r="left",n="left",o="bottom",c="centerSlideIn";break;case g.CENTER_RIGHT:r="right",n="right",o="bottom",c="centerSlideIn";break;case g.POPUP7:case g.BOTTOM_LEFT:n="left",o="bottom";break;case g.POPUP9:case g.BOTTOM_RIGHT:n="right",o="bottom"}return T[c][i]||(i="open"),T[c][i]({halign:n,valign:o,center:s,rotate:r,move:a})}};return{translateRelative:c,defaults:function(e,t){return e in C?C[e](t):t},isSleekBar:u,needs:O,distanceFromEdges:a,animationParameters:d,boxParameters:f}}(l,t,o,e),f=function(e,t,i,n,o,r,s,a,c,l){function u(e){return c.CustomInitSettings&&c.CustomInitSettings[e]}function h(e){return e.etalonNode&&(I=e.etalonNode,O=e.scrollbarNode),e}function d(){return h(M.TL||(M.TL=new s(!1,u("zIndex"))))}function f(){return h(M.BR||(M.BR=new s(!0,u("zIndex"))))}function g(){return M.TL||M.BR||f()}function m(e){return e%2?Math.floor(e+1):e}function p(e){return M.BR&&M.BR.DOMNode.contains(e)&&M.BR||M.TL&&M.TL.DOMNode.contains(e)&&M.TL}function v(){return O?O.offsetWidth-O.clientWidth:0}function b(){return M.BR.DOMNode.getBoundingClientRect().left-M.TL.DOMNode.getBoundingClientRect().left+v()}function y(){return[I.offsetWidth,I.getBoundingClientRect().width,I.clientWidth].filter(function(e){var e=Math.round(e);return t.isEqual(e,b(),v()+2)}).length}function k(){return"deviceXDPI"in E.screen?E.screen.deviceXDPI/E.screen.systemXDPI:(c.CustomInitSettings,1)}function w(){var e,i=1,n=1,o=v(),r=y();if(r){if(1==r){var s=N.body.getBoundingClientRect().width;s==N.documentElement.clientWidth&&s!==N.body.clientWidth&&(e=1)}}else i=b()/I.offsetWidth;var a,l=1;if("customBodyEelement"in c.CustomInitSettings)a=t.qsa(c.CustomInitSettings.customBodyEelement)[0];else{var u=N.head.style.cssText;N.head.style.cssText="display: block;zoom:"+E.getComputedStyle(N.body).zoom,a=N.head}a&&(l=E.innerWidth/(Math.max(a.clientWidth,N.body.clientWidth)+E.innerWidth-N.documentElement.clientWidth)),"customBodyEelement"in c.CustomInitSettings||(N.head.style.cssText=u),r&&r<3?o=E.innerWidth-N.documentElement.clientWidth:i=1/l,n=i,r&&r>2&&(i=1);var h=k()*l,d=1/h;return e&&(d=l),{pixelRatio:A?1:n,scrollbarWidth:o,zoom:A?1:d,viewportUnitRatio:A?1:i}}function S(){var e=f().DOMNode;e.style.transform="none";var t=e.getBoundingClientRect(),i=t.left-Math.floor(t.left),n=t.top-Math.floor(t.top);e.style.transform="translate3d(-"+i+"px, -"+n+"px, 0px)"}function x(e){var i=w();!e&&t.isEqual(_.zoom,i.zoom,.001)||(_=i,S(),j&&j.onReposition&&j.onReposition())}function C(){var e=+new Date;if(E.clearTimeout(B),e-D<300)return void E.setTimeout(C,300);x()}function T(e){return(e+"").replace(/[0-9.-\s]/gi,"")}var O,I,E=this,N=E.document,P=t.randomName(),M={TL:void 0,BR:void 0};d(),f();var A=c.editor;if(!A){I.insertAdjacentHTML("afterbegin",'<iframe class="resize-listener" style="display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"></iframe>');var L=I.querySelector(".resize-listener"),D=0,B=0,R=t.throttle(500,C);t.listener(E,"add",R)(e.is.ios||e.is.android?"orientationchange":"resize"),setTimeout(function(){t.getWindow(L).addEventListener("resize",C)},0)}var _={zoom:0};x();var H,F=!1,j={systemScrollbarWidth:v,initialize:function(){x(!0)},onReposition:!1,getFrameScale:function(){return A?1:1/k()},getAnchor:function(e){return"tl"==e?d():"br"==e?f():g()},prepareForAnimation:function(e){var i=t.filterMap(e,function(e){if(!t.contains(e.description.what,"cover","badge")&&"close"!=e.description.to){var i=e.description.obj,n=Number(t.getAdvOption(i.controller.config,i.config.profile==a.PROFILE.MOBILE?"zindexes-mobile":"zindexes-desktop","teaser"==i.config.type?1:2));return isNaN(n)&&(n=99999),{zIndex:n,DOMNode:i.config.DOMNode}}});if(i.length){var n=i[0].zIndex,o=i[0].DOMNode;M.TL.DOMNode.contains(o)||M.BR.DOMNode.contains(o)?(M.TL.zIndex(n),M.BR.zIndex(n)):o.style.zIndex=n}},cleanup:function(){F||(F=!0)},sandbox:function(){var e=t.gid("sleeknote-sandbox");return e||(g().DOMNode.insertAdjacentHTML("beforeend",'<iframe data-for="layout" id='+P+' style="display:none!important"></iframe>'),e=t.gid(P)),e.name=P,e},prepForTrans:function(e,t,i,n){return r.prepForTrans(e,t,i,n)},css:function(e,i,n,r){var s={};if(r||(r=e[i]),r){n=t.extend(n);var a,c;for(a in n)if(t.contains(a,"width","height","left","top","right","bottom")&&void 0!==(c=n[a])&&(t.isNumeric(c)&&(c=[c]),Array.isArray(c))){var l=-1,u=0;if(n[a]=c.map(function(e,i){if(t.isNumeric(e))return m(e*_.pixelRatio);e=(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var n=T(e);if(!t.contains(n,"vw","vh","vmin"))return!n&&l<0&&(l=i),e;var o=parseInt(e,10);return u=o,(o*=_.viewportUnitRatio)+n}),t.contains(a,"left","right","width")&&"DOMNode"==i){var h=-_.scrollbarWidth*(u/100);A&&("width"==a?(h*=-1,"teaser"==e.type&&(h=0)):h=0),~l?n[a][c]+=h:n[a].push(h)}"height"==a&&"DOMNode"==i&&r.style.maxHeight&&this.css(e,"",{maxHeight:100*_.viewportUnitRatio+"vh"},r)}return o.css(r,n,s)}},doc:function(e){return o.doc(e)},positionBegin:function(t,i,n){var o=p(i);return r[o?"startRelative":"start"](t,i,!o||(e.isPositionValue(o.position,"fixed")?void 0:o.DOMNode),n,o&&o.mirror)},absolutePositionBegin:function(e,t,i){return r.start(e,t,!0,i)},createPositionStyles:function(e,i,n){var o=e[i],r=this.positionBegin(o.anchor,e.DOMNode,e),s=o.style||(o.style={});e.isHidden&&(s.visibility=0),n||(s.width=e.width,s.height=e.height),Object.keys(o.animate||{}).forEach(function(e){s[e]=o.animate[e]});var c=t.extend(o.rotateScale);return 1==this.getFrameScale()||c||(c=[a.PA.CENTER,a.PA.CENTER,0,1],c[3]*=this.getFrameScale()),r.move.apply(r,o.move).move.apply(r,(e.translatePx||[,]).concat(!0)).to.apply(r,o.to).rotateScale.apply(r,c).origin.apply(r,o.origin).css(s).get()},createBoxPositionStyles:function(e){var i=e.to,n=this.absolutePositionBegin(i.anchor,e.DOMNode,e);return i.move&&(t.isNumeric(i.move[0])&&(i.move[0]=0),t.isNumeric(i.move[1])&&(i.move[1]=0)),n.move.apply(n,i.move).to.apply(n,i.to).get()},createMotion:function(e,o){var r=Object.keys(e.to.animate||{}),s={ease:i.makeEaseFunc(e.ease||"easeOut"),props:["transform"].concat(r),animate:{from:{},to:{}},description:e.description,delay:e.delay||0,duration:e.duration||0,firstProp:function(){return t.extend({},this.from,{transform:i.blendTransformArray(this.animate.from.transform,this.animate.to.transform,0)})},frame:function(e,t,n){function r(e){return o?o(e,t,n):e}var s,a,c={};if(n)return r(this.to);if(t)return r(this.firstProp());for(s=this.props.length;s--;)a=this.props[s],"transform"==a?c.transform=i.blendTransformArray(this.animate.from.transform,this.animate.to.transform,e):e>1?c=this.to:e<0?c=this.firstProp():c[a]=this.animate.from[a]+(this.animate.to[a]-this.animate.from[a])*e;return r(c)}};return s.frame=s.frame.bind(s),e.DOMNode.style.display="block",n.reveal(e.DOMNode),["to","from"].forEach(function(t){s[t]=n.applyPerspectiveIf(this.createPositionStyles(e,t)),"from"==t&&(s[t]=n.applyPerspectiveIf(j.prepForTrans(e.DOMNode,s.from,s.to,!0))),s.animate[t].transform=i.makeFullTransformArray(s[t].transform),r.forEach(function(i){s[t][i]=s.animate[t][i]=e[t].animate[i]})},this),s},insert:function(e,i,n,r,s,h){var g,m=c.debug;s||(s={});var p=e;switch("note"==p&&(p=i.type),s.zIndex=["cover","form","success","teaser","badge"].indexOf(p),l.isSleekBar(i)&&(s.zIndex-=3),e){case"note":if(this.cleanup(),(H=i.profile)!=a.PROFILE.DESKTOP)g=i.position==a.POS.HELLO2?f():"teaser"==p&&i.position!=a.POS.SLIDEUP2?f():d();else if(i.position==a.POS.HELLO){if(!t.empty(i.placement))return o.insert({tabletUsesMobile:c.tabletUsesMobile,parent:N.body,id:i.name+n,html:r,style:{visibility:0,zIndex:u("zIndex"),position:"absolute"},position:h,concealed:!0});g=d()}else g=f();var v=g.insert(i.name+n,s,r,m?i.name:"");return c.editor&&H!=a.PROFILE.MOBILE?this.css(i,"",{overflow:"hidden"},v):H==a.PROFILE.MOBILE&&t.contains(p,"form","success")&&this.css(i,"",{webkitOverflowScrolling:"touch",overflowY:"auto",overflowX:"hidden",maxHeight:"100vh"},v),v;case"badge":case"cover":return g=d(),g.insert(n,s,r)}}};return j}(e,t,s,r,c,u,h,l,o,d),g=function(e,t,i,n,o,r,s,a){function c(e){return e.isHello?"inline":"tooltip"}function l(e,n,s){var c=e.Y,l=c(n),u=t.querySelectorClosest(n,".form-element, .element");if(u){var h=e.config.formNode,d=u.getBoundingClientRect(),f=h.getBoundingClientRect();g(e);var m=t.insertHTML(h,'<div id="validation-tooltip" style=\'width:auto;overflow:visible;height:auto;color:#fff;font-family:"Helvetica neue", arial, sans-serif;padding:5px 10px;line-height: 16px;font-weight:bold;font-size:11px;text-align:center;background:#ED5757;position:absolute;z-index:9999;border-radius:2px\'>'+s+'<span class="tip" style="position:absolute;top:100%;left:50%;margin-left:-5px;width:0;height:0;border-top:5px solid #ED5757;border-right:5px solid transparent;border-left:5px solid transparent"></span></div>');i.set(m,"opacity",0),(n.offsetWidth-n.clientWidth||n.offsetHeight-n.clientHeight)&&(l.attr("data-default-bordercolor",l.css("border-color")),l.css("border-color","#ED5757")),o.absolutePositionBegin(a.AL.TOP_LEFT,m).move(d.left-f.left+d.width/2,d.top-f.top-10).to(a.PA.CENTER,a.PA.OUTSIDE).set(),new r({duration:200,frame:function(e,n){i.set(m,{top:t.px2rem(18*this.pos-20,!1),opacity:this.pos})}}).play()}}function u(e){var n=e.Y,o=n("#validation-tooltip")[0];o&&(n("input[data-default-bordercolor]").each(function(){var e,t=n(this);(e=t.attr("data-default-bordercolor"))&&t.css("border-color",e)}),o.id="",new r({duration:200,frame:function(e,n){i.set(o,{opacity:1-this.pos}),n&&t.removeNode(o)}}).play())}function h(e,t,n){p={borderColor:i.get(t,"borderColor"),borderWidth:i.get(t,"borderWidth"),borderStyle:i.get(t,"borderStyle"),boxShadow:i.get(t,"boxShadow")},i.set(t,{borderColor:"#ED5757",borderWidth:1,borderStyle:"solid",boxShadow:"0px 0px 10px 3px #ED5757"}),m=t}function d(e){i.set(m,p)}function f(e,t,i){switch(c(e)){case"inline":h(e,t,i);break;default:l(e,t,i)}}function g(e){switch(c(e)){case"inline":d(e);break;default:u(e)}}var m,p={};return{show:f,hide:g}}(0,t,r,0,f,s,0,l),m=function(e,t,i,n,o){function r(n,r,s){function a(e){n(e+" form")[0]&&(n(e+" .sleeknoteMobileClose").css({borderTopRightRadius:10,borderTopLeftRadius:10}),n(e+" form .row:first-child .column").each(function(){var e=parseInt(i.get(this,"paddingTop"),10);i.set(this,"paddingTop",e+40)}))}function c(e,i){var o=s.doc.createDocumentFragment(),r=n(e+" form .column"),a=i.CustomInitSettings&&i.CustomInitSettings.allowMobileImages;if(r.length){r.each(function(e){(!a||"array"==t.typeStr(a)&&-1==a.indexOf(i.campaignId)||a!=i.campaignId)&&n('[data-sn-type="image"]',this).remove(),this.children.length&&(1==this.children.length&&n(this.children[0]).hasClass("column-bg")||o.appendChild(this))});var c=n(e+' form [data-sn-type="grid"]')[0];if(c){c.innerHTML="";for(var l,u,h,d=o.children.length-1,f=0;l=o.children[0];)h={top:0,bottom:0,left:0,right:0,width:"100%",height:"100%",borderTopRightRadius:"0px",borderTopLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px"},f?f==d&&(h.borderBottomRightRadius=10,h.borderBottomLeftRadius=10):(h.borderTopRightRadius=10,h.borderTopLeftRadius=10,f==d&&(h.borderBottomRightRadius=10,h.borderBottomLeftRadius=10)),n(".column-bg",l).css(h),f+=1,u=s.doc.createElement("div"),u.className="row",u.appendChild(l),c.appendChild(u);n(e+' form [data-sn-type="close"]').remove(),n(e+' form [data-sn-type="sticker"]').remove(),n(e+' form [data-sn-type="grid"]').css("width","100%"),n(e+" .column").css("width","100%"),n(e+" form").css("float","none"),n(e).css("width","100%")}}}if(r.version<3&&(c("#sleeknoteBox",r),c("#sleeknoteSuccess",r)),n(".fb-container").css(v),n(".fb_iframe_widget span").first().css(p),!t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)){var l={position:"absolute",left:0,top:0,"z-index":9999,background:"#fff",width:"100%","text-align":"right",color:"#474747","font-family":"'Helvetica Neue', arial, sans-serif","font-style":"italic","font-size":14,"border-bottom":"1px solid #ddd",height:40},u='<img src="//sleeknoteimages.sleeknote.com/mobile-close'+(e.is.retina?"_retina":"")+'.png" class="mobile-close-icon" style="cursor:pointer;position:absolute;right:7px;top:7px;'+(e.is.retina?"width:26px;":"")+'">',h='<div class="sleeknoteMobileClose" style="'+i.inline(l,!0)+'">'+u+"</div>";if(n(t.insertHTML(n("#sleeknoteBox")[0],h)),a("#sleeknoteBox"),r.badge){var d="//sleeknote.com/?utm_source=Badge&utm_medium="+r.type+"&utm_campaign="+r.hostname;t.insertHTML(s.doc.querySelector(".sleeknoteMobileClose"),'<a target="_blank" href="'+d+'" style="opacity:0.5;position:relative;display:block;width:120px;height:40px;background:url(//sleeknoteimages.sleeknote.com/badge.svg);background-size: 77px 20px; background-repeat: no-repeat; background-position: 20px 10px;"></a>')}n(t.insertHTML(n("#sleeknoteSuccess")[0],h)),a("#sleeknoteSuccess")}}function s(n,r,s){var a=[];if(r.version<3&&n("#SNForm").length>0){a=[],n("#SNForm .form-element").each(function(){var e=n(this);"hidden"!=e.children().first().attr("type")&&a.push({obj:e,height:this.offsetHeight,topPosition:i.get(this,"top")})});var c=function(e,t){return e.topPosition-t.topPosition};a.sort(c);var h=0;n.each(a,function(e){var t=e;e>0&&(h=h+a[e-1].height+10),n.each(a,function(e){0===t?a[e].obj.css("top",0):e>=t&&a[e].obj.css("top",h)})});var d=0,f=0;n("#SNForm .form-element").each(function(){var e=i.get(this,"top");e>d&&(d=e,f=e+this.offsetHeight)}),n("#SNForm").css("height",f)}t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)||(n("#sleeknoteBox").css(l),n("#sleeknoteSuccess").css(u)),r.version<3&&(n("#sleeknoteBox > *, #sleeknoteSuccess > *").each(function(){(this.style.float||this.style.width)&&i.set(this,{width:"100%","max-width":"100%"})}),n("#sleeknoteSuccess, #sleeknoteBox").css("background-image","none"),n('input[type="text"], input[type="email"], input[type="telephone"]').css(g),n(".fb-container").css(v),n('.SNTextEdit, .text-container, button, .SNTextEdit, .SNCTAEdit, .form-element, form, input[type="text"], input[type="email"], iframe, .fb_iframe_widget').css(p),n(".fb_iframe_widget span").first().css(p),n(".SNTextEdit, .text-container, #SNForm, .SNCTAEdit").css(y),n(".form-element").css(b),n("img, .SNCloseButton, .image-container").remove(),n('input[type="radio"]').next("label").css(m),n("img").not(".mobile-close-icon").remove());var k={position:"absolute",left:0,top:0,"z-index":9999,background:"#fff",width:"100%","text-align":"right",color:"#474747","font-family":"'Helvetica Neue', arial, sans-serif","font-style":"italic","font-size":14,"border-bottom":"1px solid #ddd",height:40};if(!t.contains(r.position,o.POS.HELLO,o.POS.HELLO2)){var w='<img src="//sleeknoteimages.sleeknote.com/mobile-close'+(e.is.retina?"_retina":"")+'.png" class="mobile-close-icon" style="cursor:pointer;position:absolute;right:7px;top:7px;'+(e.is.retina?"width:26px;":"")+'">',S='<div class="sleeknoteMobileClose" style="'+i.inline(k,!0)+'">'+w+"</div>";if(r.badge){var x="//sleeknote.com/?utm_source=Badge&utm_medium="+r.type+"&utm_campaign="+r.hostname;t.insertHTML(s.doc.querySelector(".sleeknoteMobileClose"),'<a target="_blank" href="'+x+'" style="opacity:0.5;position:relative;display:block;width:120px;height:40px;background:url(//sleeknoteimages.sleeknote.com/badge.svg);background-size: 77px 20px; background-repeat: no-repeat; background-position: 20px 10px;"></a>')}n(t.insertHTML(n(r.id)[0],S))}}var a=60,c={"-webkit-transform-origin":"none","-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",transform:"none"},l={position:"relative",width:"100%",top:"10px",margin:"0px",border:"none",bottom:"auto",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 20px 20px","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%","background-image":"none"},u={position:"static",width:"100%",top:"0px",bottom:"auto",margin:"0px",border:"none",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 20px 20px","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%"},h={width:"100%",bottom:"initial",left:"initial",right:"initial",top:"0px"},d={"line-height":"38px","text-align":"center","font-size":"16px !important"},f={position:"static",top:"initial",bottom:"initial",left:"initial",right:"initial","min-height":"40px"},g={"font-size":"16px","-webkit-user-modify":"read-write-plaintext-only"},m={padding:"1px 0px 1px 25px"},p={width:"100%","line-height":"initial"},v={"text-align":"center"},b={left:"auto",right:"auto"},y={position:"relative",top:"initial",bottom:"initial",left:"initial",right:"initial"};return{prepare:function(g,m){function b(e){w('[data-sn-type="close"]').css({zIndex:1})}function y(e){e.profile==o.PROFILE.MOBILE&&(w("#sleeknoteMinified").css(h),e.version<3&&(w(".text-container").css(f),w(".text-container, .SNTextEdit").css(p),w(".SNTextEdit").css(v),w("p").css(d),w('#sleeknoteMinified [data-sn-type="grid"]').css({width:"100%"}),w("#sleeknoteMinified img").remove()))}var k=g.config,w=g.Y,S=0,x=function(){S||("teaser"==k.type?y(k):k.mobile?2==k.version?r(w,k,g):s(w,k,g):b(w),m&&m())};w("input").bind("keypress",function(e){e=t.normalizedEvent(e),13==e.which&&(t.preventDefault(e),t.click(g.doc.querySelector('[data-section="Button"]'),e))}),w("input").bind("focus",function(e){n.hide(g)}),function(t){1==t.version&&(w("#sleeknoteMinified").css(c),e.is.ie&&i.addRule("p,li","line-height: 1.18",g.doc))}(k),function(i){2==i.version&&(function(){w("body [style]").each(function(){var i=this.style,n=this.getAttribute("style");if(~n.indexOf("-webkit-")&&!("webkitTransform"in i)&&t.empty(i.transform)&&(this.setAttribute("style",n.replace(/-webkit-/g,"")),e.is.ie&&1==this.parentNode.querySelectorAll(".element").length)){var o=this.parentNode.style.verticalAlign,r=this.parentNode.getBoundingClientRect(),s=g.win.getComputedStyle(this).transform.replace(/^.*\((.*)\)$/g,"$1").split(/, +/),a=+s[5];"middle"==o&&(a+=r.height/2),this.style.transform="translate("+s[4]+"px, 0)",this.style.top=a+"px"}})}(),w(".row").css("tableLayout","fixed"),w("form").css("padding","0px"),w("#sleeknoteMinified, #sleeknoteSuccess, #sleeknoteBox").each(function(){var e=w('[data-sn-type="close"]',this)[0],t=w('[data-sn-type="grid"]',this)[0].parentNode,i=t.getBoundingClientRect();w('[data-sn-type="sticker"]',this).each(function(){var n=this.getBoundingClientRect();w(this).css({top:n.top-i.top,left:n.left-i.left,transform:""}),t.insertBefore(this,e)})}))}(k),function(e){1!=e.version&&(w(".linkbutton, img").each(function(){var e=w(this).attr("data-sn-custom-href"),t=w(this).attr("data-sn-custom-step"),i=w(this).attr("data-sn-custom-email");(e||t||i)&&w(this).css({cursor:"pointer"})}),w("a").each(function(){var e=w(this).attr("target"),i=w(this).attr("data-sn-custom-href")||w(this).attr("data-sn-custom-email");t.empty(i)&&t.empty(e)&&w(this).attr("target","_blank")}))}(k),function(e){3==e.version&&(a=40,c={"-webkit-transform-origin":"none","-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",transform:"none"},l={position:"relative",width:"100%",top:"10px",margin:"0px",border:"none",bottom:"auto",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 0px 0px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%","background-image":"none"},u={position:"static",width:"100%",top:"0px",bottom:"auto",margin:"0px",border:"none",left:"0px",right:"0px","box-shadow":"none",padding:a+"px 0px 0px",height:"auto","min-height":"0px","-webkit-text-size-adjust":"100%"})}(k),g.doc.querySelectorAll(".fb-container").length&&(S++,t.loadScript("//connect.facebook.net/en_US/all.js",function(){g.win.FB.init({appId:"684387618256004",status:!0,cookie:!0,xfbml:!0,oauth:!0}),g.win.FB.Event.subscribe("edge.create",function(e){g.message({type:"aftersubmit",from:k,target:"Facebook"}),g.win.socialSubmitSleeknoteBox()}),S--,x()},"facebook-jssdk",g.doc)),g.doc.querySelectorAll(".twitter-follow-button, .twitter-share-button").length&&(S++,t.loadScript("//platform.twitter.com/widgets.js",function(){g.win.twttr.events.bind("tweet",function(e){g.message({type:"aftersubmit",from:k,target:"Twitter"}),g.win.socialSubmitSleeknoteBox()}),g.win.twttr.events.bind("follow",function(e){g.message({type:"aftersubmit",from:k,target:"Twitter"}),g.win.socialSubmitSleeknoteBox()}),S--,x()},"twitter-wjs",g.doc)),x()}}}(e,t,r,g,l),p=function(){function e(){return Object.keys(k)}function t(t){return{selected:i(t),options:e().map(function(e){return{value:e,text:k[e].caption}})}}function i(t){var i=e();return t||(t=b),i.indexOf(t)<0&&(t="en"),t}function n(){return Object.keys(w)}function o(e){return{selected:r(e),options:n().sort(function(e,t){var i=w[e].caption.toUpperCase(),n=w[t].caption.toUpperCase();return i<n?-1:i>n?1:0}).map(function(e){return{value:e,text:w[e].caption}})}}function r(e){var t=n();return e||(e="dkkrone"),t.indexOf(e)<0&&(e="dkkrone"),e}function s(e){return e||(e="dkkrone"),w[e]}function a(e){var t=["y","M","d","h","m","s"];return e===+e?t[e]:e}function c(e,t,n){n=a(n),1!=t&&(n+=n);var o=k[i(e)].relativeTime[n];return o.call?o(t,!0,n):o.replace("%d",t)}function l(){var e=Array.isArray(arguments[1])?arguments[1]:Array.prototype.slice.call(arguments,1),t=arguments[0];return"<p><span>"+e.reduce(function(e,i,n){if(i>0){var o=c(t,i,n);5==n&&(o="<span data-sn-subtype=seconds>"+o+"</span>"),e+=" "+o}return e},"")+"</span></p>"}function u(e){return l(e,0,0,2,3,4,6)}function h(e){return v.createTreeWalker(e,p.NodeFilter.SHOW_TEXT,function(){return p.NodeFilter.FILTER_ACCEPT},!1)}function d(e){for(var t,i,n=h(e),o=[],r=new RegExp("["+y+"]","g");n.nextNode();)t=[],i=n.currentNode.textContent.replace(r,function(e){return t.push(+e),"{{"+e+"}}"}),t.length&&o.push(function(e,t,i){return function(n){e.textContent=t,i.forEach(function(t){e.textContent=e.textContent.replace("{{"+t+"}}",n[y.indexOf(t)])})}}(n.currentNode,i,t));return function(){return function(e){o.forEach(function(t){t(e)})}}()}function f(e,t){for(var i=h(e),n=!0;i.nextNode();)i.currentNode.textContent=n?t:"",n&&(n=!1)}function g(e,t){return k[i(t)].errors[e]||"Error"}function m(e,t,i){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[i][0]:n[i][1]}var p=this,v=p.document,b=(p.navigator.userLanguage||p.navigator.language).split("-")[0],y=[0,0,2,3,4,6],k={en:{caption:"English",errors:{"email-error":"This email is not valid.","required-error":"This field is required."},relativeTime:{s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months"}},da:{caption:"Dansk",errors:{"email-error":"Denne email er ikke gyldig.","required-error":"Dette felt er påkrævet."},relativeTime:{s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder"}},nb:{caption:"Norwegian Bokmål",errors:{"email-error":"Denne e-postadressen er ikke gyldig.","required-error":"Dette feltet er nødvendig."},relativeTime:{s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder"}},nn:{caption:"Norwegian Nynorsk",errors:{"email-error":"Denne e-postadressen er ikke gyldig.","required-error":"Dette feltet er nødvendig."},relativeTime:{s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader"}},sv:{caption:"Svenska",errors:{"email-error":"Vänligen ange en giltig e-postadress.","required-error":"Detta fält krävs."},relativeTime:{s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader"}},nl:{caption:"Nederland",errors:{"email-error":"Deze e-mail is niet geldig.","required-error":"Dit veld is verplicht."},relativeTime:{s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden"}},de:{caption:"Deutsch",errors:{"email-error":"Diese E-Mail ist nicht gültig.","required-error":"Dieses Feld wird benötigt."},relativeTime:{s:"ein paar Sekunden",ss:"%d Sekunden",m:m,mm:"%d Minuten",h:m,hh:"%d Stunden",d:m,dd:m,M:m,MM:m}}},w={usdollars:{caption:"US Dollar",locale:"en-US",currencyCode:"USD"},gbpound:{caption:"Great Britian Pound",locale:"en-gb",currencyCode:"GBP"},euro:{caption:"Euro",locale:"de-DE",currencyCode:"EUR"},dkkrone:{caption:"Danish Krone",locale:"da-DK",currencyCode:"DKK"},swkrone:{caption:"Swedish Krone",locale:"sv-SE",currencyCode:"SEK"},nokrone:{caption:"Norwegian Krone",locale:"da-DK",currencyCode:"DKK"}};return{list:e,select:t,currencyList:n,selectCurrency:o,findCurrencyData:s,timeStr:c,relativeTime:l,exampleRelativeTime:u,createDateReplacer:d,replaceDateWithText:f,errorMessage:g}}(),v=function(e,t,i,n,o,r){function s(e,i){function o(e){return r.errorMessage(e)}function s(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function a(e,t,i){return i&&"email"==t||"true"==e.attr("data-required-field")||"required"==e.attr("data-user-required")||"true"==e.attr("data-user-required")||"true"==e.attr("data-required")||"true"==e.attr("data-required")&&"false"!=e.attr("data-required-field")}var c=e.Y,l=!0;i=i||!1,n.hide(e);var u=[],h=[];return c("input, textarea").each(function(){var r=c(this),d=r.attr("type");if("hidden"!=d){var f=a(r,d,i),g="text"==d||"number"==d||"TEXTAREA"==r.prop("nodeName");return f&&"email"==d&&!s(this.value)?(n.show(e,this,o("email-error")),l=!1,!1):g&&f&&!t.trim(this.value).length?(n.show(e,this,o("required-error")),l=!1,!1):"checkbox"==d&&f&&!this.checked?(n.show(e,this,o("required-error")),l=!1,!1):void("radio"==d&&f&&(this.checked&&h.push(this.name),u.filter(function(e){return e.name==this.name},this).length||u.push({name:this.name,element:this})))}}),u.forEach(function(t){if(-1==h.indexOf(t.name))return n.show(e,t.element,o("required-error")),l=!1,!1}),c("select").each(function(){if(a(c(this),"select",i)&&this.selectedIndex<1)return n.show(e,this,o("required-error")),l=!1,!1}),l}return s}(0,t,0,g,0,p),b=function(e,t){function i(e,i){this.callback=i,this.elem=e,t.listener(this.elem,"add",this,!0)("touchstart")("touchmove")("touchend")("touchcancel")}function n(e){return Math.pow(e,2)}function o(e,i){return t.listener(e,"add",i,!0)("click"),function(){t.listener(e,"remove",i,!0)("click")}}return i.prototype={destroy:function(){this.elem&&t.listener(this.elem,"remove",this,!0)("touchstart")("touchmove")("touchend")("touchcancel")},handleEvent:function(e){switch(e.type){case"touchstart":this.moved=!1,this.start=t.eventXY(e);break;case"touchmove":var i=t.eventXY(e);this.moved||(this.moved=n(i.x-this.start.x)+n(i.y-this.start.y)>n(10));break;case"touchend":case"touchcancel":this.moved||this.callback(e)}}},{listen:o}}(0,t),y=function(e,t,i,n){function o(e,t){for(var i,n=e.nodes?e.nodes.length:0;n--;)if(i=e.nodes[n],t==i.id)return i}function r(){this.container,this.tree,this.history=[]}var s=this,a=s.document,c='<span data-id="{id}" class="{className}">{text}';return r.prototype={start:function(i,o){i=i||{};var r=i.doc||s.document;if((!i||"form"==i.config.name)&&("string"==typeof o&&(o=JSON.parse(o)),o&&(!o.campaignId||i.config.campaignId==o.campaignId))){var a=e.qsa("#"+o.elementId,r)[0];if(!a){var c=e.qsa('[data-sn-type="bot"]',r);c.length&&(a=c[0])}if(a){a.innerHTML='<div class=container style="pointer-events:auto"></div>',this.container=e.qsa(".container",a)[0],this.tree=o.tree.nodes;var l=e.querySelectorClosest(a,"#sleeknoteBox");l=e.qsa(".sleeknoteMobileClose",l)[0],l&&(t.set(l,{background:"#4B4DD1",padding:"5px",color:"#fff",borderBottom:"none"}),l.innerHTML='<div class="logo"><div class="logo-icon"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-robot.svg"></div><h1 class="logo-caption">SleekBot</h1></div><div class="close-button"><img src="//sleeknotestaticcontent.sleeknote.com/icon-close-bot.svg"></div>',l.id="botclosebutton"),this.scrollIntoView=this.scrollIntoView.bind(this),this.removeListener=n.listen(this.container,this.onClick.bind(this)),this.init()}}},scrollIntoView:function(){var e=this.container.lastElementChild;e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView()},onClick:function(t){var i;i=t.target?e.querySelectorClosest(t.target,"[data-id]"):t.target;var n=i.getAttribute("data-id");if(n)if("ok"==n)this.init();else{var r=e.querySelectorClosest(t.target,".chat");if(!r)return;var a=+r.getAttribute("data-id"),c=o(this.history[a],n);if(!c)return;this.history[a].selected=n,this.history.splice(a+1,this.history.length),this.container.innerHTML="",c.nodes&&c.nodes.length>0&&(1==c.nodes.length&&(c.nodes[0].selected=-1),this.history.push(c.nodes[0])),this.history.forEach(function(e,t){this.render(e,t,n)},this),s.setTimeout(this.scrollIntoView(),100)}},getNodeHTML:function(t,i,n){var o="",r="";if(t){o=e.template(c,{id:t.id,text:t.text});for(var s,a=t.nodes?t.nodes.length:0,l=0;l<a;)s=t.nodes[l++],r+=e.template(c,{className:t.selected==s.id?"selected":"",id:s.id,text:s.text})}else r=e.template(c,{id:"top",text:"Let's start over"})
;return e.template('<div class=chat data-id={sid}>{welcome}<div class="message bot footer" style="{hstyle}"><div class="col-small"><div class="avatar bot"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-robot.svg"/></div></div><div class="col-large right"><div class="header text">{header}</div></div></div><div class="message visitor footer" style="{fstyle}"><div class="col-large left"><div class="footer text options">{footer}</div></div><div class="col-small"><div class="avatar visitor"><img src="//sleeknotestaticcontent.sleeknote.com/avatar-visitor.svg"/></div></div></div></div>',{sid:i,welcome:this.history.length<=1?'<div class="welcome-splash"><img src="//sleeknotestaticcontent.sleeknote.com/illustration-robot.svg"><h2>SleekBot</h2><p>Your Personal Virtual Assistant</p></div>':"",header:o,footer:r,hstyle:o?"":"display:none"})},render:function(e,t,i){var n=a.createRange().createContextualFragment(this.getNodeHTML(e,t,i)).childNodes[0];this.container.appendChild(n)},init:function(){this.tree.selected=-1,this.container.innerHTML="",this.history.length=0,this.render(this.tree,0,-1),this.history.push(this.tree)},stop:function(){this.removeListener()}},r}(t,r,0,b),function(){function e(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d}function t(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function i(e,t,i){var n;for(e=i?Math.floor(e/f):e>>1,e+=Math.floor(e/t),n=0;e>(d-g)*m>>1;n+=d)e=Math.floor(e/(d-g));return Math.floor(n+(d-g+1)*e/(e+p))}function n(e,t){return(e-=(e-97<26)<<5)+((!t&&e-65<26)<<5)}function o(t,n){var o,r,s,a,f,p,b,y,k,w,S,x,C,T=[],O=[],I=t.length;for(o=l,s=0,a=u,f=t.lastIndexOf(h),f<0&&(f=0),p=0;p<f;++p){if(n&&(O[T.length]=t.charCodeAt(p)-65<26),t.charCodeAt(p)>=128)throw new RangeError("Illegal input >= 0x80");T.push(t.charCodeAt(p))}for(b=f>0?f+1:0;b<I;){for(y=s,k=1,w=d;;w+=d){if(b>=I)throw RangeError("punycode_bad_input(1)");if((S=e(t.charCodeAt(b++)))>=d)throw RangeError("punycode_bad_input(2)");if(S>Math.floor((v-s)/k))throw RangeError("punycode_overflow(1)");if(s+=S*k,x=w<=a?g:w>=a+m?m:w-a,S<x)break;if(k>Math.floor(v/(d-x)))throw RangeError("punycode_overflow(2)");k*=d-x}if(r=T.length+1,a=i(s-y,r,0===y),Math.floor(s/r)>v-o)throw RangeError("punycode_overflow(3)");o+=Math.floor(s/r),s%=r,n&&O.splice(s,0,t.charCodeAt(b-1)-65<26),T.splice(s,0,o),s++}if(n)for(s=0,C=T.length;s<C;s++)O[s]&&(T[s]=String.fromCharCode(T[s]).toUpperCase().charCodeAt(0));return c.encode(T)}function r(e,o){var r,s,a,f,p,b,y,k,w,S,x,C;o&&(C=c.decode(e)),e=c.decode(e.toLowerCase());var T=e.length;if(o)for(b=0;b<T;b++)C[b]=e[b]!=C[b];var O=[];for(r=l,s=0,p=u,b=0;b<T;++b)e[b]<128&&O.push(String.fromCharCode(C?n(e[b],C[b]):e[b]));for(a=f=O.length,f>0&&O.push(h);a<T;){for(y=v,b=0;b<T;++b)(x=e[b])>=r&&x<y&&(y=x);if(y-r>Math.floor((v-s)/(a+1)))throw RangeError("punycode_overflow (1)");for(s+=(y-r)*(a+1),r=y,b=0;b<T;++b){if((x=e[b])<r&&++s>v)return Error("punycode_overflow(2)");if(x==r){for(k=s,w=d;S=w<=p?g:w>=p+m?m:w-p,!(k<S);w+=d)O.push(String.fromCharCode(t(S+(k-S)%(d-S),0))),k=Math.floor((k-S)/(d-S));O.push(String.fromCharCode(t(k,o&&C[b]?1:0))),p=i(s,a+1,a==f),s=0,++a}}++s,++r}return O.join("")}function s(e){for(var t=e.split("."),i=[],n=0;n<t.length;++n){var o=t[n];i.push(o.match(/[^A-Za-z0-9-]/)?"xn--"+r(o):o)}return i.join(".")}function a(e){for(var t=e.split("."),i=[],n=0;n<t.length;++n){var r=t[n];i.push(r.match(/^xn--/)?o(r.slice(4)):r)}return i.join(".")}var c={decode:function(e){for(var t,i,n=[],o=0,r=e.length;o<r;){if(55296==(63488&(t=e.charCodeAt(o++)))){if(i=e.charCodeAt(o++),55296!=(64512&t)||56320!=(64512&i))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");t=((1023&t)<<10)+(1023&i)+65536}n.push(t)}return n},encode:function(e){for(var t,i=[],n=0,o=e.length;n<o;){if(55296==(63488&(t=e[n++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");t>65535&&(t-=65536,i.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),i.push(String.fromCharCode(t))}return i.join("")}},l=128,u=72,h="-",d=36,f=700,g=1,m=26,p=38,v=2147483647,b={encodePuny:s,decodePuny:a};k=function(){return b}()}.call(this),w=function(e,t){function i(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;this.set.apply(this,e)}function n(t,i){var n,o,r={};if(t=t.replace(/[?#]/,""),t=t.split("&").filter(function(t){return!e.empty(t)}),t[0])for(n=0;n<t.length;n++)o=t[n].split("=",2),r[o[0]]=o[1]?i?o[1]:e.decodeURIComponent(o[1].replace(/\+/g," ")):void 0;return r}function o(e,t){return l.href=r(e,t),new i(t,l.hostname,l.pathname,l.search,l.hash,l.port).toString()}function r(e,t){return t||(t="http:"),/^\/\//i.test(e)||(t+="//"),/^https?:\/\//i.test(e)||(e=t+e),e}function s(e,t){l.href=e;var n,o=l.pathname.replace(".aspx","").replace(".html","").replace(".htm","").replace(".php",""),r=i.prototype.queryParams.call(l,!0),s=!l.search&&l.hash,a=[];for(n in r)if(r.hasOwnProperty(n)){if(!(n.indexOf("utm_")&&n.toLowerCase().indexOf("sndebug")&&n.toLowerCase().indexOf("snbranch")&&n.toLowerCase().indexOf("snreset")&&n.toLowerCase().indexOf("snsubscribed")))continue;a.push(n+(void 0===r[n]?"":":"+r[n]))}return a=a.join("&"),e=new i(l.protocol,l.hostname,o,s?"":a,s?a:t?"":l.hash,l.port),e=e.toString().replace(/\/$/g,""),e=e.replace(/:\/\/www\./g,"://")}function a(e,t){if(t&&(a.loc=void 0),!a.loc){var n=e.local===String(e.local)?i.fromString(e.local):c.location;a.loc=new i(["protocol","hostname","pathname","search","hash","port"].map(function(e){var t;return"pathname"==e&&"/"==n[e]?c.location[e]:(t=n[e]||c.location[e],"hostname"==e&&(t=t.replace(/^www\./,"")),t)}))}return a.loc}var c=this,l=c.document.createElement("a");return i.fromString=function(e){return l.href=t.decodePuny(e),new i(l.protocol,l.hostname,l.pathname,l.search,l.hash,l.port)},i.extractDomain=function(i){return"string"!=e.typeStr(i)||e.empty(i)?"":(i=t.decodePuny(i),l.href=s(o(i,c.location.protocol),!0),l.hostname)},i.prototype={domainMatches:function(e){return e=t.decodePuny(e),l.href=s(o(e,this.protocol),!0),this.hostname==l.hostname},matches:function(e){e=t.decodePuny(e),e=s(o(e,this.protocol),!0).toUpperCase();var i,n=s(this.toString(),!0).toUpperCase(),r=e.indexOf("*");if(~r){var a=e.split("*")[0];return i=s(a).toUpperCase(),"/"==a[a.length-1]&&a.split("/").length>4&&(i+="/"),0===n.indexOf(i)||0===(n+"/").indexOf(i)}return n==e},contains:function(e){return e=e||"",s(this.toString(),!0).toUpperCase().indexOf(e.toUpperCase())>-1},queryParams:function(e){return!this.search&&this.hash?n(this.hash,e):n(this.search,e)},toString:function(){return this.href},set:function(e,t,i,n,o,r){e||(e="http:"),o=o?("#"==o.charAt(0)?"":"#")+o:"",n=n?("?"==n.charAt(0)?"":"?")+n:"",r||(r=""),i||(i=""),i&&"/"!=i.charAt(0)&&(i="/"+i),t=(t||"").split(":")[0],80!=r&&443!=r||(r="");var s=e+"//"+t+(r?":"+r:"");return this.hash=o,this.search=n,this.port=r||"",this.origin=s,this.protocol=e,this.href=s+i+n+o,this.hostname=t,this.pathname=i,this.host=t,this}},i.get=a,i.reset=function(e){return a(e,!0)},i}(t,k),S=function(e,t,i){function n(e,t,i){switch(e){case"load":return{type:e,command:t};case"ready":t=t.origin;var n,o={},r={};for(n in t.notes)r[n]={name:n,DOMNode:t.notes[n].config.DOMNode},o[n]=t.notes[n].config.DOMNode;return{type:e,campaignId:t.config.campaignId,boxes:r,DOMNodes:o};case"after":return{type:"close"==t.action?"exit":"entry",campaignId:t.origin.config.campaignId,box:{name:t.noteName,DOMNode:t.origin.notes[t.noteName].config.DOMNode}};case"submit":return{type:e,campaignId:t.campaignId,data:i}}}function o(e,t,o){try{var a=s.createEvent("Event");a.initEvent("sleekNote",!0,!0),a.data=n(e,t,o),s.dispatchEvent(a)}catch(e){i.error({message:"crash",details:{url:String(r.location),nav:r.navigator.userAgent,error:"emit:"+e.message}})}}var r=this,s=r.document;return o}(0,0,n),x=function(e,t,i,n,o,r,s,a,c,l,u,h,d,f,g,m){function p(e){return 0===e&&(e=P),{paddingTop:e.top,paddingRight:e.right,paddingBottom:e.bottom,paddingLeft:e.left}}function v(e){function t(e){var t=0;return s.forEach(function(i,n){if(i.contains(e))return t=n,!1}),t}var o=[],r=function(e,t){return 100*e.containerIndex+e.order-(100*t.containerIndex+t.order)||e.top-t.top||e.left-t.left},s=w(e,".flex-container");w(e,".form-element, .element").forEach(function(e){n(e).children().each(function(n,r){if(("INPUT"==r.nodeName||"TEXTAREA"==r.nodeName||"BUTTON"==r.nodeName)&&"hidden"!=r.getAttribute("type")){r.getAttribute("data-sn-custom-value")&&r.setAttribute("value",r.getAttribute("data-sn-custom-value"));var n=t(r);o.push({obj:r,top:i.get(e,"top")||i.get(e.parentElement,"top"),left:i.get(e,"left")||i.get(e.parentElement,"left"),order:i.get(e,"order")||i.get(e.parentElement,"order"),containerIndex:n||0})}})}),o.sort(r),n.each(o,function(e,t){t.obj.setAttribute("tabindex",e+1)})}function b(e,i,n){if("_blank"==n){var o=e.target.ownerDocument.body;o.insertAdjacentHTML("beforeend",'<a style="width:0;height:0" href="'+i+'" target="_blank"></a>'),t.click(o.lastElementChild,e)}}function y(e){return h.extractDomain(e)}function k(e){return e%2?e+1:e}function w(e,t){return Array.prototype.slice.call(e.querySelectorAll(t||":not(*)"))}function S(){var n=this.config,o=n.boxNode,r=n.formNode=o.querySelector("form")||o;n.version=+n.version||0,w(this.doc.body,".inline-editor span").forEach(function(e){t.slice(e.childNodes).forEach(function(e){3==e.nodeType&&(e.textContent=e.textContent.replace(/\\'/g,"'"))})}),T||"form"!=n.type||(w(this.doc.body,'.flexbox [style*="display:none"]').forEach(function(e){w(e,"input").forEach(function(e){if("hidden"!=e.type){var i=t.parseNodeValue(e),n={};void 0!==i&&(n[e.name]=i,this.insertOrReplaceHiddenInputs(n))}},this),t.removeNode(e)},this),l.CustomInitSettings.acceptCharset&&r.setAttribute("accept-charset",l.CustomInitSettings.acceptCharset)),this.doc.documentElement.classList.add(this.controller.profileStr),i.set(this.doc.body,{position:"static",height:e.is.genuineApple||e.is.genuineAndroid?"auto":"100vh"}),this.doc.body.setAttribute("data-campaign",n.campaignId),n.scrollContent&&(i.set(r,{height:"100%",overflow:"auto"}),i.set(r.parentNode,{height:"100%"})),n.relativeWidth&&(this.isHello||i.set(r,{width:"100%"}),i.set(o,{width:"100%"})),i.set(o,{left:"auto",bottom:"auto",top:"auto",right:"auto",marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,zIndex:"",display:1,float:"left"});var a,c;if(2==n.version){var h=this.getBoxBounds(!0);a=o.querySelector('[data-sn-type="grid"]'),c=o.querySelector('[data-sn-type="sleeknote-wrapper"]'),i.set(a,{overflow:0,width:h.width,height:""}),i.set(c,{paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:""}),w(o,".row").forEach(function(e){w(e,".column-bg").forEach(function(e){i.set(e,"height","")})}),n.profile==s.PROFILE.MOBILE?i.set(c,p(0)):(i.set(a,{width:h.width,height:h.height}),w(o,".row").forEach(function(e){var t=e.getBoundingClientRect();w(e,".column-bg").forEach(function(e){i.set(e,"height",t.height)})}))}if(!this.editor&&n.version>2&&n.profile==s.PROFILE.MOBILE&&!t.contains(n.position,s.POS.HELLO2,s.POS.HELLO)&&t.contains(n.type,"form","success")&&i.set(r,{paddingTop:40}),u.isSleekBar(this.config)&&(i.set(o,{right:0}),n.profile==s.PROFILE.TABLET)){var o,d,f,m,b,y=0,k=w(this.doc,'[data-sn-type="close"]>[image-type="content-svg"]')[0];if(k){d=k.parentNode,o=d.parentNode,f=i.get(o,"width"),m=f,w(o.parentNode,".flex-container-container").forEach(function(e){y=Math.max(y,i.get(e,"paddingLeft"))}),i.set(o,{padding:Math.min(44-f,2*m)/2}),b=Math.min(44,3*m);var S=""==o.style.left,C=parseInt(i.get(o,"transform").split(",")[5],10);isNaN(C)&&(C=0);var O=0,I=Math.max(m,y);O=Math.max(0,m-I);var E=f+m+O;i.set(o,{left:S?"auto":0,right:S?0:"auto",transform:[(O+b/2)*(S?1:-1),C],top:"calc(50% - "+b/2+"px)",width:b,height:b})}i.set(r,{width:"auto",marginLeft:E,marginRight:E})}if(this.config.toggleDOMNode=this.config.toggle&&t.qsa(this.config.toggle,o)[0],this.config.toggleDOMNode&&t.contains(n.position,s.POS.HELLO2)&&i.set(this.config.toggleDOMNode,"order",0),w(this.doc,"li.flexbox").forEach(function(e){i.set(e,{overflow:e.classList.contains("flex-container")?0:1})},this),w(o,"li.box").forEach(function(e){i.set(e,{overflow:1})}),!l.editor){var N=w(this.config.boxNode,'[data-sn-type="counter"]')[0];if(N){n.counter={node:N,text:[]};var P=n.counter;["type","date","message","seconds","moment-unix","zero-logic"].forEach(function(e){P[e]=N.firstElementChild.getAttribute("data-sn-custom-"+e)});var M=P.date.replace(/[\/: ]/g,"-").split("-").map(function(e){return parseInt(e,10)}),A=new Date;"daily"==P.type&&(M[2]=A.getFullYear(),M[0]=A.getMonth()+1,M[1]=A.getDate());var L,L=new Date(M[2],M[0]-1,M[1],M[3],M[4]),D=(new Date).getTimezoneOffset();L.setTime(L.getTime()+6e4*(n.timeZoneOffset-D)),P.arr=M,P.date=L,P.replacer=g.createDateReplacer(P.node)}}v(r),x.call(this)}function x(){function e(e,t){return t.map(function(t){return parseInt(t,10)?e+"("+t+")":""}).join(" ")}var i=t.extend({},a.createBoxPositionStyles(u.boxParameters(this,"box",!1),"to"));if("auto"==i.left||"auto"==i.top){var n=[i.transform[0]];"auto"==i.left&&(n.splice(0,0,"100vw","-100%","-"+i.right+"px"),i.left=0,i.right="unset"),i.transform[0]=e("translateX",n),n=[i.transform[1]],"auto"==i.top&&(n.splice(0,0,"100vh","-100%","-"+i.bottom+"px"),i.top=0,i.bottom="unset"),i.transform[1]=e("translateY",n),i.transform=i.transform.join(" ")}i.position="relative",a.css(this.config,"boxNode",i)}function C(e,i){this.name="Note",this.controller=e,this.config=u.defaults(i.config.type,i.config),this.editor=l.editor||l.preview,this.onLoad=this.onLoad.bind(this),this.modules={};var n=I.createElement("html");n.innerHTML=i.html;for(var o=I.createDocumentFragment();n.hasChildNodes();)o.appendChild(n.firstChild);t.qsa(".flexbox",o).forEach(function(e){if(t.empty(e.style.position)&&t.empty(e.style.flex)){var i=parseInt(e.style.width,10);i<100&&i>0&&(e.style.flex="0 1 auto",e.style.width="calc("+e.style.width+" - "+e.style.marginRight+")")}}),Array.prototype.slice.call(t.qsa(this.config.id,o)[0].parentNode.children).forEach(function(e){"#"+e.id!=this.config.id&&t.removeNode(e)},this),t.qsa("script, object, iframe",o).forEach(t.removeNode),i.config.version>3&&t.qsa("img",o).forEach(function(e){if(e.src.indexOf("sleeknote.com/template-images/123456_close_button.png")>0){e.parentNode.innerHTML=M}}),t.qsa("base",o).forEach(t.removeNode);var r;t.qsa("link",o).forEach(function(e){var i=e.href.toLowerCase();if(~i.indexOf("font"))return void(T||(r=!0));~i.indexOf(".css")&&(~i.indexOf("/sleeknote")||0===i.indexOf("sleeknote"))&&t.removeNode(e)});var s;T?(s=I.querySelector("base"),s=s&&s.outerHTML):l.local||(s='<base href="//sleeknotestaticcontent.sleeknote.com/">'),s&&t.qs("head",o).insertAdjacentHTML("afterbegin",s),this.findModules(o,!0),this.loadExternalCSS(o);var c=T?this.config.profile:this.config.campaignId;if(this.config.DOMNode=a.insert("note",this.config,c,o),this.applyConfig(),this.config.boxNode=t.qsa(this.config.id,a.doc(this.config.DOMNode))[0],this.config.boxNode){this.config.current||(this.config.current="close");var h=(T?200:3e3)/50,d=function(){for(var e=this.config.boxNode.ownerDocument,t=e.images,i=t.length,n=i;i--;)t[i].complete&&(n-=1);h--,h<0||this.doc.body&&"border-box"==this.win.getComputedStyle(this.doc.body).boxSizing&&n<=0?this.loadExternalJS(function(){O.setTimeout(this.onLoad,r?1e3:0)}.bind(this)):O.setTimeout(d,50)}.bind(this);O.setTimeout(d,50),this.editorSpace=t.extend(P),this.updateCounter=this.updateCounter.bind(this)}}var T=l.editor||l.preview,O=this,I=O.document,E=l.debugMessage("a"),N=["top","left","bottom","right"],P={top:0,left:0,bottom:0,right:0},M='<svg xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%" viewBox="0 0 66 66"><circle cx="33" cy="33" r="30" fill="#444"/><path fill="#FFF" d="M33.485 26.414l4.95-4.95a5 5 0 0 1 7.071 7.072l-4.95 4.95 4.95 4.949a5 5 0 0 1-7.071 7.071l-4.95-4.95-4.95 4.95a5 5 0 0 1-7.07-7.071l4.95-4.95-4.95-4.95a5 5 0 1 1 7.07-7.07l4.95 4.95z"/></svg>',A=["toggleForm","mimimizeForm","maximizeForm","redirectBox","openTeaser","outsideClick","hideBox","openSleeknote","socialSubmitSleeknoteBox","contactSubmitSleeknoteBox","submitSleeknoteBox","submitBlankSleeknoteBox","hideTeaserAndDontShowAgain"];return C.prototype={findModules:function(e,i){i&&(this.modules.CSS||(this.modules.CSS={type:"css",name:l.cssName?l.cssName:"sleeknote"+(this.config.version>2?this.config.version:"")}),T&&!this.modules.editorCSS&&(this.modules.editorCSS={type:"css",name:"sleeknote-editor"})),t.qs(".snclerk",e)&&!this.modules.clerk&&(this.modules.clerk={type:"both",name:"snclerk"})},callExternal:function(e){var t=Array.prototype.slice.call(arguments,1);this.loadExternal(function(){this.modules[e].interface.apply(null,t)}.bind(this))},loadExternal:function(e){var t=this.config.boxNode.ownerDocument;this.findModules(t),this.loadExternalCSS(t),this.loadExternalJS(e)},loadExternalJS:function(e){function i(e,i){var r=this.modules[e];r.interface=o.defaultView["load_"+r.name](this,r,{U:t,LOC:g,SleekNote:l,layout:a},function(){!(n-=1)&&i&&setTimeout(i,0)})}var n=0,o=this.config.boxNode.ownerDocument;Object.keys(this.modules).forEach(function(r){var s=this.modules[r],a=s.name+"-js";if(t.contains(s.type,"js","both")&&!t.qs("#"+a,o)){n+=1;var c=(l.branch?"branches/"+s.name+"-"+l.branch:s.name)+".js";t.loadScript(c,i.bind(this,r,e),a,o)}},this),!n&&e&&e()},loadExternalCSS:function(e){var i=t.qs("head",e);Object.keys(this.modules).forEach(function(n){var o=this.modules[n];if(t.contains(o.type,"css","both")&&!t.qs('[data-css="'+o.name+'"]',e)){var r=(l.branch?"branches/"+o.name+"-"+l.branch:o.name)+".css";i.insertAdjacentHTML("beforeend",'<link data-css="'+o.name+'" rel=stylesheet type=text/css href="'+r+'"></link>')}},this)},insertOrReplaceHiddenInputs:function(e){var t;for(t in e)if(e.hasOwnProperty(t)){var i=w(this.doc.body,'[name="'+t+'"]')[0];i?i.value=e[t]:this.config.formNode.insertAdjacentHTML("beforeend",'<input type="hidden" name="'+t+'", value="'+e[t]+'">')}},applyConfig:function(e,t){e&&["distanceFromEdge","adjustableSize","attach","options","placement","position","relativeWidth","toggle","teaserDelay"].forEach(function(t){t in e&&(this.config[t]=e[t])},this),this.reposition(!0),this.config.next=this.config.current,this.config.reveal=this.config.toggle?"half":"open"},get isMobileForm(){return"form"==this.config.type&&this.config.profile==s.PROFILE.MOBILE},get isHello(){return t.contains(this.config.position,s.POS.HELLO,s.POS.HELLO2)},get visible(){return!this.hidden&&this.config.next},get hidden(){return"close"==this.config.next},get doc(){return this.config.boxNode.ownerDocument},get win(){return this.doc.defaultView},renderBot:function(e){e||(e=this.config.botData),e&&(this.config.bot?this.config.bot.stop():(i.set(this.doc.body,{overflowX:"hidden",overflowY:T&&"teaser"==this.config.type?"hidden":"scroll"}),i.set(this.doc.documentElement,{overflowX:"hidden",overflowY:T&&"teaser"==this.config.type?"hidden":"scroll",width:"100vw"})),this.config.bot=new c,this.config.bot.start(this,e),this.config.bot.container||(this.config.bot=void 0))},isPrevented:function(){var e=this.config.counter;return!!e&&new Date>e.date},updateCounter:function(){var e=this.config.counter;if(e){O.clearTimeout(this.countdownTimer);var t=new Date,i=e["moment-unix"]||e.date,n=Math.abs(i-t)/1e3,o=Math.floor(n/86400);n-=86400*o;var r=Math.floor(n/3600)%24;n-=3600*r;var s=Math.floor(n/60)%60;n-=60*s;var a=Math.floor(n%60);t<i?(e.replacer([0,0,o,r,s,a]),this.countdownTimer=O.setTimeout(this.updateCounter,1e3)):e.message?g.replaceDateWithText(e.node,e.message):e.replacer([0,0,0,0,0,0])}},afterAnimation:function(){this.createSpaceAround(),this.hidden?i.conceal(this.config.DOMNode):l.editor||this.updateCounter()},getRawBoxBounds:function(e){var i=this.config.boxNode,n=this.config.formNode;i.querySelector(".chat")&&(n=n.querySelector("ul")),n||(n=i);var o=t.bounds(n,'[style*="box-shadow"]').elem,r=t.newDict({width:k(o.width),height:k(o.height)});if(!e){r.shadow=t.newDict(o,N);var s=n.parentNode||n,a=s.style.padding;s.style.padding="";var c=t.bounds(s,".image-container, .element, .sleeknoteMobileClose, .SNCloseButton");r.other=t.newDict({top:c.elem.top,left:c.elem.left,bottom:c.elem.bottom,right:c.elem.right}),s.style.padding=a}return r},getZeroBounds:function(){var e={x:0,y:0,top:0,left:0,bottom:0,right:0,width:+this.config.width1||0,height:+this.config.height1||0};return e.shadow=t.newDict(e),e.other=t.newDict(e),t.newDict(e)},getBoxBounds:function(e){var n;return n=this.config.DOMNode&&1!=this.config.version?i.flashRevealIf(this.config.DOMNode,function(){return this.getRawBoxBounds(e)}.bind(this)):this.getZeroBounds(),t.extend(this.config.bounds||{},n)},preventResizeEvent:function(){if(T){var e=this.config.boxNode.getBoundingClientRect();this.prevDims.width=e.width,this.prevDims.height=e.height}},calculateDimensions:function(){this.removeSpaceAround();var e=this.getBoxBounds(),n=u.distanceFromEdges(this,!0),o=a.getFrameScale(),r=e.height-Math.max(e.other.top,e.shadow.top)-Math.max(e.other.bottom,e.shadow.bottom),s={x:0,y:0};l.CustomInitSettings.moveBox&&(s=l.CustomInitSettings.moveBox(this.config,s));var c={},h=e.shadow,d=e.other;N.forEach(function(e){var i=Math.max(d[e],h[e]);~n[e]&&(n[e]?h[e]>n[e]?i=Math.max(d[e],n[e]):i<n[e]&&(s[t.contains(e,"left","right")?"x":"y"]=k(n[e]-i)):i=0),c[e]=k(i)},this),t.contains(this.config.name,"badge","cover")||(this.config.version>1?i.set(this.config.boxNode,p(c)):i.set(this.config.boxNode,{marginTop:~n.top?n.top:0,marginRight:~n.right?n.right:0,marginBottom:~n.bottom?n.bottom:0,marginLeft:~n.left?n.left:0}));var f=0,g=0;if(this.config.version>1)if(this.config.relativeWidth){f=(~n.right?n.right:0)+(~n.left?n.left:0);var m=u.translateRelative(this.config);g=[m.width/o+m.unit," - "+f+"px"]}else g=k(e.width+(c.left+c.right));else{var v=~n.right?n.right:0,b=~n.left?n.left:0;g=k(e.width+(v+b>10?v+b-10:0))}a.css(this.config,"DOMNode",{width:g});var y=0,f=this.config.version>1?c.top+c.bottom:0;return this.config.relativeWidth&&(e=this.getBoxBounds(!0),r=e.height),y=k(e.height+f),r*=o,a.css(this.config,"DOMNode",{height:y}),s.x*=o,s.y*=o,this.dims={scale:o,padding:c,move:s,width:this.config.width=g,height:this.config.height=y,bounds:e},this.config.boundsHeight=r,this.preventResizeEvent(),this.dims},dimensions:function(){return this.dims||{}},needSpaceAround:function(e){var t=!e||this.controller.manager.command("hasCover");return T||t&&this.isMobileForm},createSpaceAround:function(){if(this.needSpaceAround(!0)){var e=this.config.profile==s.PROFILE.MOBILE?80:1e3,n=t.extend(this.dims.padding),o=u.distanceFromEdges(this,!0);N.forEach(function(t){o[t]<0&&(n[t]=k(Math.max(e,this.dims.padding[t])))},this);var r=-this.dims.padding.top-this.dims.padding.bottom+n.top+n.bottom,c=-this.dims.padding.left-this.dims.padding.right+n.right+n.left,l=this.config.width;Array.isArray(this.config.width)?l.push(c+"px"):l+=c;var h=this.config.height;Array.isArray(this.config.height)?h.push(r+"px"):h+=r,i.set(this.config.boxNode,p(n)),a.css(this.config,"DOMNode",{width:l,height:h}),this.preventResizeEvent()}},removeSpaceAround:function(){this.needSpaceAround()&&this.dims&&(i.set(this.config.boxNode,p(this.dims.padding)),a.css(this.config,"DOMNode",{width:this.config.width,height:this.config.height}),this.preventResizeEvent())},toggleToggleButton:function(e){var i=t.qsa('[data-sn-custom-step="toggleForm"]',this.doc)[0];if(i){i.classList.remove("toggle-arrow-up"),i.classList.remove("toggle-arrow-down");var n;n=this.config.position==s.POS.HELLO?"open"==e?"toggle-arrow-up":"toggle-arrow-down":"open"==e?"toggle-arrow-down":"toggle-arrow-up",i.classList.add(n)}},reposition:function(e){this.ready&&(e&&x.call(this),this.calculateDimensions(),a.css(this.config,"DOMNode",a.createPositionStyles(u.boxParameters(this,this.config.current),"to")),this.createSpaceAround())},prepare:function(e,t){var i,n=this.config.current;switch(e){case"current":i=this.config.current,n="close";break;case"maximize":i="open";break;case"open":case"reveal":this.onBeforeOpen(),i="reveal";break;case"minimize":i="half";break;default:i="close"}if("reveal"==i&&(i=this.config.reveal||(u.isSleekBar(this.config)?"half":"open")),i!=n){"half"!=i&&"half"!=n||this.config.toggleDOMNode||("half"==i&&(i="open"),"half"==n&&(n="close")),this.config.next=i,"close"!==i&&(this.config.reveal=i),this.animating=!0,this.toggleToggleButton(i),this.calculateDimensions();var o=u.animationParameters(this,n,i,t);return a.createMotion(o,function(e,t,i){a.css(this.config,"DOMNode",e),i&&(this.config.current=this.config.next)}.bind(this))}},addClickAttribute:function(e,t,i){var n;i&&(this[t]=i,A.push(t)),t&&t in this&&(e.setAttribute("data-click",t),(n=e.getAttribute("data-id")||e.parentElement.getAttribute("data-id"))&&e.setAttribute("data-track-id",n))},adjustForZoom:function(){try{this.config.boxNode.ownerDocument.documentElement.style.zoom=O.getComputedStyle(I.documentElement).zoom*O.getComputedStyle(I.body).zoom}catch(e){}},getCloseFunc:function(){var e="hideBox";return"teaser"==this.config.type&&(e="hideTeaserAndDontShowAgain"),"form"==this.config.type&&this.config.teaser&&(e="openTeaser"),e},getJITData:function(e){var i,n,o=e;for(e+="";;){if("="!=e.charAt(0))break;if(i=e.split("(")[0]+"","=gtmdl"!=i.toLowerCase()){o="";break}try{n=(e.split("(")[1]+"").replace(")",""),o=t.findPropValue(O.dataLayer,n)}catch(e){}o||(o="");break}return o},onLoad:function(e){this.config.boxNode=t.qsa(this.config.id,a.doc(this.config.DOMNode))[0],this.Y=n.bindTo(this.doc),T||o.prepare(this),S.call(this),this.formMethod=((this.config.formNode.hasAttribute("custom-method")?this.config.formNode.getAttribute("custom-method"):this.config.formNode.getAttribute("method"))||"GET").toUpperCase(),w(this.doc,"[onclick]").forEach(function(e){var t=e.getAttribute("onclick").replace("()","").replace(";","");e.removeAttribute("onclick"),this.addClickAttribute(e,"hideBox"==t?this.getCloseFunc():t)},this),w(this.doc,'[data-sn-type="close"], .sleeknoteMobileClose').forEach(function(e){this.addClickAttribute(e,this.getCloseFunc()),e.classList.contains("sleeknoteMobileClose")||this.config.profile!=s.PROFILE.DESKTOP||i.set(e,{width:"100%",height:"100%",lineHeight:0})},this),w(this.doc,'[data-sn-type="toggle"]').forEach(function(e){this.addClickAttribute(e,"toggleForm")},this),"teaser"==this.config.type&&w(this.doc,this.config.id).forEach(function(e){this.addClickAttribute(e,"openSleeknote")},this),this.isMobileForm&&this.addClickAttribute(w(this.doc,"body")[0],"outsideClick"),w(this.doc,'[data-sn-type="button"]').forEach(function(e){var t;switch(this.config.noteType){case"social":t="socialSubmitSleeknoteBox";break;case"newsletter":t="submitSleeknoteBox";break;case"contact":t="contactSubmitSleeknoteBox";break;case"blank":case"promote":case"guide":E(this.config.noteType+" should be used anymore"),t="submitBlankSleeknoteBox";break;default:return}this.addClickAttribute(e,t)},this),w(this.doc,".linkbutton, img, a").forEach(function(e){("IMG"!=e.tagName||e.getAttribute("data-sn-custom-href")||e.getAttribute("data-sn-custom-email"))&&this.addClickAttribute(e,"redirectBox")},this),w(this.doc,"[data-sn-custom-action]").forEach(function(e){this.addClickAttribute(e,"redirectBox")},this),w(this.doc,"[data-sn-custom-action]").forEach(function(e){this.addClickAttribute(e,"redirectBox")},this);var r={showTeaser:"teaser",showTogglersBox:"form",showForm:"form",showTogglersSuccess:"success",showSuccess:"success"};w(this.doc,"[data-sn-custom-step]").forEach(function(e){var t=r[e.getAttribute("data-sn-custom-step")];t&&e.setAttribute("data-sn-custom-step",t)},this),this.removeListener=d.listen(this.doc,this.onClick.bind(this)),this.onResize=function(){this.config.toggleDOMNode||"half"==this.config.current&&(this.config.current="open"),this.calculateDimensions(),this.createSpaceAround()}.bind(this),this.prevDims={width:-1,height:-1},this.renderBot();var c=function(e,i){var n=function(t){if(this.visible){var i=e.getBoundingClientRect();~~i.width==~~this.prevDims.width&&~~i.height==~~this.prevDims.height||(this.prevDims.width=i.width,this.prevDims.height=i.height,this.animating||O.setTimeout(this.onResize,0))}}.bind(this);try{var o=t.getWindow(e)}catch(e){return}t.listener(o,"add",n)("resize"),i&&n({target:e.ownerDocument.defaultView})}.bind(this);if(t.listener(this.doc,"add",function(e){t.mouseEvent(O.top.document.documentElement,e)},!0)("mousemove")("mousedown")("mouseup"),T){t.listener(this.doc,"add",function(e){l.editor.event("APP.INTERACTION",e.target)},!0)("click"),t.listener(this.win,"add",function(e){var i;try{i=t.JSON.parse(e.data)}catch(e){return}"SleekNote"==i.fingerprint&&"ping"==i.command&&this.win.parent.postMessage(t.JSON.stringify({fingerprint:"SleekNote",command:"pong"}),"*")})("message");var u=function(e){e.forEach(function(e){(e.type="style"==e.attributeName)&&t.matchesSel(e.target,'[style*="box-shadow"]')&&(this.prevDims={width:-1,height:-1},this.onResize()),"childList"==e.type&&e.addedNodes.forEach(function(e){e.classList&&e.classList.contains("resize-listener")&&c(e,!0)})},this)}.bind(this);new O.MutationObserver(u).observe(this.doc.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})}var h=w(this.doc,".resize-listener");(!h.length&&(T||this.config.adjustableSize)||this.config.bot)&&(this.config.boxNode.insertAdjacentHTML("afterbegin",'<object class="resize-listener" style="display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;" type="text/html" data="about:blank"></object>'),h=[this.doc.querySelector(".resize-listener")]),O.setTimeout(function(){h.forEach(c)},0),this.ready=!0,this.message({type:"ready",id:this.controller.id,part:this.config.name})},message:function(e){if("resize"!=e.type||this.visible){switch(e.stepName=this.config.name,e.type){case"aftersubmit":e=this.onAfterSubmit(e);break;case"redirect":"_blank"==e.target&&this.config.status==l.STATUS.DESKTOP?O.open(e.href):O.location.href=e.href}e.origin=this,this.controller.message(e)}},setVisibility:function(e){this.config.DOMNode&&(this.config.isHidden=!e,a.css(this.config,"DOMNode",{visibility:e}))},isHidden:function(){if(this.config.DOMNode)return this.config.isHidden},onClick:function(e){if((!e.target||!t.contains(e.target.tagName,"A","INPUT","SELECT","TEXTAREA")||e.target.getAttribute("data-click"))&&(!T||(t.preventDefault(e),this.controller.manager.emulate))&&!this.controller.manager.showQueue.busy){var i;i=e.target?t.querySelectorClosest(e.target,"[data-click]"):e;var n;i&&(n=i.getAttribute("data-click"))&&~A.indexOf(n)&&n in this&&(e.target&&t.preventDefault(e),this[n](e,i))}},destroy:function(e){this.config.DOMNode&&(A.forEach(function(e){delete this.win[e]},this),t.listener(this.win,"remove",this.onLoad)("load"),this.removeListener(),this.config.bot&&this.config.bot.stop(),e?t.removeNode(this.config.DOMNode):delete this.config.DOMNode)},outsideClick:function(e,i){if(this.controller.manager.command("hasCover")&&!t.querySelectorClosest(e.target,"form")){var n=this.doc.querySelectorAll("[data-sn-type=close], .sleeknoteMobileClose")[0];n&&this.onClick(n)}},onBeforeOpen:function(){w(this.config.formNode,"input,textarea,select").forEach(function(e){switch(e.tagName){case"INPUT":case"TEXTAREA":e.value=this.getJITData(e.value,"hidden"==e.type)}},this)},onAfterSubmit:function(e){if(this.config.DOMNode){var i,n,o,r,s=!0,a=this.controller.config;switch(a.type){case"social":i="social";break;case"newsletter":i="newsletter",n=!0,o=!0;break;case"contact":i="contact",n=!0,o=!0;break;case"blank":case"promote":case"guide":i="blank",s=!1,o=!0}return e.href&&"_blank"!=e.target&&(r=function(){O.location.href=e.href}),(void 0===e.isUserDefinedClick||e.isUserDefinedClick&&t.contains(a.type,"promote","guide")&&e.isForm)&&(this.config.redirect&&(e.href=this.config.redirect,r=function(){O.location=e.href}),e=t.extend(e,{closeSession:s,setShown:!0,setSubscription:n,setEngaged:o,customTrackerEvent:i,mimirEvent:"engaged",
next:this.controller.getAfterSubmitStep(r,this)}),e.next.origin=this),r&&O.setTimeout(function(){r()},this.config.customRedirectWaitTime||500),e}},openSleeknote:function(e,t){this.message({type:"open",noteName:this.config.form,openTrigger:"teaserClick"})},openTeaser:function(e,t){this.controller.teaserExist?(this.message({type:"open",noteName:this.config.teaser}),this.message({eventName:"closed",type:"trackevent",noteName:"teaser",closeTrigger:{type:e.target?"closebutton":"dismiss",elementDataId:t.getAttribute("data-track-id")}})):this.hideBox(e,t)},hideBox:function(e,t){this.message({type:"close",noteName:this.config.name,closeTrigger:{isImage:"IMG"==t.nodeName,isLinkButton:t.classList.contains("linkbutton"),type:e.target?"closebutton":"dismiss",elementDataId:t.getAttribute("data-track-id")}})},hideTeaserAndDontShowAgain:function(){this.message({type:"close",noteType:this.config.type,noteName:this.config.name})},toggleForm:function(){this.message({type:"half"==this.config.current?"maximize":"minimize",noteName:this.config.name})},maximizeForm:function(){this.message({type:"maximize",noteName:this.config.name})},minimizeForm:function(){this.message({type:"minimize",noteName:this.config.name})},redirectBox:function(e,i){function n(e,n,o,r){n&&(b(e,n,o),this.message(t.extend({type:"aftersubmit",href:n,target:o,submitTrigger:this.getSubmitTriggerInfo(e,i)},r)))}var o,r,s,a=!1,c={isUserDefinedClick:!0,isImage:"IMG"==i.nodeName,isLinkButton:i.classList.contains("linkbutton"),isForm:t.querySelectorClosest(i,"#sleeknoteBox")||t.querySelectorClosest(i,"#sleeknote-form"),name:i.innerText};if("A"==i.tagName)o=i.getAttribute("href"),s=i.getAttribute("target"),a=!0,"CTA button"==i.getAttribute("data-section")||i.getAttribute("data-sn-send-mimir-event")?n.call(this,e,o,s,c):("_blank"==s?b(e,o,s):this.message({type:"redirect",href:o,target:s}),a=!0);else if("IMG"==i.tagName||i.classList.contains("linkbutton")||"background"==i.getAttribute("data-sn-type")){o=i.getAttribute("data-sn-custom-href"),o&&!~o.indexOf("//")&&(o="//"+o);var l=i.getAttribute("data-sn-custom-email");l&&!~l.indexOf("mailto:")&&(l="mailto:"+l),o=o||l,s=i.getAttribute("data-sn-custom-target")||(l?"_self":"_blank"),n.call(this,e,o,s,c),r=i.getAttribute("data-sn-custom-step"),r&&(~A.indexOf(r)&&r in this?this[r](e,i):this.controller.notes[r]&&"success"==this.controller.notes[r].config.type?this.message(t.extend({type:"aftersubmit",submitTrigger:this.getSubmitTriggerInfo(e,i)},c)):this.message(t.extend({type:"step",step:r},c)))}this.message(t.extend({eventName:"link_clicked",type:"trackevent",href:o,step:r,elementDataId:i.getAttribute("data-track-id"),target:s,isLink:a},c))},submitWithIFrame:function(e){var i=t.serialize(this.config.formNode);f("submit",this.config,i),t.insertHTML(a.getAnchor().DOMNode,'<iframe src="'+t.appendToUrl(e,i)+'" style="display:none;"></iframe>'),E("submitWithIFrame",e,i)},sendCustomTrackerData:function(e){this.message({type:"trackerCustomEvent",CustomEventData:{SleeknoteId:this.config.campaignId,CustomerId:this.config.customerId,SignupPage:h.get(l).href,event:e||"SleeknoteSubscriber",fieldData:t.parseForm(this.config.formNode,void 0,!0)}}),E("sendCustomTrackerData",e)},getSubmitTriggerInfo:function(e,t){return{type:e&&e.type||"",elementDataId:t.getAttribute("data-id")}},contactSubmitSleeknoteBox:function(e,t){this.submitBox("//contactform.sleeknote.com",{submitTrigger:this.getSubmitTriggerInfo(e,t)})},submitSleeknoteBox:function(e,i){var n=this.config.formNode.querySelector('input[type="email"]'),o={submitTrigger:this.getSubmitTriggerInfo(e,i)};n&&(o.email=t.trim(n.value)),this.submitBox("//subscribe.sleeknote.com",o)},submitBox:function(e,i){if(r(this,!0)){var n=this.config.formNode.getAttribute("action")||e,o=y(n);this.insertOrReplaceHiddenInputs({guid:this.config.guid,SleeknoteId:this.config.campaignId,CustomerId:this.config.customerId,SignupPage:h.get(l).href,UserAgent:O.navigator.userAgent}),!t.empty(o)&&o.indexOf("sleeknote.com")<0?(this.submitWithIFrame(e,this.config),"POST"==this.formMethod?(t.insertHTML(this.config.boxNode,'<iframe id="dummyIframe" name="dummyIframe" style="width:0px;height:0px;visibility:hidden;display:block;border:0;position:absolute"></iframe>'),this.config.formNode.setAttribute("target","dummyIframe"),this.config.formNode.setAttribute("method","post"),this.config.formNode.submit()):this.submitWithIFrame(n,this.config)):this.submitWithIFrame(n,this.config),this.sendCustomTrackerData("SleeknoteSubscriber"),this.config.submitted=!0,i||(i={}),i.formData=t.parseForm(this.config.formNode,!1,!0),i.type="aftersubmit",i.name=this.config.name,this.message(i)}}},C}(e,t,r,a,m,v,l,f,y,o,d,w,b,S,p),C=function(e,t,i,n,o,r,s,a){function c(e){return e.replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}function l(e,i){if(this.manager=e,this.name="NoteController",this.config=i,this.notes={},this.waiting=0,this.guid=t.guid_string(),this.next=void 0,u&&"test"!=u)this.profile=s.editor.profile,this.onLoad(c(h.SleekNote.editor.HTML));else if(this.config.version>3)t.fetch(this.url("toggler"),function(e){this.onLoad(e.responseText)}.bind(this));else{this.waiting=2;var n={},o=function(e,t){this.waiting-=1,n[e]=t,this.waiting||this.onLoad(n)}.bind(this);t.fetch(this.url("toggler"),function(e){o("toggler",e.responseText)}),t.fetch(this.url("teaser"),function(e){o("teaser",e.responseText)})}}var u=s.editor||s.preview,h=this,d=h.document;return l.prototype={get profileStr(){return this.config.profile==r.PROFILE.MOBILE?"mobile":"desktop"},url:function(e){if(this.config.url)return this.config.version>3?this.config.url:this.config.url[e];var t="desktop";return this.config.version>2&&(this.config.profile==r.PROFILE.MOBILE||this.config.profile==r.PROFILE.TABLET&&s.tabletUsesMobile)&&(t="mobile"),"//sleeknotestaticcontent.sleeknote.com/editorv2/"+t+e+"/"+this.config.campaignId+".html"},get isHello(){return this.getType("form")[0].isHello},destroy:function(e){if(this.config.ready){for(var t=Object.keys(this.notes),i=t.length;i--;)this.notes[t[i]]=this.notes[t[i]].destroy(e);this.config.ready=!1}},querySelectorAll:function(e){for(var t,i=Object.keys(this.notes),n=i.length,o=[];n--;)t=this.notes[i[n]],t.doc&&(o=o.concat(Array.prototype.slice.call(t.doc.querySelectorAll(e))));return o},get id(){return this.config.campaignId},releaseNote:function(e){return e in this.notes&&this.notes[e].animating&&(this.notes[e].animating=!1,this.notes[e].afterAnimation()),this},prepareNote:function(e,t,i,n){if(e in this.notes)return n&&this.notes[e].dimensions(!0),this.notes[e].prepare(t,i)},get visible(){return Object.keys(this.notes).reduce(function(e,t){return this.notes[t].visible&&t||e}.bind(this),!1)},onLoad:function(e){t.Objectkeys(this.config.steps).forEach(function(t){var i=new o(this,{config:this.config.steps[t],html:this.config.version>3||u?e:"teaser"==t?e.teaser:e.toggler});i.config.boxNode&&(this.notes[t]=i,i.config.guid=this.guid)},this)},message:function(e){function t(e){return this.notes[e].ready}switch(e.origin||(e.origin=this),e.stepName&&(this.config.stepName=e.stepName),e.openTrigger&&this.processOpenTrigger(e.openTrigger),e.closeTrigger&&this.processCloseTrigger(e.closeTrigger),e.submitTrigger&&this.processSubmitTrigger(e.submitTrigger),e.isUserDefinedClick&&this.processUserDefinedClicks(e),this.manager.message(e),e.type){case"aftersubmit":e.next&&"open"==e.next.type&&"form"==this.notes[e.next.noteName].config.type&&this.notes[e.next.noteName].insertOrReplaceHiddenInputs(e.formData||{});break;case"after":this.releaseNote(e.noteName),a("after",e);break;case"ready":if(!this.config.ready&&Object.keys(this.notes).every(t,this)){this.config.ready=!0,this.getType("teaser").length&&!this.config.hidden&&(this.teaserExist=!0);var i=this.notes.teaser&&this.notes.teaser.config.teaserDelay;i&&i>0&&!u?function(e){setTimeout(function(){e.manager.message({type:"ready",id:e.id,origin:e})},1e3*e.notes.teaser.config.teaserDelay)}(this):this.manager.message({type:"ready",id:this.id,origin:this})}}},getType:function(e){return t.filterMap(Object.keys(this.notes),function(t){if(this.notes[t].config.type==e)return this.notes[t]},this)},canBeLaunched:function(){return!!s.editor||!t.filterMap(Object.keys(this.notes),function(e){return this.notes[e].isPrevented()},this).length},setVisibility:function(e,t){if(this.config.ready){var i=this.notes[e];i&&i.setVisibility(t)}},ifTrigger:function(t){if(this.config.ready)switch(t){case"scroll":if(this.config.scroll&&e.scroll.pct()>this.config.scroll)return this.tameTriggers(t);break;case"exit":if(this.config.exit)return this.tameTriggers(t);break;case"timer":if(this.config.wait)return this.tameTriggers(t)}},launchTriggers:function(e){0!=this.config.wait&&(this.timer=h.setTimeout(function(){this.ifTrigger("timer")&&e("timer",this)}.bind(this),Math.max(this.config.wait+1e3,0))),this.config.onClick&&t.listener(d,"add",function(e){t.querySelectorClosest(e.target,this.config.onClick.selector)&&this.manager.triggerOnClick(this.config.campaignId,this.config.onClick.triggerOnce,"click")}.bind(this))("click"),t.contains(this.notes.form.config.position,r.POS.HELLO,r.POS.HELLO2)&&e("notification",this)},tameTeaser:function(){this.teaserExist=!1,this.tameTriggers()},tameTriggers:function(e){return this.timer&&h.clearTimeout(this.timer),this.processOpenTrigger(e),this.config.hidden=!0,this.config.wait=0,this.config.exit=!1,this.config.scroll=0,!0},processOpenTrigger:function(e){if(e){var t={};switch(e){case"timer":t.name="1_sleeknote_trigger_shown_after",t.value=this.config.wait/1e3;break;case"scroll":t.name="2_sleeknote_trigger_scroll",t.value=this.config.scroll;break;case"exit":t.name="3_sleeknote_exit_intent";break;case"manual":t.name="4_sleeknote_trigger_manual";break;case"teaserClick":t.name="5_sleeknote_teaser_clicked";break;case"click":t.name="13_sleeknote_trigger_click";break;case"sitedata":t.name="14_sleeknote_trigger_sitedata";break;default:t.name=e}this.config.trackData=this.config.trackData||{},this.config.trackData.openTriggerEvent=t}},processCloseTrigger:function(e){if(e){var t={};switch(e.type){case"closebutton":e.isLinkButton?t.name="12_sleeknote_linkbutton_clicked":t.name="8_sleeknote_closebutton_clicked";break;case"dismiss":t.name="9_sleeknote_dismissed";break;default:t.name=e.type}t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.closeTriggerEvent=t}},processSubmitTrigger:function(e){if(e){var t={};switch(e.type){case"click":case"touchend":case"touchcancel":t.name="6_sleeknote_submitbutton_clicked";break;case"keypress":t.name="7_sleeknote_submitbutton_enterpress";break;default:t.name=e.type}t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.submitTriggerEvent=t}},processUserDefinedClicks:function(e){if(e){var t={};void 0===e.mimirEvent&&(e.mimirEvent="link_clicked",t.linkDestination=e.href||e.step,t.linkDestinationType=e.href?"1_url":"2_sleeknotestep",e.isImage?t.linkType="1_imagelink":e.isLinkButton?t.linkType="3_linkbutton":e.isLink&&(t.linkType="2_textlink"),t.linkName=e.name,t.elementDataId=e.elementDataId,this.config.trackData=this.config.trackData||{},this.config.trackData.userDefinedClickEvent=t)}},getAfterSubmitStep:function(e,t){return!e&&t.config.success?{type:"open",noteName:t.config.success}:{type:"close",noteName:t.config.name}}},l}(e,t,0,0,x,l,o,S),T=function(e){function t(t){if(t||(t={}),this.onStateChanged=t.onStateChanged)if(this.context=t.context||this,e.has.touch){var n=!1;i.addEventListener("pageshow",function(){if(!n)return void(n=!0);this.signalVisibilityChange(!1)}.bind(this)),i.addEventListener("pagehide",this.signalVisibilityChange.bind(this,!0))}else i.document.addEventListener("visibilitychange",function(){this.signalVisibilityChange(i.document.hidden)}.bind(this))}var i=this;return t.prototype.signalVisibilityChange=function(e){e?this.onStateChanged.call(this.context,"suspend"):setTimeout(this.onStateChanged.bind(this.context,"restore"),100)},t}(e),O=function(e,t,i,n,o,r){function s(e){this.note=e,this.config=r.defaults("spacer",e.config),this.dimensions=function(){return{width:this.config.style.width,height:this.config.height}}}function a(e){this.layout=e,this.reset()}function c(e){var o=e.config,r=t.qsa(o.selector,u)[0];return o.DOMNode=t.insertHTML(r,t.template('<span class={className} style="{style}"></span>',{className:n.sleeknoteWrap,id:o.id,style:i.inline(o.style)}),o.insert),e}var l=this,u=l.document,h={},d={};return a.prototype={reset:function(){return d={},this},set:function(e){var t=new s(e);return"close"==t.config.next&&d[t.config.id]||(d[t.config.id]=t),this},execute:function(e){var t;for(t in h)h.hasOwnProperty(t)&&(d[t]?(this.create(d[t]),delete d[t]):e||this.destroy(h[t]));for(t in d)d.hasOwnProperty(t)&&(this.create(d[t]),delete d[t]);return this},reposition:function(){var e,i;for(e in h)h.hasOwnProperty(e)&&(i=h[e],i.config=t.extend(i.config,r.defaults("spacer",i.note.config)),this.layout.css(i.config,"DOMNode",{height:i.dimensions().height}))},css:function(e,i){this.layout.css(e.config,"DOMNode",t.extend({},i.to.animate,e.config.style))},create:function(e){var t=e.config.id;h[t]||(h[t]=c.call(this,e),i.reveal(h[t].config.DOMNode));var n=r.animationParameters(h[t],"close","open");this.css(h[t],n)},destroy:function(e){var i=e.config.id;if(h[i]){var n=r.animationParameters(h[i],"open","close");"shared"==h[i].config.kind?this.css(h[i],n):(t.removeNode(h[i].config.DOMNode),delete h[i])}}},a}(0,t,r,c,0,d),I=function(e,t,i,n,o,r,s,a){function c(e,t,i){if(!(this instanceof c))return new c(e,t,i);e instanceof c?(this.controller=e.controller,this.type=e.type,this.noteName=e.noteName):(this.controller=e,this.type=t,this.noteName=i)}function l(e){this.manager=e,this.visibles={},this.queue=[],this.busy=!1,this.after=this.after.bind(this),this.actions=[],new o({context:this,onStateChanged:function(e){"restore"==e&&this.repositionIf(!1,!0)}}),this.spacer=new r(a),a.onReposition=function(){this.repositionIf(!1,!0)}.bind(this)}var u=n.editor||n.preview;return l.prototype={get empty(){return!Object.keys(this.visibles).length},get stopper(){var e;for(e in this.visibles)if(this.visibles.hasOwnProperty(e)&&this.isStopper(this.visibles[e]))return this.visibles[e]},getBoxType:function(e){return e.controller?e.controller.notes[e.noteName].config.type:""},isStopper:function(e){return!(!e||e.controller.isHello)&&(!this.concurrent||t.contains(this.getBoxType(e),"form","success"))},get concurrent(){return"concurrent"==this.manager.mode},addToVisibles:function(e,t){var i=this.visibles[e.id];return i?i.noteName=t:i=this.visibles[e.id]=c(e,"",t),i},removeFromVisibles:function(e){var e=this.visibles[e.controller.id];e&&delete this.visibles[e.controller.id]},extractCloseRequest:function(){for(var e,t=this.queue.length;t--;)if("close"==this.queue[t].type)return e=this.queue[t],this.queue.splice(t,1),e},positionIsOccupied:function(e){var t,i;for(t in this.visibles)if(this.visibles.hasOwnProperty(t)&&(i=this.visibles[t],i.controller.config.position==e.config.position))return i},extractHello:function(){for(var e,t=this.queue.length;t--;)if(e=this.queue[t],e.controller.isHello&&"close"!=e.type&&"form"==this.getBoxType(e)&&!this.positionIsOccupied(e.controller))return this.queue.splice(t,1),e},next:function(e){function n(){if(d)return h=h.concat(d),d=!1,!0}var o,r,c,l,u;if(this.queue.length&&!this.busy){for(this.actions=[];o=this.extractCloseRequest();)this.actions.push(o),this.removeFromVisibles(o);for(;o=this.extractHello();)this.actions.push(o),this.addToVisibles(o.controller,o.noteName);for(;;){if(this.queue.length){if(!e&&this.stopper&&this.isStopper(this.queue[0]))break;if(this.queue[0].controller.isHello&&(o=this.positionIsOccupied(this.queue[0].controller))&&o.controller!=this.queue[0].controller)break;if(r=this.queue.shift(),(o=this.visibles[r.controller.id])&&o.noteName==r.noteName&&t.contains(r.type,"open","reveal"))break;this.actions.push(r),(o=this.visibles[r.controller.id])&&t.contains(r.type,"open","reveal")&&(o.type="close",c=o.noteName,this.actions.push(o),this.removeFromVisibles(o)),this.isStopper(r)&&(o=this.stopper)&&(o.type="close",this.actions.push(o),this.removeFromVisibles(o),this.add("unshift",o.controller,"open",o.noteName)),this.addToVisibles(r.controller,r.noteName)}break}if(this.actions.length){var h=[];this.spacer.reset();var d,f=this.manager.badge,g=r&&r.controller.notes[r.noteName];if(f&&(d=this.isStopper(r)&&s.needs.badge(g.config)?f.prepare("open",g):f.prepare("close")),n(),g&&s.needs.cover(g.config))d=this.manager.cover.prepare("open",g);else{var m=this.stopper;m&&s.needs.cover(m.controller.notes[m.noteName].config)||(d=this.manager.cover.prepare("close"))}n();var p,l=r&&r.noteName;this.actions.forEach(function(e){var t;r&&e.controller==r.controller&&(t=e.noteName==r.noteName?c:l),d=e.controller.prepareNote(e.noteName,e.type,t),p=e.controller.notes[e.noteName],n()&&"close"!=e.type&&s.needs.spacer(p.config)&&this.spacer.set(p)},this);for(var v in this.visibles)p=this.visibles[v].controller.notes[this.visibles[v].noteName],s.needs.spacer(p.config)&&this.spacer.set(p);return this.spacer.execute(),this.busy=!0,u=this.actions.length,a.prepareForAnimation(h),this.animator=new i,this.animator.add(h).play(this.after),u}}},after:function(){this.busy=!1,u&&n.editor.event&&!this.empty&&n.editor.event("CORE.NOTES_STATUS",this.visibles[Object.keys(this.visibles)[0]]);for(var e,t=this.actions.length;t--;)e=this.actions[t],e.controller.message({type:"after",origin:e.controller,action:e.type,noteName:e.noteName});this.next(u)},add:function(e,t,i,n,o){var r=this.queue.length;if(t.notes[n]){var s=t.config.campaignId;if(s in this.visibles&&this.visibles[s].noteName==n){var a=this.visibles[s].controller.notes[n].visible;if(a==i)return;if("half"==a&&"minimize"==i)return}for(;r--&&this.queue[r].controller!=t;);return~r?o?(this.queue.splice(r,1),this.add(e,t,i,n)):"unshift"==e&&0===r:(this.queue[e](c(t,i,n)),!0)}},indexOf:function(e){for(var t=this.queue.length;t--;)if(this.queue[t].controller==e)return t;return-1},push:function(e,t,i,n){if(this.add("push",e,t,i,n))return this.next(),!0},closeIf:function(e,t){var i=this.visibles[e.id];if(i&&this.add("unshift",i.controller,"close",i.noteName))return this.next(1)},now:function(e,t,i,n){if(this.add("unshift",e,t,i,n))return this.next(1)},state:function(e){return~this.indexOf(e)?1:this.visibles[e.id]?2:0},reset:function(e){var t=this.queue.length;for(e=String(e);t--;)e.indexOf(this.queue[t].controller.id)<0&&this.queue[t].splice(t,1);var i;for(i in this.visibles)this.visibles.hasOwnProperty(i)&&e.indexOf(i)<0&&this.add("unshift",this.visibles[i].controller,"close",this.visibles[i].noteName);return this.next(1)},repositionIf:function(e,t){var i,n,o,r;this.animator&&this.animator.ffwd();for(r in this.visibles)if(this.visibles.hasOwnProperty(r)){if(e&&r!=e.id)continue;o=this.visibles[r],i=o.controller.notes[o.noteName],i.reposition(t),this.isStopper(o)&&(n=this.manager.badge,n&&n.reposition(i.config),this.manager.cover.reposition(i.config))}this.spacer.reposition()}},l}(0,t,s,o,T,O,d,f),E=function(e){function t(e){var t=new Date;if(e=+e||0)return t.setTime(t.getTime()+e*u),t}function i(e,t){return e=String(e),0===e.lastIndexOf(t,0)}function n(t){if(!(this instanceof n))return new n(t);this.useLocalStorage=!1,this.useSessionStorage=!1,this.cookiePath="/",this.cookieDomain=void 0,this.cookieSecure=void 0,e.applyOptions.call(this,t),this.useLocalStorage=h&&this.useLocalStorage,this.useSessionStorage=d&&this.useSessionStorage,this.storageBacker=f.cookieStorage;var i;if(this.useSessionStorage&&!this.dummyStorage)try{i=e.JSON.parse(s.sessionStorage.getItem(c)),this.storageBacker=f.sessionStorage}catch(e){}if(this.useLocalStorage&&!this.dummyStorage)try{i=e.JSON.parse(s.localStorage.getItem(c)),this.storageBacker=f.localStorage}catch(e){}this.data=i||{},n.getCookie("SNS")||(this.resetSessionData(),this.migrateOldCookiesIfNeed(),this.setNewVisitor(this.newVisitorCheck()),n.setCookie("SNS",1,"",this.cookiePath,this.cookieDomain,this.cookieSecure,!0)),void 0===this.getNewVisitor()&&this.setNewVisitor(!1),this.newVisitor=this.getNewVisitor()}function o(e,i,n,o){return l.setItem(e,i,t(n),this.cookiePath,this.cookieDomain,this.cookieSecure,o)}function r(e){return l.removeItem(e,this.cookiePath,this.cookieDomain)}var e,s=this,a=s.document,c="SleekNote",l={getItem:function(t,i){return t?function(t,i){return i?t:e.decodeURIComponent(t)}(a.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+function(t,i){return i?t:e.encodeURIComponent(t)}(t,i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"),i)||null:null},setItem:function(t,i,n,o,r,s,c){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var l="";if(n)switch(n.constructor){case Number:l=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:l="; expires="+n;break;case Date:l="; expires="+n.toUTCString()}return a.cookie=(c?t:e.encodeURIComponent(t))+"="+(c?i:e.encodeURIComponent(i))+l+(r?"; domain="+r:"")+(o?"; path="+o:"")+(s?"; secure":""),!0},removeItem:function(t,i,n){return!!this.hasItem(t)&&(a.cookie=e.encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(i?"; path="+i:""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+e.encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)},keys:function(){for(var t=a.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),i=t.length,n=0;n<i;n++)t[n]=e.decodeURIComponent(t[n]);return t}},u=864e5,h=function(){try{return s.localStorage.setItem("test","1"),s.localStorage.removeItem("test"),"localStorage"in s&&null!==s.localStorage}catch(e){return!1}}(),d=function(){try{return s.sessionStorage.setItem("test","1"),s.sessionStorage.removeItem("test"),"sessionStorage"in s&&null!==s.sessionStorage}catch(e){return!1}}(),f={localStorage:1,cookieStorage:2,sessionStorage:3};return n.setCookie=l.setItem.bind(l),n.removeCookie=l.removeItem.bind(l),n.getCookie=l.getItem.bind(l),n.getCookieKeys=l.keys.bind(l),n.prototype={write:function(t,i,n,r){if(void 0===i)return this.erase(t);this.data[t]=e.extend(i),this.useLocalStorage?this.dummyStorage||s.localStorage.setItem(c,e.JSON.stringify(this.data)):this.useSessionStorage?this.dummyStorage||s.sessionStorage.setItem(c,e.JSON.stringify(this.data)):o.call(this,t,e.JSON.stringify(this.data[t]),n,r)},read:function(t,i,n){if(!this.useLocalStorage&&!this.useSessionStorage&&void 0===this.data[t])try{this.data[t]=e.JSON.parse(l.getItem(t))}catch(o){try{this.data[t]=e.JSON.parse('"'+l.getItem(t,n)+'"')}catch(e){this.data[t]=i}}return e.extend(void 0===i?this.data[t]:this.data[t]||i)},erase:function(t){delete this.data[t],this.useLocalStorage?this.dummyStorage||s.localStorage.setItem(c,e.JSON.stringify(this.data)):this.useSessionStorage?this.dummyStorage||s.sessionStorage.setItem(c,e.JSON.stringify(this.data)):r.call(this,t)},readAndInitializeCompaignData:function(e){var t=this.read("SNC",{},!0);return t.cs=t.cs||{},t},readPersistentCookieByCampaignId:function(e){var t=String(e).substring(0,4);return this.readAndInitializeCompaignData(t).cs[t]||{}},writePersistentCookieByCampaignId:function(t,i){var n=String(t).substring(0,4),o=this.readAndInitializeCompaignData(n);e.empty(i)?delete o.cs[n]:o.cs[n]=i,this.write("SNC",o,365,!0)},readPersistentCookie:function(){return this.read("SNC",{},!0)},writePersistanceCookie:function(e){this.write("SNC",e,365,!0)},preserveIfNotExpired:function(e){return e&&e.length>=1?Date.now()<e[0]?e:void 0:e},resetSessionData:function(){if(a.cookie.indexOf("SNC")>=0){var t=this.readPersistentCookie();if(delete t.r,delete t.g,delete t.gi,t.cs){var i;for(var n in t.cs)if(t.cs.hasOwnProperty(n))if(i=t.cs[n],e.empty(i))delete t.cs[n];else{var o={i:this.preserveIfNotExpired(i.i),b:this.preserveIfNotExpired(i.b),pv:i.pv};e.empty(o.i)&&e.empty(o.b)&&e.empty(o.pv)?delete t.cs[n]:t.cs[n]=o}}this.writePersistanceCookie(t)}},migrateOldCookiesIfNeed:function(){if(a.cookie.indexOf("SNC")<0){var t;n.getCookieKeys().forEach(function(n){var o=this.read(n),r="object"==e.typeStr(o);if("SleeknoteReferral"==n)r&&!e.empty(o.referral)&&this.setReferral(o.referral),r&&!e.empty(o.newVisitor)&&this.setNewVisitorIf(+o.newVisitor),this.erase(n);else if(i(n,"SleekNoteSubmitCookie"))t=n.replace(/SleekNoteSubmitCookie/g,""),e.empty(o)||this.setEmail(t,o,182),this.erase(n);else if(i(n,"SleekNotecookie"))t=n.replace(/SleekNotecookie/g,""),this.setShowCount(t,o||0,182),this.erase(n);else if(i(n,"SleekNoteSessionClosed")){t=n.replace(/SleekNoteSessionClosed/g,"");var s=this.readPersistentCookieByCampaignId(t);r&&!e.empty(o.close)&&(s.c=+o.close),r&&!e.empty(o.hide)&&(s.h=+o.hide),r&&!e.empty(o.Engaged)&&(s.e=+o.Engaged),r&&!e.empty(o.utm)&&(s.u=o.utm),r&&!e.empty(o.query)&&(s.q=o.query),r&&!e.empty(o.sequence)&&(s.s=this.encodeArrayValues(o.sequence)),this.writePersistentCookieByCampaignId(t,s),this.erase(n)}},this)}},encodeArrayValues:function(t){return Array.isArray(t)&&t.forEach(function(t,i,n){n[i]=e.encodeURIComponent(t)}),t},decodeArrayValues:function(t){return Array.isArray(t)&&t.forEach(function(t,i,n){n[i]=e.decodeURIComponent(t)}),t},forceResetSession:function(e){var t,i;"full"!=e&&(t=this.getGeoInfo(),i=this.getPagesVisitedCount()),this.erase("SNC"),this.erase("SNSubscribed"),this.setNewVisitor(this.newVisitorCheck()),this.newVisitor=this.getNewVisitor(),t&&this.setGeoInfo(t),i&&this.setPagesVisitedCount(i),this.startSessionTime()},closeSession:function(e){var t=this.readPersistentCookieByCampaignId(e);t.c=1,this.writePersistentCookieByCampaignId(e,t)},isSessionClosed:function(e){return!!this.readPersistentCookieByCampaignId(e).c},hideSession:function(e){var t=this.readPersistentCookieByCampaignId(e);t.h=1,this.writePersistentCookieByCampaignId(e,t)},isSessionHidden:function(e){return!!this.readPersistentCookieByCampaignId(e).h},setEngaged:function(e){var t=this.readPersistentCookieByCampaignId(e);t.e=1,this.writePersistentCookieByCampaignId(e,t),this.recordGoalEngaged(e)},isEngaged:function(e){return!!this.readPersistentCookieByCampaignId(e).e},convertSessionEvent:function(e){var t=this.readPersistentCookieByCampaignId(e);t.z=1,this.writePersistentCookieByCampaignId(e,t)},hasConvertSessionEvent:function(e){return!!this.readPersistentCookieByCampaignId(e).z},setUTMInclude:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.u=t,this.writePersistentCookieByCampaignId(e,i)},getUTMInclude:function(e){return this.readPersistentCookieByCampaignId(e).u},setQueryInclude:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.q=t,this.writePersistentCookieByCampaignId(e,i)},getQueryInclude:function(e){return this.readPersistentCookieByCampaignId(e).q},getSequence:function(e){return this.decodeArrayValues(this.readPersistentCookieByCampaignId(e).s)||[]},setSequence:function(t,i){var n=this.readPersistentCookieByCampaignId(t);e.empty(i)?delete n.s:n.s=this.encodeArrayValues(i),this.writePersistentCookieByCampaignId(t,n)},getPagesVisitedCountPerSession:function(e){return this.readPersistentCookieByCampaignId(e).pvs},setPagesVisitedCountPerSession:function(t,i){var n=this.readPersistentCookieByCampaignId(t);e.empty(i)?delete n.pvs:n.pvs=i,this.writePersistentCookieByCampaignId(t,n)},getPagesVisitedCount:function(e){return this.readPersistentCookieByCampaignId(e).pv},setPagesVisitedCount:function(t,i){var n=this.readPersistentCookieByCampaignId(t);e.empty(i)?delete n.pv:n.pv=i,this.writePersistentCookieByCampaignId(t,n)},setSubscription:function(){this.write("SNSubscribed",!0,365)},isSubscribed:function(){return this.read("SNSubscribed",!1)},setEmail:function(e,i,n){n=+n||365;var o=this.readPersistentCookieByCampaignId(e);n>0?o.b=[t(n).getTime(),i]:delete o.b,this.writePersistentCookieByCampaignId(e,o)},getEmail:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.b=t.b||[],t.b[1]||""},setShowCount:function(e,i,n){n=+n||365;var o=this.readPersistentCookieByCampaignId(e);o.i=[t(n).getTime(),i],this.writePersistentCookieByCampaignId(e,o)},getShowCount:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.i=t.i||[],t.i[1]||0},incrementShowCount:function(e){this.setShowCount(e,this.getShowCount(e)+1),this.recordGoalShown(e)},eraseShowCount:function(e){var t=this.readPersistentCookieByCampaignId(e);delete t.i,this.writePersistentCookieByCampaignId(e,t)},cleanShowCount:function(e){this.getShowCount(e)<1&&this.eraseShowCount(e)},setReferral:function(e){var t=this.readPersistentCookie();t.r=t.r||{},t.r.r=e,this.writePersistanceCookie(t)},getReferral:function(){var e=this.readPersistentCookie();return e.r=e.r||{},e.r.r||""},setNewVisitorIf:function(e){e&&this.setNewVisitor(!0)},setNewVisitor:function(e){var t=this.readPersistentCookie();t.r=t.r||{},t.r.n=+e,this.writePersistanceCookie(t)},getNewVisitor:function(){var e=this.readPersistentCookie();return e.r=e.r||{},e.r.n},setVistorIdIf:function(e){var t=this.readPersistentCookie();return t.v=t.v?t.v:e,this.writePersistanceCookie(t),t.v},getVistorId:function(){var t=this.readPersistentCookie();return t.v||(t.v=e.guid_string(),this.writePersistanceCookie(t)),t.v},hasVisitorId:function(){var t=this.readPersistentCookie();return!e.empty(t.v)},setGeoInfo:function(e){var t=this.readPersistentCookie();return t.gi=e,this.writePersistanceCookie(t),t.gi},getGeoInfo:function(){return this.readPersistentCookie().gi},recordGoalShown:function(e){var t=this.readPersistentCookie();return t.g=t.g?t.g:{},t.g.sc=t.g.sc?t.g.sc:{},t.g.sc[e]=(t.g.sc[e]?t.g.sc[e]:0)+1,this.writePersistanceCookie(t),t.g.sc[e]},getGoalShownList:function(){var e=this.readPersistentCookie();return e.g=e.g?e.g:{},e.g.sc||{}},recordGoalEngaged:function(e){var t=this.readPersistentCookie();return t.g=t.g?t.g:{},t.g.e=t.g.e?t.g.e:{},t.g.e[e]=1,this.writePersistanceCookie(t),t.g.e[e]},getGoalEngageList:function(){var e=this.readPersistentCookie();return e.g=e.g?e.g:{},e.g.e||{}},resetGoal:function(){var e=this.readPersistentCookie();return delete e.g,this.writePersistanceCookie(e)},startSessionTime:function(){var t=this.readPersistentCookie();t.a=t.a||{},t.a.s=(new Date).getTime(),t.a.i=e.guid_string(),this.writePersistanceCookie(t)},getSessionStartTime:function(){var e=this.readPersistentCookie();return e.a=e.a||{},e.a.s||(e.a.s=(new Date).getTime(),this.writePersistanceCookie(e)),new Date(e.a.s)},endSessionTime:function(){var e=this.readPersistentCookie();e.a=e.a||{},e.a.e=(new Date).getTime(),delete e.a.i,this.writePersistanceCookie(e)},getLastSessionEndTime:function(){var e=this.readPersistentCookie();return e.a=e.a||{},e.a.e?new Date(e.a.e):""},getSessionId:function(){var t=this.readPersistentCookie();return t.a=t.a||{},t.a.i||(t.a.i=e.guid_string(),this.writePersistanceCookie(t)),t.a.i},newVisitorCheck:function(){return a.cookie.indexOf("SNC")<0},setInTest:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.t=i.t||{},i.t.i=t,this.writePersistentCookieByCampaignId(e,i)},getInTest:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.t=t.t||{},t.t.i||null},setChosenCohort:function(e,t){var i=this.readPersistentCookieByCampaignId(e);i.t=i.t||{},i.t.c=t,this.writePersistentCookieByCampaignId(e,i)},getChosenCohort:function(e){var t=this.readPersistentCookieByCampaignId(e);return t.t=t.t||{},t.t.c||null},cookieExists:function(e){return l.hasItem(e)},cookieMatches:function(e,t){return l.getItem(e)==t}},n}(t),N=function(e){function t(t){var n=new e(t);return i[n.storageBacker]||(i[n.storageBacker]=n),i[n.storageBacker]}var i={};return{create:t}}(E),P=function(e,t,i,n){function o(e){var i={};return i.s1=e||"",i.s2=d.title,i.s3=h.location.hostname||"",i.s4=h.location.href||"",i.s9=h.location.protocol||"",i.s11=h.location.pathname||"",i.s12=h.location.search||"",i.s13=h.location.hash||"",i.c1=t.user.timezoneOffSet()||"",i.s7=t.user.language(),i.v5=t.userAgent(),
i.v22=t.is.name,i.v23=t.is.version,i.v24=t.is.platform,i.v26=t.is.device,i}function r(e){return e.toISOString().split(".")[0]+"Z"}function s(){var n=i.create({useLocalStorage:!1}),o={},s=new Date,a=n.getSessionStartTime(),c=Math.round((s.getTime()-a.getTime())/1e3);o.v0=n.getVistorId(),o.v3=r(s),o.v4=d.referrer,o.v6=r(a);var l=n.getLastSessionEndTime();return e.empty(l)||(o.v7=r(l)),o.v20=e.empty(l)?"true":"false",o.v21=n.getSessionId(),o.v25=t.isLandscape()?"true":"false",o.v27=c,o}function a(e){var t=d.createElement("img");return t.width=1,t.height=1,t.src=e,t}function c(t,i,n){var o=a(e.appendToUrl(t,i));o.onload=o.onerror=function(){o.onload=null,o.onerror=null,n()}}function l(i,n){if(n=n||function(){},!t.is.bot){var o=e.buildQueryString(i);c(f,o,n)}}function u(e){g=o(e)}var h=this,d=h.document,f="https://analytics.sleeknote.com/",g={},m={pagereload:"1_pagereload",pageview:"2_pageview",shown:"3_sleeknote_shown",engaged:"4_sleeknote_engaged",closed:"5_sleeknote_closed",link_clicked:"6_sleeknote_link_clicked",goal_converted:"7_goal_converted",teaser_closed:"8_sleeknote_teaser_closed",substep_engaged:"11_sleeknote_substep_engaged"},p={newsletter:"1_Newsletter",promote:"2_Promote",contact:"3_Contact",blank:"2_Promote"};return u.prototype={trackPageView:function(){var t={v8:m[h.performance&&1==h.performance.navigation.type?"pagereload":"pageview"]||"pageview"};l(e.extend(t,s(),g))},trackEvent:function(t,i,n){i=i||{},i.trackData=i.trackData||{};var o={v8:m[t]||t,v1:i&&i.campaignId,v12:p[i.type]||i.type,v33:i.stepName};i.summaryId&&(o.v34=i.summaryId);var r=i.trackData.openTriggerEvent;r&&(o.v9=r.name,r.value&&(o.v10=r.value));var a=i.trackData.closeTriggerEvent;a&&(o.v9=a.name,o.v32=a.elementDataId);var c=i.trackData.submitTriggerEvent;c&&"engaged"==t&&(o.v9=c.name,o.v32=c.elementDataId,delete i.trackData.submitTriggerEvent);var u=i.trackData.userDefinedClickEvent;u&&(o.v28=u.linkDestination,o.v29=u.linkType,o.v30=u.linkDestinationType,o.v31=u.linkName,o.v32=u.elementDataId),i.smartIndex&&(o.v11="true");var h=i.splitTestId;h&&!isNaN(h)&&(o.v19=h);var d=i.position||i.form&&i.form.position;d&&(o.v13=d),l(e.extend(o,s(),g),n),i.trackData&&delete i.trackData},trackGoal:function(t,n){var o=i.create({useLocalStorage:!1}),r={v8:m[t]||t,g1:n,v15:"true"};r.g2=Object.keys(o.getGoalEngageList()).join(","),r.g3=Object.keys(o.getGoalShownList()).join(","),l(e.extend(r,s(),g)),o.resetGoal()}},u}(t,e,N),M=function(e,t,i,n,o){function r(e,t){a=new i(e),a.trackPageView(),this.isGoalMatch()}function s(e,i,n){if(t.CustomInitSettings.DisableGA)return void u("GA disabled in config",t.CustomInitSettings.DisableGA);if(!t.CustomInitSettings.DisableGAEvents||!~t.CustomInitSettings.DisableGAEvents.indexOf(i)){var o=c.ga,r=c._gat,s=c._gaq,a=c.__gaTracker,l=0;try{n=n.toString(),r&&r._getTrackers?(r._getTrackers().forEach(function(t){t._trackEvent(e,i,n,void 0,1)}),l++):s&&s.push?s.push(["_trackEvent",e,i,n,void 0,1]):a&&a("send","event",e,i,n,void 0,1),o&&o.getAll&&(o.getAll().forEach(function(t){o(t.get("name")+".send","event",e,i,n,{nonInteraction:!0})}),l++),l||u("google blocked")}catch(e){u(e)}}}var a,c=this,l=c.document,u=t.debugMessage("t"),h=t.editor||t.preview;return r.prototype={event:function(e,t,i){!h&&a&&a.trackEvent(e,t,i)},shown:function(e){this.event("shown",e,null),this.customTrackerEvent("boxShown",e.campaignId),u("closeSession")},cohortEvent:function(e,t,i){h||s("cohorts",e,t+" | "+i)},customTrackerEvent:function(e,t){function i(e,t){s("Sleeknote",e,t)}switch(t=t||"unknown",u("customTrackerEvent",e),e){case"boxShown":i("Sleeknote shown",t);break;case"newsletter":i("New Subscriber",t);break;case"contact":i("New Contact Request",t);break;case"blank":i("Blank Click",t);break;case"social":i("New Social Follower",t);break;default:u("customTrackerEvent","unknown")}},isGoalMatch:function(){if(!h){var e,i,o,r,s=l.location.href;if(t.SleeknoteGoals&&(r=n.create({useLocalStorage:!0}),r.read("location")!=s))for(r.write("location",s),e=0;e<t.SleeknoteGoals.length;e++)for(o=t.SleeknoteGoals[e].urls,i=0;i<o.length;i++)if(~s.indexOf(o[i].url)){a.trackGoal("goal_converted",t.SleeknoteGoals[e].goalId);break}}}},r}(0,o,P,N),A=function(e,t){function i(t){var i=e.create({useSessionStorage:!0}),n=i.read("siteData")||{};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);i.write("siteData",n),this.manager.siteDataTriggerIf()}function n(e){this.manager=e,Array.isArray(o.sleeknoteSiteData)&&(o.sleeknoteSiteData.forEach(i,this),o.sleeknoteSiteData={push:i.bind(this)})}var o=this;return n.prototype={addSession:function(e,t){var n={};n[e]=t,i.call(this,n)},getSession:function(){return e.create({useSessionStorage:!0}).read("siteData")||{}},matchSessionProperty:function(e,i,n){var o=(this.getSession()||{})[e];return t.JITMatch(o,i,n)}},n}(N,t),L=function(e,t,i,n,o){function r(e,n,o){if(!0===i.local)return!0;var r=t.get(i).domainMatches(n);return L(o,"CorrectDomain","is",e?e+","+n:n,r),r}function s(t,i,n,o){var r,s=!0;if(void 0===t||!Array.isArray(i))return L(o,"excludedOrIncludedFromThisReferral","not evaluated"),s;if("exclude"==t)for(var a=0;a<i.length;a++){var c=i[a];c=e.cleanUpReferral(c),c&&(-1!=c.indexOf("*")?(r=c.replace("*",""),-1!=n.indexOf(r)&&(s=!1)):n==c&&(s=!1))}else{s=!1;for(var l=0;l<i.length;l++){var u=i[l];u=e.cleanUpReferral(u),u&&(-1!=u.indexOf("*")?(r=u.replace("*",""),-1!=n.indexOf(r)&&(s=!0)):n==u&&(s=!0))}}return L(o,"excludedOrIncludedFromThisReferral","is",s),s}function a(e,t,i){return I(p,e,t||[],i)}function c(t,i,n,o){function r(t,i){if(!Array.isArray(t))return L(o,"includeOnThisUTM","not evaluated"),!0;L(o,"includeOnThisUTM","evaluating",JSON.stringify(t));var n,r,s,a;if(Array.isArray(t))for(r=0;r<t.length;r++){for(n=e.getQueryVarByName(t[r].UTMName).toLowerCase().split(","),a=!1,s=0;s<n.length&&!(a="contains"==t[r].matchType?~n[s].indexOf(t[r].value):n[s]==t[r].value);s++);if(!a)return!i}return i}var s=i.getUTMInclude(n);return s?(L(o,"includeOnThisUTM","cookie",s>0),s>0):t&&(Array.isArray(t.Exclude)||Array.isArray(t.Include))?r(t.Exclude,!1)&&r(t.Include,!0)?(i.setUTMInclude(n,1),L(o,"includeOnThisUTM","is",!0),!0):(i.setUTMInclude(n,-1),void L(o,"includeOnThisUTM","is",!1)):(L(o,"includeOnThisUTM","not evaluated"),!0)}function l(e){for(var t=e.rules&&e.rules.groups||[],i=0;i<t.length;i++)if(t[i].conditions&&t[i].conditions.length)return!0;return!1}function u(e,t){for(var i=e.rules&&e.rules.groups||[],n=0,o=!1,r=!0;n<i.length;n++)o=!!this.evaluateGroup(i[n].conditions,i[n].conditionAnd,e,t),r=i[n].groupAnd?r&&o:r||o;return r}function h(t,i,n,o){var r,s,a,c,l=0,u=i;if(!t)return!0;if(L(n,"--Conditions--",i?"AND":"OR",t.length),!t.length)return!0;for(;l<t.length;l++){r=t[l];var h=this.evaluatorFunctions[r.type].formatValue,d=this.evaluatorFunctions[r.type].evaluate;"object"==e.typeStr(r)&&(c=h?h(r.value):r.value,a=r.matchType,s=d(i,a,c,n,o),u=i?u&&s:u||s)}return u}function d(e){return function(t,i,n,o,r){var s=I(e,"exclude",n.exclude,o,r);return s?s=I(e,"include",n.include,o,r):t||"exclude",s}}function f(t,i,n,o,r){var s=r.getSequence(o.CampaignId);return L(o,"Current Sequence","is",e.JSON.stringify(s)),s.length<n.length&&(p("include",n[s.length],o,r)?s.push(1):s.length-1>=0&&p("include",n[s.length-1],o,r)||(s.length=0)),r.setSequence(o.CampaignId,s),s.length==n.length?(L(o,"evalSequence",i,n,!0),A(i,!0)):"exclude"==i||void L(o,"evalSequence",i,n,!1)}function g(n,o,r,s,a){var c=a.isSubscribed()||"true"==e.getQueryVarByName("SNSubscribed");L(s,"Current Subscribe","saved",c),!c&&r.extraParam&&(c=~String(t.get(i)).indexOf(r.extraParam)),c=r.value?c&&r.value:c&&r;var l=A(o,c);return L(s,"evalNewsletterSubscriber",o,r.value?r.value:r,l),l}function m(e,t,i,n,o){var r=A(t,o.newVisitor);return L(n,"evalNewVisitor",t,i,r),r}function p(e,n,o,r){var s=A(e,t.get(i).matches(n));return L(o,"evaluateURL",e,n,s),s}function v(n,o,r,s,a){var c=a.getQueryInclude(s.CampaignId);if(e.empty(t.get(i).queryParams())&&c)return L(s,"Query cookie","is set",c,!0),c>0;var l=function(e,n,o,r,s){function a(e,n,o,r,s){var a=t.get(i).queryParams(),c=0;if(o.length){if(o.forEach(function(t){var i=t[0].key,o=t[0].value,s=i in a&&a[i]==o;L(r,"evalSpecificQuery",e?"and":"or",n,"?"+i+"="+o+" "+s,0),s&&c++}),c==o.length)return c="include"==n?1:-1,L(r,"evaluateQuery",n,o,!0),c;c=0,L(r,"evaluateQuery",n,[],!1)}return c}var c,l,u=s.getQueryInclude(r.CampaignId);return c=a(e,"exclude",o.exclude||[],r,s),l=a(e,"include",o.include||[],r,s),c||l?c?(e||(n="exclude"),s.setQueryInclude(r.CampaignId,c),{result:!1,matchType:n}):l?(s.setQueryInclude(r.CampaignId,l),{result:!0,matchType:n}):void 0:(u&&L(r,"Query cookie","is set",u,!0),{result:u?u>0:!(o.include||[]).length,matchType:n})}(n,o,r,s,a);return o=l.matchType,l.result}function b(t,i,n,o,r){var s=r.getReferral();L(o,"stored referral is",s);var a=s&&n.some(function(t){return t.split(",").some(function(t){return e.cleanUpReferral(t).toLowerCase()==e.cleanUpReferral(s).toLowerCase()})}),c=A(i,a);return L(o,"evalSpecificReferral",i,n,c),c}function y(e,n,o,r,s){function a(e,t){var i,n,o,r=e.split(",");for(i=0;i<t.length;i++)for(o=t[i].matchType,n=0;n<r.length;n++)if("exactMatch"==o){if(t[i].value==r[n])return!0}else if("contains"==o&&~r[n].indexOf(t[i].value))return!0}var c=t.get(i).queryParams(),l=s.getUTMInclude(r.CampaignId);if(l)return L(r,"UTM cookie","is set",l,!1),l>0;var u=function(e,t){var i,n,o;for(i in t)if(t.hasOwnProperty(i)){n=!0;for(o in e)if(i.toLowerCase()==o.toLowerCase()&&(n=!1,!a(e[o],t[i])))return!1;if(n)return!1}return!0}(c,o),h=A(n,u);return s.setUTMInclude(r.CampaignId,h?1:-1),L(r,"evalUTMCampaign",n,JSON.stringify(o),h),h}function k(e,t,i,n,o){if(n.hiddenSleeknote)return L(n,"evalShowCount","hidden Sleeknote"),!0;var r=o.getShowCount(n.CampaignId),s=A(t,r>=i);return L(n,"evalShowCount",t,i,s),s}function w(e,t,i,n,o){function r(e,t,i,n){function o(e,t,i,n){var o,r=t.split("=");return o=r.length>1?n.cookieMatches(r[0],r[1]):n.cookieExists(r[0]),o=A(e,o),L(i,"evaluateCookie",e,t,o),o}t||(t=[]);var r=t.length;if(!r)return!0;if("include"!=e){for(;r--;)if(!o(e,t[r],i,n))return!1;return!0}for(;r--&&o(e,t[r],i,n););return-1==r||void 0}var s=r("exclude",i.exclude,n,o);return s?s=r("include",i.include,n,o):e||"exclude",s}function S(e,n,o,r){var s=A(e,t.get(i).contains(n));return L(o,"containsURL",e,n,s),s}function x(e,t,i,n){t=t||{};var o,r=n.getGeoInfo()||{};return o=t.sw?A(e,function(e,t,i){var n=t.lng<e.lng?i.lng>=e.lng||i.lng<=t.lng:i.lng>=e.lng&&i.lng<=t.lng;return i.lat>=e.lat&&i.lat<=t.lat&&n}(t.sw,t.ne,{lat:r.lt,lng:r.lg})):A(e,r.gi.indexOf(t.geoname_id)>-1),L(i,"containsGEOID",e,t,o),o}function C(t,i,n,o){var r=e.gid(i.target);if(e.empty(r)){var s=A(t,"notExists"==i.matchType);return L(n,"evalateHtmlElementValue",t,s),s}var a=e.parseNodeValue(r),s=A(t,e.JITMatch(a,i.matchType,i.value));return L(n,"evalateHtmlElementValue",t,s),s}function T(e,t,i,o,r){function s(e,t,i,o){var r=new n,s=A(e,r.matchSessionProperty(t.target,t.matchType,t.value));return L(i,"evalateSiteDataValue",e,s),s}function a(e,t,i,n,o){if(i=i||[],!i.length)return!0;var r=i.every(function(i){var r=e(t,i,n,o);return"include"==t?r:!r});return"include"==t?r:!r}var c=a(s,"exclude",i.exclude,o,r);return c?c=a(s,"include",i.include,o,r):e||"exclude",c}function O(t,i,n,r,s){var a="object"!=e.typeStr(n)?e.JSON.parse(n):n,c=function(e,t,i){return e==o.CONDITIONS.PAGESVISITEDOPTIONS.ONESESSION?s.getPagesVisitedCountPerSession(t)||0:s.getPagesVisitedCount(t)||0}(a.option,r.CampaignId);c+=1,function(e,t,i){e==o.CONDITIONS.PAGESVISITEDOPTIONS.ONESESSION?s.setPagesVisitedCountPerSession(t,i):s.setPagesVisitedCount(t,i)}(a.option,r.CampaignId,c),L(r,"Current Number of Pages Visited","is",c);var l=A(i,a.value<=c);return L(r,"evalPagesVisitedCount",i,n,l),l}function I(e,t,i,n,o){var r=(i||[]).length,s=!1;if(!r)return!0;for(;r--;)if(s=e(t,i[r],n,o),"include"==t){if(s)return!0}else if(!s)return!1;return s}function E(t){var i,n=[];for(Array.isArray(t)||(t=e.JSON.parse(t)),i=t.length;i--;)n.unshift(t[i].value);return n}function N(t){var i={};return"string"==e.typeStr(t)&&(t=e.JSON.parse(t)),t.include&&(i.include=E(t.include)),t.exclude&&(i.exclude=E(t.exclude)),i}function P(t){return"string"==e.typeStr(t)&&(t=e.JSON.parse(t)),t}function M(t){return"boolean"!=e.typeStr(t)&&(t=e.JSON.parse(t)),t}function A(e,t){return"exclude"==e?!t:t}var L=i.debug?function(e,t,i,n,o){e.CampaignId;var r=(e.CampaignId+"").split("-")[0];o===Boolean(o)&&(o=o?"YES":"NO");var s=[r," ",t," [",i,', "',n,'"]'];void 0!==o&&s.push(" ->"),console.log(s.join(""),void 0===o?"":o)}:function(){};return{isCorrectDomain:r,excludedOrIncludedFromThisReferral:s,excludedOrIncludedOnThisPage:a,includeOnThisUTM:c,includeNote2:u,isAnyConditions2:l,evaluateArraySome:I,evaluateGroup:h,evaluatorFunctions:{1:{evaluate:f,formatValue:E},2:{evaluate:g,formatValue:M},3:{evaluate:m},4:{evaluate:d(p),formatValue:N},5:{evaluate:v,formatValue:N},6:{evaluate:b,formatValue:E},7:{evaluate:y,formatValue:P},8:{evaluate:k},9:{evaluate:w,formatValue:N},10:{evaluate:d(S),formatValue:N},11:{evaluate:d(x),formatValue:N},12:{evaluate:d(C),formatValue:P},13:{evaluate:T,formatValue:P},14:{evaluate:O}},evaluateURL:p,containsURL:S,containsGEOID:x,evalateHtmlElementValue:C,match:A}}(t,w,o,A,l),D=function(e,t){function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function n(e,t,i){return e>=t&&e<=i}var o,r=this;return function(){var t=function(t,i){this.storage=t,this.options=e.extend({smart:!1,name:null,cohorts:null,sample:1,invalidConfigCallback:function(){},previousChoiceRemoved:function(){}},i),o=this.options.name,o?this.options.cohorts?e.objectSize(this.options.cohorts)<2?this.getCohort(o)?(console.warn("cohort: Previous note is not longer available"),this.options.previousChoiceRemoved()):(console.warn("cohort: You must specify at least 2 cohorts for a test"),this.options.invalidConfigCallback()):(this.cohorts=Object.keys(this.options.cohorts),this.run()):(console.warn("cohort: Cohorts must be specified for this test"),this.options.invalidConfigCallback()):(console.warn("cohort: A name for this test must be specified"),this.options.invalidConfigCallback())};return t.prototype={run:function(){var t,s=r.location.hash;0===s.indexOf("#")&&(s=s.slice(1,s.length));for(var a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("="),u=l[0];t=l[1],this.options.name==u&&this.setCohort(o,t)}var h=this.getInTest(o);null===h&&(h=Math.random()<=this.options.sample);var d;if(h){if(this.storage.setInTest(o,1),this.getCohort(o))d=this.getCohort(o);else{var f,g=0,m=e.objectSize(this.options.cohorts);if(this.options.smart){for(f=i(1,100);m--;)if(t=this.options.cohorts[this.cohorts[m]],n(f,t.low,t.high)){g=m;break}}else g=i(0,m-1);d=this.cohorts[g],this.setCohort(o,d)}this.options.cohorts[d]&&this.options.cohorts[d].onChosen&&this.options.cohorts[d].onChosen()}else this.setInTest(o,0)},getInTest:function(e){return this.storage.getInTest(e)},getCohort:function(e){if(this.getInTest(e))return this.storage.getChosenCohort(e)},setCohort:function(e,t){return-1!=this.cohorts.indexOf(t)&&(this.storage.setChosenCohort(e,t),!0)}},t}()}(t),B=function(e,t,i,n,o,r){function s(){return e.is.phone&&"isRealMobileSite"in o.CustomInitSettings?!!o.CustomInitSettings.isRealMobileSite:!e.is.phone||e.notScaledMobileContent()}function a(e){return"rules"in e||(+e.Version||0)>1}function c(e,i,o){if(!Array.isArray(e))return[];var r={},s=[];e.forEach(function(e,i){if(e){var n,a,c=e.CampaignId+"-smart";if(Array.isArray(n=function(){var t=l(e,o);return t!=v.MOBILE&&t!=v.IGNORE?e.smarts:void 0}())){r[c]=[];var u=1;n=n.map(function(e){return e.low=u,e.high=u+e.weight-1,u=e.high+1,e}),n.forEach(function(i,n){var o=[t.extend(i)],r=[o[0].id,o[0].type,o[0].value,o[0].weight].join(",");n?(a=t.extend(e),a.SplitTestId=c,a.smartIndex=r,a.rules.triggers=o,s.push(a)):(e.smartIndex=r,e.rules.triggers=o,e.SplitTestId=c)}),e=!1}}}),e=e.concat(s);var c=e.map(function(e,t){return a(e)?f(i,e,r,t,o):u(i,e,r,t,o)}),h=[],d=[],g="";return Object.keys(r).forEach(function(t){var o,s,a=r[t],l=a.length,u=0,f=100;if(l){w("testSubjects: "+l+" Test subject 1: "+c[a[0]].campaignId);var m={};for(s=0;s<l;s++)o=c[a[s]].smartIndex||"",g=c[a[s]].campaignId,o&&(u=e[a[s]].rules.triggers[0].low||0,f=e[a[s]].rules.triggers[0].high||100),m[g+o]={sleeknoteId:g,smartIndex:o,low:u,high:f,onChosen:function(e){return function(){h.push(a[e])}}(s)};try{w("added Split test",m),new n(i,{smart:o,name:o?g:t,sample:1,cohorts:m,invalidConfigCallback:function(){Object.keys(m).length<2&&(w("Split test not added, invalid split test...Stoping split test but showing the only one we have",m),d[t]=!0)},previousChoiceRemoved:function(){}})}catch(e){w(e)}}}),c.filter(function(e,t){if(e){if(e.splitTestId){if(d[e.splitTestId])return delete e.splitTestId,e;if(h.indexOf(t)<0)return void w(e.campaignId,e.splitTestId,e.smartIndex||"","ignored for split test");w(e.campaignId,e.splitTestId,e.smartIndex||"","added for split test")}i.setShowCount(e.campaignId,i.getShowCount(e.campaignId))}return e})}function l(t,i){var n,r="true"==t.ShowOnMobile;return a(t)?i?n=(o.editor||o.preview)&&"test"!=o.editor?"mobile"==(o.editor||o.preview).profile?v.MOBILE:v.DESKTOP:e.is.desktop?v.DESKTOP:e.is.tablet?v.TABLET:v.MOBILE:("displayStatus"in o.CustomInitSettings&&(n=o.CustomInitSettings.displayStatus(e,o,t,v)),"displayStatus"in o.CustomInitSettings&&void 0!==n||(n=v.IGNORE,Array.isArray(t.rules.display)?e.is.desktop?~t.rules.display.indexOf(1)&&(n=v.DESKTOP):e.is.tablet?~t.rules.display.indexOf(1)&&(n=v.TABLET):~t.rules.display.indexOf(2)&&(n=v.MOBILE):e.is.desktop?~[1,3].indexOf(t.rules.display)&&(n=v.DESKTOP):e.is.tablet?~[1,2].indexOf(t.rules.display)&&(n=v.TABLET):~[1,2].indexOf(t.rules.display)&&(n=v.MOBILE))):i?n=e.is.desktop?v.DESKTOP:e.is.tablet?v.TABLET:v.MOBILE:("displayStatus"in o.CustomInitSettings&&(n=o.CustomInitSettings.displayStatus(e,o,t,v)),"displayStatus"in o.CustomInitSettings&&void 0!==n||(n=e.is.desktop?v.DESKTOP:r?e.is.tablet?v.TABLET:v.MOBILE:v.IGNORE)),i||n!=v.MOBILE||s()||(n="displayStatus"in o.CustomInitSettings&&o.CustomInitSettings.displayStatus(e,o,t,v)==v.MOBILE?v.MOBILE:a(t)?v.TABLET:v.DESKTOP),n}function u(e,n,r,s,a){var c,u,h=v.UNKN,d=e.isSubscribed()||"true"==t.getQueryVarByName("SNSubscribed"),f=void 0===n.ShowCount?4:+n.ShowCount||99999,g="true"==n.ObeyDontShow,m=i.excludedOrIncludedFromThisReferral(n.includeExcludeReferral,n.includeExcludeReferrals,e.getReferral(),n),b=i.excludedOrIncludedOnThisPage(n.includeExclude,n.includeExcludeURLs,n),y=e.getEmail(n.CampaignId),k=e.getShowCount(n.CampaignId),S=i.isCorrectDomain(n.HostnamePunycode,n.Hostname,n),x=i.includeOnThisUTM(n.UTM,e,n.CampaignId,n);return u=y||k>=f||g&&d||!S||!b||!m||!x,(h=a||n.hiddenSleeknote||!u?l(n,a):v.IGNORE)<=v.IGNORE?(e.cleanShowCount(n.CampaignId),void w("sleeknote ignored",n.CampaignId,"email:",y,"show:",k,f,"obey:",g,"subscribed:",d)):(c={profile:h,campaignId:n.CampaignId,hostname:n.Hostname,wait:"exit"==n.ShowSleekNoteAfter?0:e.isSessionClosed(n.CampaignId)?0:+n.ShowSleekNoteAfter,exit:!e.isSessionClosed(n.CampaignId)&&"exit"==n.ShowSleekNoteAfter,hidden:n.hiddenSleeknote,type:n.SleeknoteType,showCount:f,splitTestId:n.SplitTestId,customerId:n.CustomerId,version:1,successLandingPage:n.SuccessLandingPage,successAction:n.SuccessAction,piwikSiteId:o.SleeknotePiwikSiteId||n.CustomerId},a&&(w('ignoring the rules for "'+n.CampaignId+'" use t() to activate'),c.hidden=!0),c.hidden&&!u&&(c.wait=0),0===c.delay&&(c.delay=1),c.hidden&&u&&(c.delay=0,c.exit=!1,c.wait=0),p(c,n,r,s))}function h(e){return e==v.MOBILE?1:0}function d(e,t,i,n){var o=i[e];return Array.isArray(o)&&(o=o[h(n)]),void 0===o&&(o=t),o}function f(n,r,a,c,u){function h(e,t){for(var i=r.rules.triggers.length;i--;)if(r.rules.triggers[i].type==e)return r.rules.triggers[i].value;return t}var f,g={options:r.advOptions||[],profile:l(r,u),campaignId:r.CampaignId,wait:0,exit:!1,hidden:!0,type:r.SleeknoteType,customerId:r.CustomerId,summaryId:r.summaryId,piwikSiteId:o.SleeknotePiwikSiteId||r.CustomerId,smartIndex:r.smartIndex,version:+r.Version||2,hostname:r.Hostname};if(g.version<4&&(g.successAction=d("SuccessAction",void 0,r,g.profile),g.successLandingPage=d("SuccessLandingPage",void 0,r,g.profile)),u)g=t.extend(g,{hidden:!o.editor&&!o.preview}),w(g.campaignId,"ignoring the rules");else{w(g.campaignId,"START EVALUATING"),w(g.campaignId,"Location",y.location.toString()),e.is.phone&&w(g.campaignId,"realMobileSite",s());var m=i.isCorrectDomain(r.HostnamePunycode,r.Hostname,r),b=i.includeNote2(r,n),S=n.getEmail(g.campaignId);f=S||!m||!b||n.isSessionHidden(g.campaignId);try{"demoCampaignIds"in o.CustomInitSettings&&791==g.customerId&&o.CustomInitSettings.demoCampaignIds.some(function(e){return e==g.campaignId})&&(f=!1,w(g.campaignId,"Demo campaign always show"))}catch(e){}if(w(g.campaignId,"include",b),w(g.campaignId,"correctDomain",m),w(g.campaignId,"isSessionHidden",n.isSessionHidden(g.campaignId)),S&&w(g.campaignId,"email",S),w(g.campaignId,"doNotShow",f),h(4,!1)||h(5,!1)||h(6,!1)?m?i.isAnyConditions2(r)&&!b?(w(g.campaignId,"manual and ignored",!0),g.profile=v.IGNORE):g.profile=l(r,u):g.profile=v.IGNORE:f&&(g.profile=v.IGNORE),w(g.campaignId,"profile",["ZERO?","UNKN","IGNORE","DESKTOP","TABLET","MOBILE"][g.profile]),g.profile<=v.IGNORE)return n.cleanShowCount(g.campaignId),void w(g.campaignId,"REJECTED");w(g.campaignId,"INCLUDED");var x=0===h(1,void 0)?-1:h(1,0);if(g=t.extend(g,{hostname:r.Hostname,wait:n.isSessionClosed(r.CampaignId)?0:1e3*x,exit:!n.isSessionClosed(r.CampaignId)&&h(3,!1),scroll:!n.isSessionClosed(r.CampaignId)&&h(2,0),hidden:h(4,!1),onClick:h(5,!1),siteData:h(6,!1),splitTestId:r.SplitTestId}),g.onClick){try{g.onClick=JSON.parse(g.onClick),g.onClick.selector=(g.onClick.classes||[]).reduce(function(e,t){try{k.body.querySelector("."+t.value)&&e.push("."+t.value)}catch(e){}return e},[]).concat((g.onClick.ids||[]).reduce(function(e,t){try{k.body.querySelector("#"+t.value)&&e.push("#"+t.value)}catch(e){}return e},[])).join(",");k.body.querySelectorAll(g.onClick.selector).length||(g.onClick=!1)}catch(e){g.onClick=!1}f&&(g.hidden=!0)}g.siteData&&f&&(g.hidden=!0),(g.hidden||f)&&(g.wait=0,g.exit=!1,g.scroll=0)}return p(g,r,a,c)}function g(e){return(~e.indexOf("http://")||~e.indexOf("https://")?"":"//")+e}function m(e){return t.contains(e,b.HELLO,b.HELLO2)}function p(e,i,n,r){var s=function(t,n){return d(t,n,i,e.profile)},a=+s("BoxAndBarAlignment",b.POPUP),c=s("placement");if(m(a)&&(e.wait=0,e.exit=!1,e.scroll=0),a==b.POPUP&&(a=e.profile==v.MOBILE?b.SLIDEUP:b.POPUP2),e.profile!=v.TABLET||m(a)||(a=a==b.BOTTOM_LEFT?b.POPUP7:a==b.BOTTOM_RIGHT?b.POPUP9:b.POPUP5),e.profile==v.MOBILE&&(a<=b.BOTTOM_RIGHT||a==b.POPUP2)&&(a=b.SLIDEUP),e.version<=3){i.steps={form:{type:"form",teaser:"teaser"}};var l=s("ShowTeaser");l||!1===l||(l=!0),e.profile==v.MOBILE&&e.version<3&&(l=!1),a==b.POPUP&&e.version<3&&(l=!1),(m(a)||1==e.version&&a==b.POPUP2)&&(l=!1),l&&(i.steps.teaser={type:"teaser",form:"form"}),"SuccessStep"==e.successAction?(i.steps.success={type:"success"},i.steps.form.success="success"):"redirect"==e.successAction&&e.successLandingPage?i.steps.form.redirect=e.successLandingPage:delete i.steps.success,delete e.successAction,delete e.successLandingPage}o.tabletUsesMobile=!1,e.position=a;var u=e.profile==v.MOBILE;e.version>3?e.url=u?i.SleekNoteMobileURL:i.SleekNoteDesktopURL:e.version>2&&u?e.url={toggler:i.SleekNoteMobileURL,teaser:i.SleekNoteMobileTeaserURL}:e.url={toggler:i.SleekNoteDesktopURL,teaser:i.SleekNoteDesktopTeaserURL};var f=e.version>3?i.steps[h(e.profile)]:i.steps;e.steps={};var p=Object.keys(f).filter(function(e){return"teaser"==f[e].type}).length;e.profile==v.MOBILE&&p&&(e.wait=0),Object.keys(f).forEach(function(n){var r=t.extend({},f[n],{name:n,mobile:e.profile==v.MOBILE,campaignId:e.campaignId,customerId:e.customerId,summaryId:e.summaryId,version:e.version,position:a,placement:c,profile:e.profile,noteType:e.type});if("string"==t.typeStr(r.redirect)&&(r.redirect=g(r.redirect)),"redirectWaitTime"in o.CustomInitSettings&&r.redirect&&(r.customRedirectWaitTime=o.CustomInitSettings.redirectWaitTime),e.version>3?r.id="#"+t.stepId(n):r.id="teaser"==r.type?"#sleeknoteMinified":"form"==r.type?"#sleeknoteBox":"#sleeknoteSuccess",1==e.version)switch(n){case"teaser":r.height1=+i.SleeknoteTeaserHeight,r.width1=+i.SleeknoteTeaserWidth;break;case"form":r.height1=+i.SleeknoteBoxHeight,r.width1=+i.SleeknoteBoxWidth;break;case"success":r.height1=+i.SleeknoteSuccessHeight,r.width1=+i.SleeknoteSuccessWidth}e.profile,v.TABLET,e.profile==v.MOBILE&&(r.botData=i.bot),e.profile==v.DESKTOP&&(r.relativeWidth=0),t.contains(r.type,"teaser")&&(e.profile,v.TABLET,e.profile==v.DESKTOP&&(r.relativeWidth=0)),e.steps[n]=r});var k=[];return Object.keys(e.steps).forEach(function(t){var n=e.steps[t];["form","teaser","success"].forEach(function(t){t in n?e.steps[n[t]]||delete n[t]:("form"==t&&"teaser"==n.type&&(n.form="form"),"teaser"==t&&"form"==n.type&&"teaser"in e.steps&&(n.teaser="teaser"),"success"==t&&"form"==n.type&&"success"in e.steps&&(n.success="success"))}),"form"==n.type&&k.push(t),n.timeZoneOffset=i.timeZoneOffset,n.timeZone=i.timeZone,n.locale=i.locale||(y.navigator.userLanguage||y.navigator.language).split("-")[0]}),2==k.length&&e.steps[k[0]].success==e.steps[k[1]].success&&(e.steps[k[0]].success=k[1]),e.splitTestId&&(n[e.splitTestId]||(n[e.splitTestId]=[]),n[e.splitTestId].push(r)),e}var v=r.PROFILE,b=r.POS,y=this,k=y.document,w=o.debug?function(e,t,i){"string"==typeof e&&(e=e.split("-")[0]),i===Boolean(i)&&(i=i?"YES":"NO"),0===(t+"").indexOf("START")&&(e="\n"+e),void 0!==i&&(t+=": "+i),console.log.call(console,e,t)}:function(){};return c}(e,t,L,D,o,l),R=function(e,t,i,n,o,r){function s(e,t){this.manager=t,this.config=r.defaults("badge",{profile:t.profile,width:a,height:c})}var a=76,c=20;return s.prototype={dimensions:function(){return this.config},insert:function(e){this.config.DOMNode||(this.config.DOMNode=o.insert("badge",this.config,"sleeknote-badge",""))},remove:function(){this.config.DOMNode&&t.removeNode(this.config.DOMNode)},setLayout:function(){if(this.config.DOMNode){var e=o.getFrameScale();i.set(o.doc(this.config.DOMNode).documentElement,{position:"relative",top:0,left:0,height:100/e+"%",transform:"scale("+e+")",transformOrigin:[0,0],width:100/e+"%"})}},reposition:function(e){var t=r.needs.badge(e)?"open":"close";o.css(this.config,"DOMNode",o.createPositionStyles(r.boxParameters(this,t),"to")),this.setLayout(),this.config.current=t},createHTML:function(){o.doc(this.config.DOMNode).documentElement.innerHTML=t.template('<style>* {padding:0;margin:0} .sleeknote-badge {opacity:0.5;display:block;background-color:white;z-ndex:1000000;width:{width}px;height:{height}px;} .sleeknote-badge:hover {opacity:1}</style><body><a href="{href}" target="_blank" class="sleeknote-badge">{svg}<a>',{width:this.config.width,height:this.config.height,href:t.template("//sleeknote.com/?utm_source=Badge&utm_medium={medium}&utm_campaign={hostname}",{medium:this.config.medium,hostname:this.config.hostname}),
svg:t.template('<svg width="{width}px" xmlns="http://www.w3.org/2000/svg" height="{height}px"><path d="m26.514 12.038c0.175 0.339 0.489 0.544 0.851 0.639 0.345 0.089 0.702 0.091 1.053 0.042 0.16-0.025 0.31-0.069 0.451-0.137 0.14-0.068 0.256-0.159 0.35-0.276 0.202-0.255 0.193-0.689-0.045-0.92-0.305-0.298-0.767-0.417-1.167-0.513-0.254-0.061-0.511-0.127-0.771-0.2-0.268-0.067-0.528-0.149-0.782-0.247s-0.481-0.223-0.682-0.377c-0.2-0.154-0.362-0.347-0.486-0.578-0.456-0.853-0.089-1.942 0.667-2.479 0.254-0.181 0.541-0.314 0.862-0.402 0.664-0.18 1.372-0.167 2.038-0.005 0.343 0.084 0.648 0.22 0.917 0.407 0.267 0.188 0.479 0.428 0.636 0.719 0.157 0.292 0.235 0.646 0.235 1.062h-1.521c-0.014-0.215-0.059-0.393-0.136-0.534-0.077-0.14-0.179-0.251-0.306-0.331-0.126-0.081-0.271-0.139-0.435-0.171-0.297-0.062-0.619-0.073-0.917-0.011-0.126 0.027-0.242 0.074-0.346 0.141-0.103 0.066-0.189 0.15-0.255 0.251-0.13 0.195-0.145 0.521-0.02 0.724 0.053 0.088 0.158 0.168 0.315 0.241 0.157 0.074 0.373 0.147 0.651 0.222 0.277 0.073 0.64 0.167 1.087 0.281 0.133 0.026 0.319 0.075 0.556 0.146 0.236 0.07 0.473 0.183 0.706 0.337 0.234 0.154 0.437 0.36 0.606 0.618 0.357 0.544 0.322 1.331 0.065 1.905-0.126 0.281-0.315 0.524-0.566 0.729-0.25 0.205-0.561 0.364-0.931 0.478-0.771 0.239-1.657 0.231-2.434 0.024-0.371-0.096-0.699-0.25-0.982-0.456-0.285-0.209-0.51-0.473-0.677-0.795s-0.247-0.705-0.241-1.146h1.523c0 0.241 0.044 0.446 0.131 0.612m6.575-5.408h-1.422v7.178h1.422v-7.178zm2.546 5.932c-0.214-0.208-0.331-0.543-0.351-1.006h3.736c0.027-0.402-0.006-0.788-0.1-1.156-0.092-0.369-0.245-0.697-0.454-0.985-0.211-0.288-0.48-0.519-0.807-0.689-0.664-0.346-1.548-0.343-2.229-0.045-1.378 0.598-1.89 2.276-1.383 3.638 0.123 0.337 0.298 0.624 0.526 0.866 0.227 0.242 0.504 0.428 0.831 0.56 0.814 0.321 1.862 0.274 2.605-0.206 0.414-0.27 0.721-0.715 0.92-1.337h-1.25c-0.047 0.159-0.174 0.312-0.381 0.456-0.463 0.322-1.248 0.304-1.663-0.096m1.609-2.735c0.169 0.188 0.289 0.462 0.354 0.824h-2.313c0.007-0.101 0.027-0.215 0.064-0.342s0.1-0.248 0.19-0.361c0.09-0.114 0.21-0.21 0.361-0.286 0.15-0.078 0.339-0.116 0.566-0.116 0.347 0 0.607 0.094 0.778 0.281m4.065 2.735c-0.217-0.208-0.332-0.543-0.35-1.006h3.734c0.027-0.402-0.006-0.788-0.1-1.156-0.096-0.369-0.246-0.697-0.455-0.985-0.211-0.288-0.48-0.519-0.809-0.689-0.663-0.348-1.548-0.342-2.229-0.045-0.322 0.141-0.604 0.334-0.836 0.578-0.234 0.245-0.414 0.534-0.539 0.869-0.264 0.687-0.259 1.501-0.008 2.19 0.123 0.337 0.301 0.624 0.527 0.866 0.225 0.242 0.504 0.428 0.83 0.56 0.815 0.322 1.863 0.272 2.607-0.206 0.412-0.27 0.719-0.715 0.92-1.337h-1.251c-0.047 0.159-0.174 0.312-0.379 0.456-0.461 0.322-1.248 0.306-1.662-0.095m1.607-2.735c0.168 0.188 0.289 0.462 0.355 0.824h-2.312c0.004-0.101 0.025-0.215 0.062-0.342s0.1-0.248 0.189-0.361c0.092-0.114 0.213-0.21 0.361-0.286 0.15-0.078 0.338-0.116 0.566-0.116 0.349 0 0.609 0.094 0.779 0.281m2.58-3.197v7.178h1.422v-1.79l0.553-0.532 1.422 2.322h1.725l-2.174-3.287 1.953-1.91h-1.684l-1.795 1.87v-3.851h-1.422zm5.588 1.98v5.197h1.422v-2.725c0-0.529 0.088-0.909 0.26-1.141 0.324-0.427 1.24-0.522 1.555-0.03 0.133 0.211 0.199 0.532 0.199 0.961v2.935h1.424v-3.196c0-0.322-0.029-0.614-0.084-0.88-0.059-0.265-0.156-0.49-0.295-0.674-0.143-0.185-0.334-0.328-0.578-0.433-0.559-0.241-1.272-0.212-1.816 0.051-0.289 0.137-0.521 0.356-0.703 0.658h-0.029v-0.723h-1.355zm5.818 1.473c-0.263 0.702-0.265 1.556 0 2.258 0.127 0.335 0.309 0.62 0.541 0.86 0.234 0.237 0.516 0.419 0.844 0.547 0.689 0.267 1.52 0.262 2.209 0 0.33-0.128 0.611-0.31 0.846-0.547 0.234-0.24 0.414-0.525 0.543-0.86 0.262-0.704 0.26-1.553 0-2.258-0.129-0.339-0.309-0.626-0.543-0.864-0.234-0.237-0.516-0.423-0.846-0.553-0.685-0.27-1.525-0.274-2.209 0-0.328 0.13-0.609 0.315-0.844 0.553-0.232 0.238-0.414 0.526-0.541 0.864m1.295 1.739c-0.084-0.401-0.082-0.819 0-1.221 0.039-0.201 0.107-0.379 0.205-0.533 0.096-0.154 0.225-0.279 0.385-0.377 0.341-0.206 0.866-0.204 1.207 0 0.162 0.098 0.295 0.223 0.391 0.377s0.166 0.332 0.205 0.533c0.082 0.401 0.084 0.819 0 1.221-0.039 0.198-0.109 0.376-0.205 0.534-0.096 0.157-0.229 0.282-0.391 0.377-0.345 0.195-0.862 0.197-1.207 0-0.16-0.095-0.289-0.22-0.385-0.377-0.097-0.158-0.166-0.335-0.205-0.534m6.397-3.212v-1.557h-1.422v1.557h-0.861v0.955h0.861v3.065c0 0.263 0.045 0.474 0.131 0.636 0.086 0.16 0.205 0.283 0.355 0.371 0.15 0.089 0.324 0.146 0.521 0.177 0.351 0.05 0.704 0.048 1.057 0.034 0.146-0.007 0.281-0.02 0.4-0.04v-1.106c-0.066 0.016-0.137 0.023-0.209 0.031-0.213 0.017-0.545 0.055-0.715-0.111-0.078-0.082-0.119-0.241-0.119-0.483v-2.574h1.043v-0.955h-1.042zm3.094 3.952c-0.215-0.208-0.334-0.543-0.352-1.006h3.736c0.027-0.402-0.006-0.788-0.1-1.156-0.096-0.369-0.248-0.697-0.455-0.985-0.211-0.288-0.48-0.519-0.809-0.689-0.663-0.347-1.546-0.342-2.227-0.045-1.378 0.598-1.894 2.276-1.383 3.638 0.123 0.337 0.297 0.624 0.525 0.866 0.227 0.242 0.504 0.428 0.83 0.56 0.815 0.32 1.861 0.274 2.605-0.206 0.412-0.27 0.723-0.715 0.922-1.337h-1.254c-0.045 0.159-0.172 0.312-0.379 0.456-0.458 0.321-1.245 0.305-1.659-0.096m1.607-2.735c0.17 0.188 0.289 0.462 0.355 0.824h-2.314c0.006-0.101 0.027-0.215 0.064-0.342s0.1-0.248 0.189-0.361c0.09-0.114 0.211-0.21 0.361-0.286 0.15-0.078 0.338-0.116 0.566-0.116 0.347 0 0.609 0.094 0.779 0.281" fill="#464647"/><path d="m15.895 4.941h-5.643c-2.789 0-5.049 2.269-5.049 5.059 0 2.791 2.26 5.059 5.049 5.059h10.733v-5.141c-0.001-2.79-2.303-4.977-5.09-4.977m-0.446 8.995h-4.751c-2.351 0-4.256-1.775-4.256-3.936s1.905-3.935 4.256-3.935h4.751c2.351 0 4.256 1.721 4.256 3.882 0 1.07-0.466 2.074-1.223 2.781-0.773 0.72-1.846 1.208-3.033 1.208m-0.41-1.877c0 0.504-0.409 0.913-0.911 0.913-0.503 0-0.912-0.409-0.912-0.913 0-0.028 0.001-0.058 0.005-0.086l-1.57-1.13c-0.11 0.048-0.232 0.074-0.36 0.074-0.503 0-0.912-0.408-0.912-0.911 0-0.504 0.408-0.912 0.912-0.912 0.104 0 0.204 0.018 0.297 0.051l1.635-1.209c-0.005-0.036-0.008-0.07-0.008-0.106 0-0.504 0.408-0.912 0.911-0.912s0.911 0.409 0.911 0.912c0 0.504-0.408 0.912-0.911 0.912-0.114 0-0.223-0.021-0.324-0.061l-1.612 1.193c0.006 0.043 0.01 0.087 0.01 0.133 0 0.021-0.001 0.043-0.003 0.065l1.585 1.144c0.106-0.044 0.222-0.067 0.343-0.067 0.505-0.003 0.914 0.408 0.914 0.91z" fill="#464647"/></svg>',this.config)})},mergeConfigs:function(e){e&&(this.config.campaignId=e.config.campaignId,this.config.noteType=e.config.noteType,this.config.position=e.config.position)},prepare:function(e,t){var i=this.config.current;return this.mergeConfigs(t),e==i?void("open"==this.config.current&&this.createHTML()):(this.insert(),"close"==i&&this.createHTML(),this.config.next=e,this.params=r.animationParameters(this,i,e),o.createMotion(this.params,function(e,t,i){t&&this.setLayout(),o.css(this.config,"DOMNode",e),i&&(this.config.current=this.config.next)}.bind(this)))}},s}(0,t,r,0,f,d),_=function(e,t,i,n,o,r,s){function a(e,t){this.manager=t,this.config=s.defaults("cover",{profile:t.profile})}return a.prototype={dimensions:function(){return this.config.width=[101/n.getFrameScale()+"vw"],this.config.height=[101/n.getFrameScale()+"vh"],this.config},insert:function(){this.config.DOMNode||(this.config.DOMNode=n.insert("cover",this.config,"sleeknote-cover",'<style>html{cursor:pointer;background:radial-gradient(ellipse at center, rgba(0,0,0,0.1) 40%,rgba(0,0,0,0.6) 100%)}body:{margin:0}</style><div style="height:100vh" onclick="void(0)"></div>',{cursor:"pointer"}),this.removeListener=o.listen(n.doc(this.config.DOMNode),this.onClick.bind(this)))},remove:function(){this.config.DOMNode&&(this.removeListener(),t.removeNode(this.config.DOMNode))},onClick:function(e){var t=this.manager.showQueue.stopper;if(t){var i=t.controller.notes[t.noteName],n=i.doc.querySelectorAll("[data-sn-type=close], .sleeknoteMobileClose")[0];n&&i.onClick(n)}},after:function(){this.config.DOMNode&&"close"==this.config.current&&i.conceal(this.config.DOMNode)},reposition:function(e,t){var i=s.needs.cover(e)?"open":"close";n.css(this.config,"DOMNode",n.createPositionStyles(s.boxParameters(this,i),"to")),this.config.current=i,this.after()},prepare:function(e,t){var o=this.config.current;if(e!=o)return this.insert(),this.config.next=e,this.params=s.animationParameters(this,o,e),this.params.width,n.createMotion(this.params,function(e,t,o){n.css(this.config,"DOMNode",e),o&&(this.config.current=this.config.next,"close"==this.config.current&&i.conceal(this.config.DOMNode))}.bind(this))}},a}(0,t,r,f,b,0,d),H=function(e,t,i,n,o,r,s,a,c,l,u,h,d,f,g){function m(e){return c.CustomInitSettings&&c.CustomInitSettings[e]}function p(e,t,i){var n,o;for(n in e)if(e.hasOwnProperty(n)&&(o=e[n],!1===t.call(i||o,o,n)))break}function v(e){function i(e){var t=+new Date;b&&t-b<1e3||(y.clearTimeout(a),a=y.setTimeout(l,2e3),b=t)}if(this.name="NotesManager",this.controllers={},this.rawConfig=e,this.emulate=!1,(w||c.local)&&(y.notesManager=this),w)return this.tracker=new s,this.storage=d.create({useLocalStorage:!0,dummyStorage:!0}),this.idle=function(){return!0},this.showQueue=new o(this),this.addSleekNotes(!0),void(this.cover=new h(k.body,this));this.idle=this.idle.bind(this),this.showQueue=new o(this);var n=11;t.listener(k,"add",function(e){n=e.clientY})("mousemove"),t.listener(k.documentElement,"add",function(e){!e.relatedTarget&&n<10&&p(this.controllers,function(e,t){e.ifTrigger("exit")&&e.canBeLaunched()&&this.showQueue.now(e,"open","form")},this)}.bind(this),!0)("mouseout");var a,l=function(){b=0,p(this.controllers,function(e,t){e.ifTrigger("scroll")&&e.canBeLaunched()&&this.showQueue.push(e,"open","form")},this)}.bind(this);t.listener(y,"add",i,!0)("scroll"),this.historyListener,this.hashListener,this.urlPollerInterval,this.lastLocation=String(r.get(c)),this.triggerOnClick=this.triggerOnClick.bind(this),this.pollerFunc=function(){var e=r.reset(c);e.matches(this.lastLocation)||(this.resetSleekNotes(),this.lastLocation=String(e))}.bind(this),this.cover=new h(k.body,this),this.tracker=new s(c.CustomerId),this.storage=d.create(c.storageOptions),this.siteData=new g(this);var m=t.cleanUpReferral(k.referrer);!this.storage.getReferral()&&m.indexOf(r.get(c).host)<0&&this.storage.setReferral(m),"true"==t.getQueryVarByName("SNSubscribed")&&this.storage.setSubscription(),(c.local||c.reset)&&Array.isArray(this.rawConfig)&&"n"!=c.reset&&this.storage.forceResetSession(c.reset),this.rawConfig&&y.ADDWISH_PARTNER_NS&&this.rawConfig.forEach(function(e){var t=this.storage.getEmail(e.CampaignId);if(t){try{y.ADDWISH_PARTNER_NS.regEmail(t)}catch(e){}this.storage.setEmail(e.CampaignId,"",-1)}},this);var v=c.HideSleeknoteBadge;void 0===v&&(v=!0),!v&&c.CustomerId>=790&&(this.badge=new u(k.body,this)),this.addSleekNotes(c.reset>1);var S=this;f("load",function(e){if(t.contains(e,"reset","close","launch","open","status")||console.warn("Unsupported Sleeknote API call"),"status"==e){var i,n,o={campaigns:{},visible:{}};for(i in S.controllers)o.campaigns[i]={campaignId:i};for(i in S.showQueue.visibles)n=S.showQueue.visibles[i],o.visible[i]={campaignId:i,name:n.noteName};return o}try{return!!S.command.apply(S,arguments)}catch(e){console.warn("Error calling Sleeknote API",e)}})}var b,y=this,k=y.document,w=c.editor||c.preview,S=c.debugMessage("n");return v.prototype={get isEditor(){return!!w},idle:function(i){if(t.isEqual(e.getDocumentScale(c.CustomInitSettings.isRealMobileSite),1,.1)&&!e.isAddressBarVisible()){if(b){if(!i)return;if(i.fullScreen)return}return!0}},message:function(e){var i,n={};for(i in e)if(e.hasOwnProperty(i))if("origin"==i)n.origin=e.origin.name;else{if("next"==i)continue;n[i]=e[i]}switch(S(JSON.stringify(n)),e.type){case"after":"open"==e.action&&"form"==e.noteName&&this.onTogglerShow(e);break;case"aftersubmit":this.onSubmit(e);break;case"trackerCustomEvent":try{var o=y.dataLayer||y[c.CustomInitSettings.googleDataLayerObjectName];Array.isArray(o)&&o.push(t.extend(e.CustomEventData));var r=t.extend(e.CustomEventData);r.fieldData&&delete r.fieldData,delete r.SignupPage;var s=y.fbq||y[c.CustomInitSettings.fbqDataLayerObjectName];t.isFunction(s)&&s("trackCustom",e.CustomEventData.event,r)}catch(e){console.warn(e)}break;case"ready":"NoteController"==e.origin.name&&(w?c.editor.event&&c.editor.event("CORE.NOTES_READY",w.profile):(this.launchController(e.origin),f("ready",e)));break;case"close":this.onClose(e),this.userInteraction(e);break;case"step":this.onStepChange(e),this.userInteraction(e);break;case"trackevent":this.trackEvent(e);break;case"open":case"maximize":case"minimize":this.userInteraction(e)}},onTogglerShow:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.storage.incrementShowCount(t.id),this.storage.closeSession(t.id),l.PROFILE.MOBILE==t.config.profile&&!t.isHello&&this.storage.hideSession(t.id),this.tracker.shown(t.config)},onSubmit:function(e){var i=e.origin instanceof n?e.origin:e.origin.controller;e.email&&this.storage.setEmail(i.id,e.email),e.setShown&&this.storage.setShowCount(i.id,999999),e.setSubscription&&this.storage.setSubscription(),e.setEngaged&&this.storage.setEngaged(i.id);var o=i.type||i.config.type,r=this.storage.hasConvertSessionEvent(i.id);if(!t.contains(o,"promote","guide")&&e.isUserDefinedClick||t.contains(o,"promote","guide")&&this.storage.hasConvertSessionEvent(i.id)&&e.mimirEvent)return S("trackEventSkip",e.source,o,this.storage.hasConvertSessionEvent(i.id),e.mimirEvent),void(e.next&&this.userInteraction(e.next));r&&i.getType("form").length>1&&(e.mimirEvent="substep_engaged"),e.customTrackerEvent&&this.tracker.customTrackerEvent(e.customTrackerEvent,i.id),e.mimirEvent&&this.tracker.event(e.mimirEvent,i.config,e.callback),e.mimirEvent&&this.storage.convertSessionEvent(i.id),e.next&&this.userInteraction(e.next)},onClose:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event("teaser"==e.noteName?"teaser_closed":"closed",t.config,e.callback)},onStepChange:function(e){if(e.isUserDefinedClick){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event("link_clicked",t.config,e.callback)}},trackEvent:function(e){var t=e.origin instanceof n?e.origin:e.origin.controller;this.tracker.event(e.eventName||"no_event_defined",t.config,e.callback),e.eventName||S("no event name",e)},userInteraction:function(e){var i=e.origin instanceof n?e.origin:e.origin.controller;switch(i.config.smartIndex=0,e.type){case"step":"hideBox"==e.step?this.command("close",i.id):this.command("reveal",i.id,e.step);break;case"open":this.showQueue.now(i,"open",e.noteName),i.tameTriggers();break;case"close":t.contains(e.origin.config.type,"teaser","form")&&(this.storage.incrementShowCount(i.id),this.storage.hideSession(i.id),"teaser"==e.origin.config.type&&i.tameTeaser()),this.showQueue.closeIf(i);break;case"maximize":case"minimize":this.command(e.type,i.id,e.noteName)}},applyConfig:function(e,i,n){var o=this.controllers[e];if(o){var r=n?[n]:Object.keys(o.notes),s=this.rawConfig.filter(function(t){return t.CampaignId==e}),c=a([t.extend(s[0],i)],this.storage,!0)[0];c&&(r.forEach(function(e){o.notes[e].applyConfig(c[e])},this),this.showQueue.repositionIf(o))}},addSleekNotes:function(e,i,n){i||(i=this.rawConfig);var o=a(i,this.storage,e)||[];if(this.prioritizedConfig=[],o.length>0){this.mode||(this.mode=l.PROFILE.MOBILE==o[0].profile?"sequential":m("notamanagermode")||"concurrent"),o.sort(function(e,i){var n=+t.getAdvOption({options:e.options},"note-priority",1)||0;return(+t.getAdvOption({options:i.options},"note-priority",1)||0)-n});var r=[];this.prioritizedConfig=o.filter(function(e){if(!e.hidden){var t=e.position;if(~r.indexOf(t)){if(e.onClick)return e.steps&&delete e.steps.teaser,e;if(!(e.exit&&r.indexOf(-1)<0))return;t=-1,e.steps&&delete e.steps.teaser}else e.exit&&e.steps&&!e.steps.teaser&&(t=-1);r.push(t)}return e}),this.prioritizedConfig.sort(function(e,t){function i(i){return e[i]&&t[i]?e[i]-t[i]:t[i]?1:e[i]?-1:void 0}var n;return void 0!==(n=i("scroll"))?n:void 0!==(n=i("wait"))?n:(n=i("exit"),void 0!==n?n:0)});for(var s=this.prioritizedConfig.length;s--;)this.createController(this.prioritizedConfig[s])}i.forEach(function(e){!this.urlPollerInterval&&t.getAdvOption({options:e.advOptions},"onepagesite",1)&&(this.urlPollerInterval=y.setInterval(this.pollerFunc,1e3))},this),n||this.destroyControllersNotPresent(this.prioritizedConfig)},createController:function(e){var t=e.campaignId;t in this.controllers||(this.controllers[t]=new n(this,e))},resetSleekNotes:function(e,t){this.addSleekNotes(e,t),this.showQueue.reset(Object.keys(this.controllers))},launchController:function(){var e,t;if(this.immediate)return this.triggerOnClick(this.immediate),this.immediate=void 0,void(this.prioritizedConfig=[]);if(this.prioritizedConfig.length)do{if(e=this.prioritizedConfig[0].campaignId,t=this.controllers[e],!t.config.ready)break;t.teaserExist&&!t.config.hidden&&t.canBeLaunched()&&this.showQueue.push(t,"open",t.getType("teaser")[0].config.name),t.launchTriggers(function(e,t){"timer"!=e&&"notification"!=e||!t.canBeLaunched()||this.showQueue.push(t,"open",t.getType("form")[0].config.name,!0)}.bind(this)),this.prioritizedConfig.splice(0,1)}while(this.prioritizedConfig.length)},destroyController:function(e,t){var i=this.controllers[e];i&&(delete this.controllers[e],this.showQueue.state(i)<2?i.destroy(t):this.showQueue.closeIf(i,function(){i.destroy(t)}))},destroyControllersNotPresent:function(e){for(var t=[],i=e.length;i--;)t.push(String(e[i].campaignId));var n;for(n in this.controllers)this.controllers.hasOwnProperty(n)&&t.indexOf(n)<0&&this.destroyController(n,!0)},triggerOnClick:function(e,t){var i=this.controllers[e];if(i){if(t&&this.storage.isSessionClosed(i.id))return;i.config.smartIndex=0}if(i&&!i.config.ready)this.immediate=i.id;else if(i||t)i?(i.tameTeaser(),i.processOpenTrigger("manual"),this.showQueue.now(i,"open","form",!0)):console.warn&&console.warn("can not show toggler onlyShowPreloaded:"+t+" id:",e);else for(var n=this.rawConfig.length;n--;)if(this.rawConfig[n].CampaignId==e){this.rawConfig[n].hiddenSleeknote=!0,this.rawConfig[n].SplitTestId="",this.addSleekNotes(!0,[this.rawConfig[n]],!0),this.triggerOnClick(e);break}},siteDataTriggerIf:function(){this.rawConfig.forEach(function(e){var t=e.rules.triggers.filter(function(e){return 6==e.type});t.length&&t[0].some(function(e){return this.siteDataStorage.matchSessionProperty(e.property,e.type,e.value)})&&this.triggerOnClick(e.CampaignId,!1)},this)},getFormCurrent:function(e){S("getFormCurrent");var t=this.controllers[e];return t&&t.notes.form.config.current},reposition:function(e){this.showQueue.repositionIf(void 0,e)},setConfig:function(e,t,i){e||(e=Object.keys(this.controllers)[0]);var n=this.controllers[e],o=n&&n.notes[t];o&&o.config.profile==l.PROFILE.MOBILE&&o.applyConfig(i)},switchEmulation:function(e){this.emulate=e},renderBot:function(e,t){var i=this.controllers[e];return i&&i.notes.form&&i.notes.form.renderBot(t)},command:function(e,t,i){var n=this.controllers[t];switch(e){case"hasCover":return this.cover&&"open"==this.cover.config.current;case"reset":var o;for(o in this.controllers)y.clearTimeout(this.controllers[o].timer);return this.showQueue.reset(t);case"add":return this.addSleekNotes(!1,t,!0);case"querySelectorAll":return n?n.querySelectorAll(i):[];case"purpose":return void("editor"==t?(c.editor=!0,c.preview=!1):"preview"==t&&(c.editor=!1,c.preview=!0));case"close":if(n)return this.showQueue.closeIf(n,i)}if(t||(t=Object.keys(this.controllers)[0]),n=this.controllers[t]){var r=n.notes[i];switch(e){case"callExternal":return r&&r.callExternal.apply(r,Array.prototype.slice.call(arguments,3));case"trigger":case"launch":this.triggerOnClick(t,i);break;case"visibility":return n.setVisibility(i,arguments[3]),!0;case"open":case"reveal":return r&&this.showQueue.now(n,e,i),!0;case"maximize":case"minimize":if(!i){var t=n.config.campaignId;t in this.showQueue.visibles&&(i=this.showQueue.visibles[t].noteName)}return r=n.notes[i],r&&this.showQueue.now(n,e,i),!0;case"close":return this.showQueue.closeIf(n),!0;case"current":return r&&r.config.current;case"dimensions":return r?r.dimensions():{};case"hasToggle":return r&&r.toggleDivider();case"position":return this.setConfig(t,i,{position:arguments[3]})}}}},v}(e,t,0,C,I,w,M,B,o,l,R,_,N,S,A),F=function(e){function t(){var e=0;return h?(e=parseInt(h[v],10),(isNaN(e)||e<0)&&(e=(new Date).getTime())):e=y,e}function i(){return h?+h[v]||0:y}function n(e){h?h[v]=e:y=e}function o(){b&&(d.clearInterval(b),b=0,m&&m())}function r(){p&&p(),b||(b=d.setInterval(c,k))}function s(){b||(p&&p(),b=d.setInterval(c,k))}function a(e){switch(e){case"newSession":r();break;case"newSessionIf":s();break;case"endSession":o();break;case"restartSession":o(),r()}n((new Date).getTime())}function c(){l("interval")}function l(e,i){var n=(new Date).getTime(),o=t(),r=Math.floor((n-o)/1e3);if(r<=0&&(r=0),r>=g)switch(e){case"start":case"activity":a("restartSession");break;case"interval":a("endSession")}else switch(e){case"activity":a("newSessionIf");break;case"start":a(i?"newSession":"newSessionIf")}}function u(){try{h=d.localStorage}catch(e){}}var h,d=this,f=d.document,g=1800,m=null,p=null,v="sn_global_countdown_last_reset_timestamp",b=0,y=0,k=6e4,w=e.throttle(6e4,function(){l("activity")});return u.prototype={start:function(t,n,o){var r=!i();y=(new Date).getTime(),e.listener(f,"add",w)("click")("mousemove")("keypress"),e.listener(d,"add",w)("load"),g=60*t,m=n,p=o,b=d.setInterval(c,k),l("start",r)}},u}(t),function(e,t,i,n,o,r,s){function a(e){return t.CustomInitSettings&&t.CustomInitSettings[e]}var c=this,l=c.document;Array.prototype.toJSON&&delete Array.prototype.toJSON;var u=r.create({useLocalStorage:!1});if((new o).start(30,function(){u.endSessionTime()},function(){u.startSessionTime()}),e.is.quirks&&console.warn("This web-page runs in Quirks Mode (usually that means DOCTYPE is missing), therefore sleeknotes may not shown correctly."),e.is.other||e.is.ie&&e.is.version<(a("ie")||11))return void console.warn("This browser is not supported by Sleeknote.");if(!Array.isArray(t.SleekNotes)||!t.SleekNotes.length)return void console.warn("nothing to do");c.sleeknoteSiteData||(c.sleeknoteSiteData=[]),this.SleekNote.addSiteData=function(e,t){var i={};i[e]=t,c.sleeknoteSiteData.push(i)};var h,d=+new Date,f=function(){s.initialize(),h=new n(t.SleekNotes),this.SleekNote.triggerOnclick=this.SleekNote.triggerOnClick=h.triggerOnClick,this.SleekNote.triggerOnClick=h.triggerOnClick,t.debug&&(this.q=h.showQueue,this.t=h.triggerOnClick,this.n=h)}.bind(this),g=t.SleekNotes.some(function(e){return e&&e.rules&&e.rules.groups&&e.rules.groups.some(function(e){return e.conditions&&e.conditions.some(function(e){return e&&11==e.type})})}),m=u.getGeoInfo(),p=!1;g&&!m&&(p=!0,i.httpRequest("GET","https://workers-203821.appspot.com/geo/api/v1.0/getJSON?getgeoids",void 0,function(e){try{var t=JSON.parse(e.response)}catch(e){return}t.geoname_id_list&&u.setGeoInfo({lt:t.location.latitude,lg:t.location.longitude,gi:t.geoname_id_list})},function(e){}));var v=function(){if((!a("loading")||a("loading")())&&l.body.clientWidth)return!p||void 0!==u.getGeoInfo()},b=function(){v()||+new Date-d>1e4?f():this.setTimeout(b,100)}.bind(this);this.setTimeout(b,100)}(e,o,t,H,F,N,f)}();